/*! For license information please see aladin.js.LICENSE.txt */
(()=>{var e,t,n,i,a,o,r={338:function(e){e.exports=function(){"use strict";function e(e){var t,n,i=document,a=e.container||i.createElement("div"),o=a.style,r=navigator.userAgent,l=~r.indexOf("Firefox")&&~r.indexOf("Mobile"),s=e.debounceWaitMs||0,c=e.preventSubmit||!1,u=e.disableAutoSelect||!1,d=l?"input":"keyup",f=[],p="",h=2,m=e.showOnFocus,v=0;if(void 0!==e.minLength&&(h=e.minLength),!e.input)throw new Error("input undefined");var _=e.input;function x(){var e=a.parentNode;e&&e.removeChild(a)}function y(){n&&window.clearTimeout(n)}function g(){a.parentNode||i.body.appendChild(a)}function b(){return!!a.parentNode}function w(){v++,f=[],p="",t=void 0,x()}function S(){if(b()){o.height="auto",o.width=_.offsetWidth+"px";var t,n=0;r(),r(),e.customize&&t&&e.customize(_,t,a,n)}function r(){var e=i.documentElement,a=e.clientTop||i.body.clientTop||0,r=e.clientLeft||i.body.clientLeft||0,l=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft,c=(t=_.getBoundingClientRect()).top+_.offsetHeight+l-a,u=t.left+s-r;o.top=c+"px",o.left=u+"px",(n=window.innerHeight-(t.top+_.offsetHeight))<0&&(n=0),o.top=c+"px",o.bottom="",o.left=u+"px",o.maxHeight=n+"px"}}function A(){for(;a.firstChild;)a.removeChild(a.firstChild);var n=function(e,t){var n=i.createElement("div");return n.textContent=e.label||"",n};e.render&&(n=e.render);var o=function(e,t){var n=i.createElement("div");return n.textContent=e,n};e.renderGroup&&(o=e.renderGroup);var r=i.createDocumentFragment(),l="#9?$";if(f.forEach((function(i){if(i.group&&i.group!==l){l=i.group;var a=o(i.group,p);a&&(a.className+=" group",r.appendChild(a))}var s=n(i,p);s&&(s.addEventListener("click",(function(t){e.onSelect(i,_),w(),t.preventDefault(),t.stopPropagation()})),i===t&&(s.className+=" selected"),r.appendChild(s))})),a.appendChild(r),f.length<1){if(!e.emptyMsg)return void w();var s=i.createElement("div");s.className="empty",s.textContent=e.emptyMsg,a.appendChild(s)}g(),S(),D()}function C(){b()&&A()}function I(){C()}function k(e){e.target!==a?C():e.preventDefault()}function T(t){for(var n=t.which||t.keyCode||0,i=0,a=e.keysToIgnore||[38,13,27,39,37,16,17,18,20,91,9];i<a.length;i++)if(n===a[i])return;n>=112&&n<=123&&!e.keysToIgnore||40===n&&b()||P(0)}function D(){var e=a.getElementsByClassName("selected");if(e.length>0){var t=e[0],n=t.previousElementSibling;if(n&&-1!==n.className.indexOf("group")&&!n.previousElementSibling&&(t=n),t.offsetTop<a.scrollTop)a.scrollTop=t.offsetTop;else{var i=t.offsetTop+t.offsetHeight,o=a.scrollTop+a.offsetHeight;i>o&&(a.scrollTop+=i-o)}}}function R(){if(f.length<1)t=void 0;else if(t===f[0])t=f[f.length-1];else for(var e=f.length-1;e>0;e--)if(t===f[e]||1===e){t=f[e-1];break}}function E(){if(f.length<1&&(t=void 0),t&&t!==f[f.length-1]){for(var e=0;e<f.length-1;e++)if(t===f[e]){t=f[e+1];break}}else t=f[0]}function z(n){var i=n.which||n.keyCode||0;if(38===i||40===i||27===i){var a=b();if(27===i)w();else{if(!a||f.length<1)return;38===i?R():E(),A()}return n.preventDefault(),void(a&&n.stopPropagation())}13===i&&(t&&(e.onSelect(t,_),w()),c&&n.preventDefault())}function O(){m&&P(1)}function P(i){var a=++v,o=_.value,r=_.selectionStart||0;o.length>=h||1===i?(y(),n=window.setTimeout((function(){e.fetch(o,(function(e){v===a&&e&&(p=o,t=(f=e).length<1||u?void 0:f[0],A())}),i,r)}),0===i?s:0)):w()}function L(){setTimeout((function(){i.activeElement!==_&&w()}),200)}function M(){_.removeEventListener("focus",O),_.removeEventListener("keydown",z),_.removeEventListener(d,T),_.removeEventListener("blur",L),window.removeEventListener("resize",I),i.removeEventListener("scroll",k,!0),y(),w()}return a.className="autocomplete "+(e.className||""),o.position="absolute",a.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),a.addEventListener("focus",(function(){return _.focus()})),_.addEventListener("keydown",z),_.addEventListener(d,T),_.addEventListener("blur",L),_.addEventListener("focus",O),window.addEventListener("resize",I),i.addEventListener("scroll",k,!0),{destroy:M}}return e}()},756:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var i=function(){var e={curIdx:0,colors:["#ff0000","#0000ff","#99cc00","#ffff00","#000066","#00ffff","#9900cc","#0099cc","#cc9900","#cc0099","#00cc99","#663333","#ffcc9a","#ff9acc","#ccff33","#660000","#ffcc33","#ff00ff","#00ff00","#ffffff"],standardizedColors:{},getNextColor:function(){var t=e.colors[e.curIdx%e.colors.length];return e.curIdx++,t},getLabelColorForBackground:function(e){var t="#111",n=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(null==n)return t;return 1-(.299*parseInt(n[1])+.587*parseInt(n[2])+.114*parseInt(n[3]))/255<.5?t:"#eee"},hexToRgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgbToHex:function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},standardizeColor:function(t){if(t.match(/^#?[0-9A-Fa-f]{6}$/)||t.match(/^#?[0-9A-Fa-f]{3}$/))return t;if(!e.standardizedColors[t]){var n=document.createElement("canvas").getContext("2d");n.fillStyle=t;var i=n.fillStyle;e.standardizedColors[t]=i}return e.standardizedColors[t]}};return e}()},724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(645),a=n.n(i)()((function(e){return e[1]}));a.push([e.id,".aladin-container {\n\tposition: relative;\n\tborder: 1px solid #ddd;\n    height: 100%;\n    /*overflow: hidden;*/\n}\n\n\n.aladin-imageCanvas {\n\tposition: absolute;\n    z-index: 1;\n\tleft: 0;\n\ttop: 0;\n}\n\n.aladin-catalogCanvas {\n    position: absolute;\n    z-index: 2;\n    left: 0;\n    top: 0;\n}\n\n.aladin-logo-container {\n    position: absolute;\n\tbottom: 2px;\n    right: 5px;\n\tz-index: 20;\n\n    min-width: 32px;\n    max-width: 90px;\n}\n\n.aladin-logo-small {\n    padding: 0;\n\tbackground: url(data:image/gif;base64,R0lGODlhIAAgAJEAAJIsLdEwJAdMmP///yH5BAkAAAMALAAAAAAgACAAAAjMAAcIHEiwoMGDCBMqXMiwocOHECMaFCCxYkKKAAoK2MiRo0UBAEKKFOkxYUaCIEMSHBlyo0OQCke6HHDyJEWBKgcG2MlzoEyFMAXyHNqTZsubNFGeHLDT4FCcLREGZUqwaFGRUk82FfqUaQCoSH0OCLqVqlCuX42u9Kl1a1qzXnGGVaozLdG6cpMWxOrVblm4AOYOTNn2L1efYZdu5Eu0cV6cE0fW7QqV4WK+CAMLPnhZMtvAEDmy/CkWMtCOHVFaXC2VtevXsGPLZhgQADs=);\n    background-size: 100%;\n    background-repeat: no-repeat;\n    padding-top: 100%; /* aspect ratio of the background image */\n}\n\n.aladin-logo-large {\n    padding: 0;\n    background:  url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI4AAABTCAMAAAB+g8/LAAACx1BMVEVMaXGBYYSWk5i7ur1fGUW0Fzbi4OP////Qz9K2s7f////qyseffX7TxczMytBXU1ndrahOWXi0o7RaH0v///+1GjfYkY29srb///+1GTe0Fzajn6RgFkFdHkni3+GLV3PU0dXMubr6+vpmIktUJVKiGDqGcX7p5ujLwMJgFkFgFkFNOWnp1tZaHUi0FzaEZohkX2VVKVXUwcvy8vI4U4tQMWBXIk+NGT9ZIEx+Wn5vF0EUYqF3c3lgFkL5+PkUYqH///////9lFkG0FzYUYqFeNF/BwMs2WpP6+vrBv8JSJ1TNy85TJlO0FzaJhYsUYqF5GEEUYqF2Zo60FzazFza0FzYUYqGWdIsrWpWTGj6jGDp3Kk58Y4S0FzZgFkFXIU2OiY+vmqVhGENlGEJqQ2z///9SKFJTJlP///9pF0GOjpd0Ol6rFzi9sbm0Fza0FzYUYqGXmLp3TXJmHkhLSXy/jJBVK1ivrLDu7e7l5OYLCw6AYYRpFkGCIUYVYqGAZoqJfofez9hZPGtcW4phFkIUYqGVbG1BToTFw8ZqZGr4+PmIGkAWYqD6+vpaHUoUYqGEZoh5ZH2ceYAbGyCmFzmgGjsUYqGAYIOuiJJ3SW1PZJlNM0OliJ+MQF5uF0Gcmp8kXZpSKFWEZojDwcXq1tQzVY9pN2CyFzbZlZFHbKOZgpWjnaRlMlsUYqGHGD9FRElaHUiZfpfW1dddW2HMtsJ3k8NTJlPDT1WlMElcGkY6UYjMa2tDSH3IpKOEZoiFTWqni54DAwQsLDGsqa3Pu8cUFBnEtr8gHyU4Nz3cwsMKDA/GV1tGRUtCKjDczM7NfXzMvcza1Nv///+9PUmhfZRxY2y2KT/15eLo4ud5fKXCXmTnu7ekZ3pgFkFTJlOEZoiUGT5aHkp8GEBzF0G0FzadGDtKQnNeJ1JqJk5fGEReGkaDGT8UYqGlSw8iAAAAwXRSTlMA87vu8R/SwN6iQP7+/vf9/J75s4DT/v0gokr33vzj++7+9/Hz8/3u1tFw9P4f5nP9cvl0/vb+/vL79HH9++WPMFA7s1r++vRhscXEiWT9PvLQ+Ffzih/9/vb+9z3Enn7N/cWI/RDWPND+9/38gTx6uPj5/fn+/efauu7k8fnl0+ro/f33wvj7meDU2PeaZquWH9jJ1O0QrPfC0vXo+uHj+J7ETZvkpfzI+6e44qCorUr22cpX3xDd9VdUvtb6V9z+sGF5dwAACP1JREFUeF7s011r01AcBvATON8gFCgkV+2AFrKSm5MGCEKlDIqCgEgpXYUaOkanQLrtpupgCxTY8A3EDWToYBNlgFeiIOIX+f/z0pe96IcwSZtRxY0ByXaT3204nIfnPCHXLJFIJBKJgoe8LLyp/+fbPXJ16mvW3k7XsjiOs3xGd+1FoVAn12Hh1g7HqcYqMsdxGAZ0K8B15avOUkGPQymFvm0Plb6InrKOuqEbqoHVd1vPSfxk+fvT/VZRpBQ0aoLPtRW7VptRKD0VGTKcmNva/0biJPmVjDZUtXN8egKBXIM3IeC64NEohHlGvV6WxOcTj4hHhmq015dHyASh0ciXSKjUhAka5in21AMSi0ev3v7UEfEEjM5Rtbd+mPssSeQfz8JEIgZoR7VIHB6ubFvj4WqQ4xvnTqIkgE+j6KPQiSHOe54vlx0Krj38BYJ08bp27UUAcZyHQibiOJIsV9DXV4a1mrKYk8jFSndn+qCJwXuJZmYt2mKy6HvyemlJ8Zd7iSO3Bx8ANKCITDONQpTVtNCzam2vfHVBOK+OvLek/FRpmy4ABWBIob0X5TsF1Th6FY/NHC9NN5BOzadvzg5m06ldmGiSiQYAOCYwBpmNHyQaX+QW+ljbPDjkH5CJheCnnx+MDZU7j+FMcyqOSDU0Ye5jNL1UshhwaNvwo4SK4mYqNQjZGvzl/lkck1GKsPz7xiUu+0Nq2b+2VYVx/NDZJTYmnV2TpuvMsiJNhbSUZmMwSpssENJl7XSmrrDNpkpn3dqO4eraoqXFMmddBWcVncImDpgOMKiiImJu3t+Wl9a54UiccOxA8keY+5xzc25ugiTx+9s5fHL55D7nPM9dk5FY6NpO1wVgJ8g0pVIpv793mWLP31JEeiMKiCa5yeu8CRIeP8STySzLIMv5VSrl+e1YLne0Ap3BMMcnNE/XdV5Ybyer+lcOZyGeIsyKn+AxSDR8qcVwq9X6Lj+sDuwlm8FMJsiJ4o2fSX9fyeeXuY2D6MrpvDz1KEtylmIG/uh2Y6ZDlOomGxBaxx86CzovybniRG12VEEMUaCXLGV03svSPPaMXsBG8jKCDssHc3aE1BgLOj9OCzoshoYKdExxYL3zpTpuODZbo6+f7hKw0A5e5sBDqQ63MGcfwkxnHZXqeL+pQEd7kbpLdY5kwebt0f1HeGwbwYy8zsGMC7Ain9UfmE5va32pDqfXVuCjCwB73Vys0wUy+0f3fV6EeWLqkRn0U13QR9MTEOql4HXI5nZE304Ilo2E6KmkWnYCh9eKdMhI2LpxwU2xaYp10lZsdWKsbj138klVD/X55Q+Mnc/mOyC0bKLjvf3c4sBJB7mX8ekKdCb0rFpMh7ThrcPCNJhRK9kVrG/txkKGkMvHQe48wOpdu1dop6Q6j6N8Glxs8R9pgNAyXDSLdIJZyE4B+zkWS4QE7Fw33oyRYKxGyEWLYVTXmz/5jn+kGY0FRQYT8kp0tJPNfDb6AI6bpDrURtt/U6PRzArYTX5IaXZo+NzDGI+g99NE5/ivu5ebIbKxv1rEBhXpmL6F0yYn1YrqpDpjFHsHsCaKJUR9JwI66Dp5cY2fHaL3SZ75p3qd1QV4yLSDlkEr0mE2XcYQYF9RbHyzSMeaR66SpnS6GcmFrvzIVq2OthMgn9YyTP6cSawj2LhPJGCnrYAlxTrOeoROXSKH52umc2FfVTqsCFE9QgagAw6RztNuavNG8i7s5DE9wSIiHesuNNONP/ZKdFS5RXm1Oqtwo8KDhbGun0DIRXUKNlNGKab8HXRo8x5xYkyP8m1LQWcAVauj1QEz/AVC5jOkDHbk7mAzi9hsklr1ibAk04GBOksb4by2y8bRn1elw2rFqWACwLwOda6/WqTjXpnCyR6GGQAL7FWfuspuFk7aomRK9L+40lKzzhwUIQBNfzAOvOpgRqxzaOVvjCMi7HJc6N91gs7DE+M+OrWW9mSequ3tsFo19svymWwjFdlT0OF3dRGFIpkog1kEnZag0hfmSO4YX9u6UrOOqYcrSWic6LB4H5TDHENwdooSMB6/AfepNh2olTTpEh1jOUyJS3QCCU/uygCqUQfmeGmGz0p0wvfLYjGpTih9/ti1F1CtOvCVU5qwR/KZd7etLDbbIcHaz+euIVS7jiPAlYsKziiLr688tsSwhU877tu+XDyK/ofOxIZMHH3KD4m0D6q2QVpINu4p8lHyiQCRUCh6lYb2tUkZRJdI+5v+fCs38BGCyGgQaofHqC7DtrD4tx07aGkbDAM4/hTmB5gFhqAILAFs0SHYpqaMwkwRhtBWtmp0FobFURqw1uJlaQdO6SVMB0zZmNCeelLmbd1p32CXIjj2BNNkZUnyIZa0tKlujAFtveR3ed/b++fhvbwv/JcvDVFDmaSQg7YzSrkhile6MjW3OQQt4Ekkxp/PhsPJmRgDvZQp3mdlXVE4Bdo8tP36pqI0z/MP8d1T6FIdVWeXxEDW9TICPRUXfFwFzRzliZ0T/UnV63XqyhqL5Y77EXR58D5dW/KryUXXIfTY6TzBss2cNTsHdVlOIVIcRSPi3vq1lmNXdrx2guF548NbgJ4PR02lsG7mjEDHKCJP0/wen5hITEK3Y5crvY1oxRRC0HMHMyparudA1T0x0SmxTbqzaTTtzhvCaRx6blLwYTtnCv5paHPkbNSKGcuVDCF4BH1QXg50cuzx/GlzZO3iG5nO1jBcNIxCEPpjoyFhE0WSCgd/88IzZ/26kT++tq6MEItAv2yI2u4YoqZpiKR+8x+9ulB+TIiSTHKsjL+aVybGHEH/lEXMhRElUULUFZ1f94DlzfT0gntjJ5kVTX5JRZ0lKyclI8NAX00TGiKqhN9cUmSF06Mpmq7L2wHRxq5UFOXzyetMKA79RgQQ0TycCEgqpnRdJ/NsXkaU8kvnH4fvnSe9Oe9qfnXZ2I/DAHwq5cY0QrT4Ec0d4feLor5y8X14a+vycnExFotlQgwMSkQo+cRWD2EuLTve3LIh7L86fAaDFr/rbRgzXsuOz+fzFnNFo3AQZODWMJmCYdsPReDWMXEm2NTd4nA4HA6H4zc5mbo+QO8AVQAAAABJRU5ErkJggg==');\n    background-size: 100%;\n    background-repeat: no-repeat;\n    padding-top: 58.45%; /* aspect ratio of the background image */\n}\n\n.aladin-col {\n    float: left;\n    width: 45.00%;\n    margin-right: 5.0%;\n}\n  /* Clear floats after the columns */\n.aladin-row:after {\n    content: \"\";\n    display: table;\n    clear: both;\n }\n\n.aladin-location {\n\tz-index: 20;\n\tposition:absolute;\n    top: 0px;\n\tpadding: 2px 4px 2px 4px;\n\tbackground-color: rgba(255, 255, 255, 0.5);\n\tfont-size: 11px;\n}\n\n.aladin-projSelection {\n\tz-index: 20;\n\tposition:absolute;\n    top: 0px;\n    right: 48px;\n\tpadding: 2px 4px 2px 4px;\n\tbackground-color: rgba(255, 255, 255, 0.5);\n\tfont-size: 11px;\n}\n\n.aladin-location-text {\n    font-family: monospace, monospace;\n\tfont-size: 13px;\n    margin-left: 4px;\n}\n\n.aladin-clipboard::before {\n    content: ' ðŸ“‹';\n    cursor:pointer;\n}\n\n.aladin-measurement-div {\n\tz-index: 77;\n\tposition:absolute;\n    bottom: 20px;\n\tbackground-color: rgba(255, 255, 255, 0.8);\n    font-family: monospace;\n\tfont-size: 12px;\n    display: none;\n    width: 100%;\n    overflow: auto;\n}\n\n.aladin-measurement-div table {\n\tpadding: 2px 4px 2px 4px;\n    table-layout: fixed;\n    white-space: nowrap;\n}\n\n.aladin-measurement-div thead {\n    background-color: #e0e0e0;\n    color: #000;\n}\n\n.aladin-measurement-div td, .aladin-measurement-div th {\n    /*\n    border-left-color: #cbcbcb;\n    border-left-style: solid;\n    */\n    padding: 0.3em 0.3em;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: left;\n}\n\n.aladin-marker-measurement {\n    max-height: 130px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    font-family: monospace;\n\tfont-size: 11px;\n    color: #000;\n}\n.aladin-marker-measurement table {\n    table-layout: fixed;\n    width: 100%;\n}\n.aladin-marker-measurement table tr td{\nword-wrap:break-word;\n}\n.aladin-marker-measurement tr:nth-child(even) {\n    background-color: #dddddd;\n}\n.aladin-marker-measurement td:first-child {\n    font-weight: bold;\n}\n\n.aladin-fov {\n    z-index: 20;\n    position: absolute;\n    padding: 0;\n    font-size: 12px;\n    font-weight: bold;\n    bottom: 0px;\n    padding: 2px;\n    color: #321bdf;\n    /*text-shadow: 0 0 1px white, 0 0 1px white, 0 0 1px white, 0 0 1px white, 0 0 1px white;*/\n\tbackground-color: rgba(255, 255, 255, 0.5);\n}\n\n/* maximize/restore size icons */\n.aladin-maximize {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 3px;\n\tz-index: 20;\n\twidth: 30px;\n\theight: 30px;\n\tbackground-image: url('data:image/gif;base64,R0lGODlhFgAWAOMJAAAAAAEBAQICAgMDAwUFBAUFBQcHBwgICAsLCv///////////////////////////yH5BAEKAA8ALAAAAAAWABYAAARm8MlJabr41i0T+CCQcJz3CYMwklsSEAUhspVnHEYw0x1w558VzYQTBXm24sgjJCUQykmT9dzxWlNq9vrwILYtqe/wRc6SBqszOE6DLZ/AT00FyKNcD4wQeLdQAiB+cCFHVxkZXA8RADs=');\n\tbackground-repeat:  no-repeat;\n\tbackground-position:center center;\n}\n\n.aladin-layersControl-container {\n    position: absolute;\n    top: 30px;\n    left: 4px;\n    cursor:pointer;\n    z-index: 20;\n    background: rgba(250, 250, 250, 0.8);\n    border-radius: 4px;\n}\n\n.aladin-layersControl-container:hover  {\n\tbackground: rgba(220, 220, 220, 0.8);\n}\n\n.aladin-layersControl {\n\twidth: 32px;\n    height: 34px;\n    background-image: url('data:image/gif;base64,R0lGODlhGQAcAMIAAAAAADQ0NKahocvFxf///wAAAAAAAAAAACH5BAEKAAcALAAAAAAZABwAAANneLoH/hCwyaJ1dDrCuydY1gBfyYUaaZqosq0r+sKxNNP1pe98Hy2OgXBILLZGxWRSBlA6iZjgczrwWa9WIEDA7Xq/R8d3PGaSz97oFs0WYN9wiDZAr9vvYcB9v2fy/3ZqgIN0cYZYCQA7');\n    background-repeat:  no-repeat;\n    background-position:center center;\n}\n\n.aladin-cooGridControl-container {\n    position: absolute;\n    left: 4px;\n    cursor:pointer;\n    z-index: 20;\n    background: rgba(250, 250, 250, 0.8);\n    border-radius: 4px;\n}\n\n.aladin-cooGridControl-container:hover  {\n\tbackground: rgba(220, 220, 220, 0.8);\n}\n\n.aladin-cooGridControl {\n\twidth: 32px;\n    height: 34px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAQAAADYBBcfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAkV8AAJFfAZ/wQlIAAAAHdElNRQfmBwYSADnbJS7lAAADc0lEQVQ4y23Ve0wWZBTH8c/LJUVJ9GUvhM0SDUtxplmRSmXmrcx1cfAyzC7TOV3TLHPaZc5c5ZzOVa6y2cywWqnV/KMsm2aWIBEkCBIm5i10oESSKaS+/QEiYue/85zz3fPbOec5T0BHCxlpggw9xQs45agSX9qm7vK06Mu8Hh633BMSHRQUUCnRVhFhk3RS7Yz/tQxb1MozUU9z7ZUtZK1Ngq4zW4kthl0JRcl2yFmTwSCVckEvheaA3tY7LFugBQi0YlO94G8JVuohxQD97VTvuAq3GGGqG91vsET/mmf9JTBslRinRan0h2PGOWKrHlL0li6oVrNNtqmywmBZ8ltuHahKkcWKvaazANZYDhIsUOOocw56Vnes02izIFFizdEs20L7NDsrgl/cKkG6PDmeN9NBHwj73IP6WCYoB0aotQAsk9cqPVWR1Yrk6YtkxSZKtkKdA9LM8qOkKI8IaQS7DJQCDtlpmgbzVeOkwwapVeqcOLm+FW9UtCVS/OZr1AtrUoRcU23U1zhdRYuT4Q5jZVsmz1wxLkjlhFLbJYAZygwwwX4zREnzsh+UK3fMn94yVBTGqvCrMho9p8w4EC9PoQrz20bxan2le0aB7i52fomIBk4ZbaXPdAG3qVPjzg5zNUaJZBAjxx4/a6ZJlv4qTENnq2z3vkovuv7icCFTmV6iDPSOKtON1RCj2VAbvGGe/foYaYpSD3tKjgI7VDnprJB4j+lvqEpPyveAJioUCYr1qiq/m972wB7yrnzlypWqdsYuK9wjDjxtD2s0y21t8z9mtYZaypAgze2GmalSv7bzFJutJcsZhVJMscdCZTbKdFWH4tynRBLoapJdGmWRJF/Ep4rNwQCrVdkgV6pObeCjdkrSz3RblKtWICmAGd4Uo9J4RxBriLC7xKlxQI1TIu4x3F4hf/lKoaXe83YAQZ8Y6bgvvNK6kgISpbtZmmt0ETHYUXl22+u0FW4SVt8iZbh9PrbDVveK7bBSYnT1jbmt3mxVhrdPCNtniddVWmeMbpfB19ptPG6wyH7h9juHgGyLbPOd0TI1+EmxA+o1ici01Ed6udt586wXaQ+2CF4swYcq9JEhTTcBF9BTSMB533tJwaUmt7egHJN1UWK3E6IlSJZqjG5KrbXhYkmuBCFklAmGCIkR0axOic22d/wC/gNPgB2kPbE+ygAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNy0wNlQxODowMTowNSswMjowMOuc89QAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDctMDZUMTg6MDA6NTcrMDI6MDCqfD8bAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==');\n    background-repeat:  no-repeat;\n    background-position:center center;\n}\n\n.aladin-layerBox {\n    top: 30px;\n    padding: 4px 4px;\n    max-height: 90%;\n    overflow-y: auto;\n}\n\n.aladin-box {\n\tdisplay: none;\n    z-index: 30;\n    position: absolute;\n    background: whitesmoke;\n    border-radius: 1px;\n    font-size: 14px;\n    font-family: Verdana, Lucida, Arial;\n    line-height: 1.3;\n    color: #222;\n    padding: 0.8em;\n}\n\n/* Chrome, Safari, Edge, Opera */\ninput[type=number]::-webkit-inner-spin-button, \ninput[type=number]::-webkit-outer-spin-button { \n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    margin: 0; \n}\n\n/* Firefox */\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.aladin-dialog {\n\tdisplay: none;\n    z-index: 30;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: #eee;\n    border-radius: 4px;\n    font-family: Verdana, Lucida, Arial;\n    line-height: 1.3;\n    color: #222;\n    max-width: 500px;\n    padding: 0.8em;\n}\n\nselect, input[type=number], input[type=text] {\n    padding: 4px;\n    box-sizing: border-box;\n}\n\ninput[type=checkbox] {\n    margin: 0;\n}\n\ninput[type=number], input[type=text], input[type=range] {\n    width: 100%;\n}\n\n.aladin-surveySelection {\n    max-width: 150px;\n}\n\n.aladin-box-title {\n  font-size: 16px;\n  font-family: Verdana, Lucida, Arial;\n  line-height: 2.0;\n  font-weight: bold;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.aladin-box-content {\n  padding: 10px;\n}\n\n.aladin-text {\n  background-color: #bbb;\n}\n\n.aladin-gotoControl-container {\n\tposition: absolute;\n    left: 4px;\n    cursor:pointer;\n    z-index: 20;\n    background: rgba(250, 250, 250, 0.8);\n    border-radius: 4px;\n}\n\n.aladin-gotoControl-container:hover {\n    background: rgba(220, 220, 220, 0.8);\n}\n\n.aladin-gotoControl {\n    width: 32px;\n    height: 34px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAASZJREFUeNpiYMAOpIG4GogPAPETIP4PpQ9AxaUZyARsQNwFxN+ghuLC36Dq2EgxXBSITxIwGB2fhOojyuXohl8C4hCk4JCG8i9hsYSgT9qRNPwE4hY8mtig8n+Q9LTjM1waaihMcQ6RQZqD5ig5XAobkRQeJjFRHEbS20iMoigSLYgixnHPkRSRmr6lkfQ+x6UIOfzZyMg3yPFAfx8wAfFNJL49iRYgq7+JS1EFlVJRBS5FcmjxkEak4WnE5gMGaMGFrBhUYjLjUMsMlUd21CJyyqLz0LJHAqpGAso/j6XQ+0NMHiKnNEW3JJyQJZzQ4PpJwLCf0GD5Q44l6DXac6R0jl6jhVBiCbEAlyUh9LDEm9aWPGegMkC35AkDDYAf1OUg7AoQYADEj7juEX/HNAAAAABJRU5ErkJggg==');\n    background-repeat:  no-repeat;\n    background-position:center center;\n}\n\n.aladin-gotoBox {\n    top: 68px;\n    padding: 4px;\n}\n\n.aladin-target-form {\n\tpadding: 5px;\n}\n\n\n.aladin-simbadPointerControl-container {\n    position: absolute;\n    left: 4px;\n    cursor:pointer;\n    z-index: 20;\n    background: rgba(250, 250, 250, 0.8);\n    border-radius: 4px;\n}\n\n.aladin-simbadPointerControl-container:hover {\n    background: rgba(220, 220, 220, 0.8);\n}\n\n.aladin-simbadPointerControl {\n\twidth: 32px;\n    height: 34px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEIDgUy0LKZuQAABc5JREFUSEuFln9sVeUZxz/P+97TbmtL0pZrO5wtvT/bkolBQ5gJrh1FO9RNTYSEYEoiywjiHBlbssXNP4Y2ziZLlBJ1GBFnWF2CPya0TgxsMytmY8Fk4/bec3sv1AXaXmYyaBvovec8++Oe2xUw25uc5LzvOe/3+fV9fkhPT1eI/y4BdGEjIs03N3kHXz3kiwix5W0/ERF187l+VZW+RzfLhU8njapec28xjiwSsHCoqqy5a7X/9FPP+R3xRNjzvGagRlW3qyrGmBeBWRuyk6lMpvDm8Ovy0sB+KyI3KhkIkDKu4lQ5jAwfK3XEE02lUmmNqm4AuoE41y4XOC4iR23Inhxz3ane3p5QsVgkELQgwKmA1y2p1bcOv+clo7E7fN9/DNga/Pe3ADAW7LOUBa4K9geMMYOZ3PhfH3jwPnv50mWpWGMjkeUGwKly+N27I14iGv2G+joI9AInRORZERmMJ1te/Oxf/24UkVRrZNkPLl2aGRXkE6AGeFBVVzc2NKT/PPpxPpmMG9/3BVDp6ekKqSoffviHUiISvcP3/f3ASmCfDdlfprPZbKAl8bbIkwBuPrencpaMxmKe5+0CdgCnjTHbMrnxU+vWfT0kIhiANXet9jviiabALSuBfdVfqP5pOpvNqmoFKKqqSVVNJqOxCMBvR34t6fFstqq66klgH3Cb7/s72+Pxpke2b/YAZP36bueDD44X422Rb6vq28AJG7LfqWjeEU/cVCwWnwPCwSPAFHDRcZzdKTdTWGTJr4AuEXnAzefeWb++2zHNNzd5HfFEOGALIjJU0TwAHwImjDW7gT8Bf7TW/gg4WywWhzriifC5uTFJj2ezIjIEoKobOpPJcLg57JuDrx7yA553U2bLaCCIQPOPnKrQ85nx8TNAQYRCejz7D6fK2Qt8VCwWB1q/1F7h/WiA0VUqlpreODjkm4BONZRp58YSt/w9MDkKhI01h1IZt7Dh3rtt3ZLaF2pqa57fcO/dNpXJFIw1vwHClZg03XLTGcp0TgC1IqISpH9CVfuAU8BhETGqmgTaKbulULek9oWlTUuvAExfmK6enZl7QkSWqupaYAxII/goDwG3A68BGSMiWmEKcE0WUg4oIkEmLvrnc+6pIFK5A6gIatx8rj+oLQDZlraWX7j53B5r7VPAlLX2FTef71/WsuzK9IXp6sJkofrLX2m+6uZz/caaV4CLNmR/5uZzT7e2tTxL2UUYY1528/n+SiWcDT7EJ85NrABIj2dzwEXP8zZ2JBLho0d+783OzD0xOzP3veHhY6XORCLse/4mYDqdzeYBzuUnVhDEErisqmL6Ht0sNmQngePAKny+BuUkchxnN7C2OF98PBGNdgY+Dyei0RXz88XHgbWO4/xwkavupFyfTlhrp7Zu2yLmwqeTJpXJFETkKICqbkxGY7GHe7doys0UHMfZBLT6nj8QBHSt7/kDQKvjOJtSbmZaREhGYzFV3QggIkdSbqZwfuK8Maoqbw6/LjZkTwIHgG7P83Z1JpP1ACOfvHsxezbfZ63dScAWG7I7smfzfWcy6WmAFe3t9Z7nfR/oAg7YkD05MPiMqKoYQF8a2G/HXHfKGDMInAZ2zF+d35OMxmKVJApikhaRVMXnFc2vXrn6c+AxysVu75jrTg0ffj8EqI1ElhsRIZGImY//cuqfjQ0NaZTbgPtV9dbG+oYvNtbXFztvTX42c2n2TkFk1aqVoxbz1cb6+od83/8xsBE4LSK73Hxu9J7edaFKXBY6mqpq3ZI6ffut97xEJHq77/s7+fyGI8H79Q1nbyY3fur+b30zNDc7t5BPCx0Nyr3YcRxGRo6V2uPxJq/k/b+WeUJEjlRa5j2960KlYmlxsopcN1VAYM0j2zd7Wx/+rnYmk+FSsdQM1Pi+vx1QY8zLwGVr7VTKzRQGBp+R4cPvh0TkhsniegE3jC3h5rD/xsEhX0S0XLdQN5/vV1XZum2LnJ84/z/Hlv8AT3rLVQaE2oEAAAAASUVORK5CYII=');\n    background-repeat:  no-repeat;\n    background-position:center center;\n}\n\n.aladin-shareControl-container {\n    position: absolute;\n    bottom: 30px;\n    left: 4px;\n    cursor:pointer;\n    z-index: 20;\n    background: rgba(250, 250, 250, 0.8);\n    border-radius: 4px;\n}\n\n.aladin-shareControl-container:hover {\n    background: rgba(220, 220, 220, 0.8);\n}\n\n.aladin-shareControl {\n\twidth: 32px;\n    height: 34px;\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA/1BMVEUAAAAzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzP////6PkQMAAAAU3RSTlMAAAI2l9TiyXwcBmrj/cEvePX69MD+Vzl06Px5sMgDZPsbOwUfKFGAHVjSEkBgXTcMllbG8rbhdtcm26Ko5/M8F3clPqN1JK+usRpVQdNQBGN9OkYs7f8AAAABYktHRFTkA4ilAAAACXBIWXMAARCQAAEQkAGJrNK4AAABMUlEQVQoz13SeVuCQBAGcAYV5TREEpUQr9TMK9G8Nc/usvn+36VdRFDmz9/uwzuzA8NcFrCRaIyLJ3iAaxdECUnJShKu/UZFTGkyYpoPu67cZows5hKXnif3TfJ5MHS8C9wqcDaaRRILJQ254KBcqd7X6tShYePDmaH52Gp3uq7zacTe+fpTnwQ7gwxJKJqIw4iX++ygW6Ox66oIQf+T6WyOi+WK+osAvptri91sd/tDyF/3u+2GtdZvIT+slgucz6YT3xkQqb/DeHSKd3YnZzpD1wEyA0dHtf9R9h62R5/Snavbabc+m/4mvtBuuF6vfVcrP8EeONRK1MlcNvdrBQdx1A2SwNO58sLF4o45zBp/DUX3+/SKV8iOtRSGnYGkItP+JVEI/RnAH+NSLBphr/0f6ns3OQ1Zz7kAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTMtMTEtMThUMTQ6MzM6NTUrMDE6MDCINg3ZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEzLTExLTE4VDE0OjMzOjA0KzAxOjAwF/ywtQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=');\n    background-repeat:  no-repeat;\n    background-position:center center;\n}\n\n.aladin-shareBox {\n    bottom: 30px;\n    padding: 4px;\n}\n\n.aladin-shareInput {\n    width: 300px;\n    margin-top: 10px;\n    display: block;\n}\n\n.aladin-target-form input {\n\twidth: 140px;\n\tmargin-left: 5px;\n}\n\n.aladin-cb-list ul {\n    margin: 0;\n    padding-left: 4px;\n    list-style: none;\n}\n\n.aladin-cb-list label {\n\tdisplay: inline;\n}\n\n.aladin-cb-list input[type=\"checkbox\"] {\n    margin: 3px;\n}\n\n.aladin-closeBtn {\n\tfloat:right;\n    margin-top: 0 0 2px 0;\n    cursor:pointer;\n    color: #605F61;\n    border: 1px solid #AEAEAE;\n    border-radius: 3px;\n    background: #fff;\n    font-size: 15px;\n    font-weight: bold;\n    display: inline-block;\n    line-height: 0px;\n    padding: 8px 2px;       \n}\n\n.aladin-closeBtn:hover {\n\tcolor: #201F21;\n}\n\n.aladin-label {\n\tfont-weight: bold;\n\tpadding-bottom: 4px;\n}\n\n.aladin-box-separator {\n\theight: 0;\n    border-top: 1px solid #bbb  ;\n    margin: 5px 0px 5px -4px;\n}\n\n.aladin-blank-separator {\n\theight: 10px;\n}\n\n.aladin-restore {\n\tposition: absolute;\n    top: 6px;\n    right: 3px;\n    z-index: 20;\n    width: 30px;\n    height: 30px;\n    background-image: url('data:image/gif;base64,R0lGODlhFgAWAOMJAAAAAAEBAQICAgMDAwUFBAUFBQcHBwgICAsLCv///////////////////////////yH5BAEKAA8ALAAAAAAWABYAAARk8MlJ60zJapsAyhsFPp1xfKHUZeVhAOPWwYD5xjIABDacXrseLtQhFAiBIVEwEOh8P9VzquRgrhgrNhudTaHdJ1NQ1SQCRgL41zIE1sSa6w0361y0eqXtW7EReCNlIgh6XYMbEQA7');\n    background-repeat:  no-repeat;\n    background-position:center center;\n}\n\n.aladin-fullscreen {\n\tposition: fixed !important;\n\tz-index: 9999;\n\ttop: 0;\n\tleft: 0;\n\theight: 100% !important;\n\twidth: 100% !important;\n\tborder: 0 !important;\n    max-width: none !important;\n    background: #fff;\n}\n\n.aladin-zoomControl {\n\tz-index: 20;\n\tposition:absolute;\n\ttop: 50%;\n\theight: 48px;\n\tright: 8px;\n\tpadding: 0;\n\tmargin: -24px 0 0 0;\n\tfont-weight: bold;\n\tfont-size: 18px;\n\tfont-family: Verdana, Lucida, Arial;\n}\n\n\n.aladin-zoomControl a {\n\twidth: 20px;\n\theight:20px;\n\tline-height: 18px;\n\tdisplay:block;\n\tbackground-color:rgba(250, 250, 250, 0.8);\n\tmargin:1px;\n\ttext-align:center;\n\tborder-radius:4px;\n\tborder:1px solid #aaa;\n\ttext-decoration:none;\n\tcolor:#222;\n}\n\n.aladin-zoomControl a:hover {\n\tbackground-color: rgba(220, 220, 220, 0.8);\n}\n\n.aladin-cmSelection {\n    width: 60px;\n    margin-right: 10px;\n}\n\n.aladin-btn {\n\tdisplay: inline-block;\n    padding: 6px 8px;\n    margin-bottom: 0;\n    font-size: 12px;\n    font-weight: normal;\n    text-align: center;\n    white-space: nowrap;\n    vertical-align: middle;\n    cursor: pointer;\n    border: 1px solid transparent;\n    border-radius: 3px;\n    color: #ffffff;\n    background-color: #428bca;\n    border-color: #357ebd;\n    margin-right: 4px;\n}\n\n.aladin-hips-layer {\n    padding: 0px 4px;\n    margin-bottom: 4px;\n    background-color: lightgray;\n}\n\n.aladin-cancelBtn {\n    background-color: #ca4242;\n    border-color: #bd3935;\n}\n\n.aladin-box-content > div {\n    margin: 10px 0px 0px 0px;\n}\n\n.aladin-btn-small {\n\tdisplay: inline-block;\n    border-radius: 3px;\n    margin-bottom: 0;\n    padding: 0;\n    vertical-align: middle;\n    cursor: pointer;\n    border: 1px solid transparent;\n    color: #ffffff;\n    font-size: 14px;\n    background-color: #428bca;\n    border-color: #357ebd;\n    margin-left: 2px;\n    min-width: 1.5em;\n    min-height: 1.5em;\n}\n\n.aladin-button:hover {\n\tcolor: #ffffff;\n    background-color: #3276b1;\n    border-color: #285e8e;\n}\n\n.aladin-unknownObject {\n\tborder: 3px solid red;\n}\n    \n.aladin-popup-container {\n\tz-index: 25;\n\tposition: absolute;\n    width: 200px;\n    display: none;\n    line-height: 1.3;\n}\n\n.aladin-popup {\n\tfont-family: Verdana, Lucida, Arial;\n    font-size: 13px;\n    background: white;\n    border: 1px solid #bbb;\n    border-radius: 4px;\n    padding: 4px;\n    top: 80px;\n    left: 110px;\n}\n\n\n.aladin-popup-arrow {\n    display: block;\n    border-color: #fff transparent transparent;\n    border-style: solid;\n    border-width: 12px;\n    width: 0px;\n    height: 0px;\n    margin-top: -1px;\n    margin-left: auto;\n    margin-right: auto;\n/*\n    width: 15px;\n    height: 15px;\n    background: white;\n    margin: -12px 94px;\n    padding-bottom: 10px;\n    overflow: hidden;\n    -webkit-transform: rotate(45deg);\n       -moz-transform: rotate(45deg);\n        -ms-transform: rotate(45deg);\n         -o-transform: rotate(45deg);\n            transform: rotate(45deg);\n*/\n}\n\n\n.aladin-popupTitle {\n    font-weight: bold;\n}\n\n.aladin-popupText {\n}\n\n\n.aladin-options {\n    margin-top: 4px;\n}\n\n.aladin-options .row {\n    display: flex;\n    align-items: center;\n    margin-top: 5px;\n}\n\n.aladin-options .row label {\n    text-align: center;\n}\n\n.aladin-options .row .col-label {\n    flex: 0.3;\n}\n\n.aladin-options .row .col-input {\n    flex: 0.70;\n}\n\n.aladin-options .row .col-input select {\n    width: 100%;\n}\n\n.aladin-options .row .col-input input[type=\"checkbox\"] {\n    margin: 3px 0px;\n}\n\n.aladin-layer-label {\n\tpadding: 0 4px 0 4px;\n\tcolor: #ddd;\n    border-bottom-left-radius:  8px;\n    border-top-left-radius:     8px;\n    border-bottom-right-radius: 8px;\n    border-top-right-radius:    8px;\n    cursor: pointer;\n    user-select: none;\n}\n\n.aladin-sp-title a {\n    text-decoration: none;\n    color: #317d8d;\n}\n\n.aladin-sp-content {\n    font-size: 12px;\n}\n\n.aladin-sp-content a {\n    text-decoration: none;\n    color: #478ade;\n    font-size: 11px;\n}\n\n.aladin-cuts {\n    width: 8em;\n}\n\n.add-layer-hips {\n    margin-top: 0.2em;\n}\n\n\n/* Icons figuring layers in the Stack */\n.aladin-stack-icon {\n\twidth: 16px;\n    height: 16px;\n    background-repeat:  no-repeat;\n    background-position:center center;\n    display: inline-block;\n    vertical-align: text-top;\n}\n\n\n\n.aladin-chevron {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n  vertical-align: middle;\n  background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQ0IDQ0IiBzdHJva2U9IiM0NDQiIGJhY2tncm91bmQtY29sb3I9ImJsdWUiPgoKICAgIDxyZWN0IHg9IjIiIHk9IjIiIGhlaWdodD0iNDAiIHdpZHRoPSI0MCIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAvPgogICAgPHBhdGggZD0iTTEwIDEzIEwyMiAyMSBMMzQgMTMiIGZpbGw9InRyYW5zcGFyZW50IiBzdHJva2Utd2lkdGg9IjYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPiAKICAgIDxwYXRoIGQ9Ik05IDI1IEwyMiAzMyBMMzUgMjUiIGZpbGw9InRyYW5zcGFyZW50IiBzdHJva2Utd2lkdGg9IjYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPiAKCjwvc3ZnPgo=') no-repeat;\n}\n.aladin-chevron-down {\n  transform: rotate(0deg);\n}\n.aladin-chevron-left {\n  transform: rotate(90deg);\n}\n.aladin-chevron-up {\n  transform: rotate(180deg);\n}\n.aladin-chevron-right {\n  transform: rotate(270deg);\n}\n\n.indicator {\n    font-family: monospace;\n    cursor: pointer;\n}\n\n.right-triangle:before {\n    content: '\\25b6';\n}\n\n.down-triangle:before {\n    content: '\\25bc';\n}\n\n\n/* *********************************************** */\n\n/* Cursors */\n\n/* Simbad pointer cursor */\n.aladin-sp-cursor {\n    cursor: auto;\n    cursor: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEIEwUMBS20MQAAApRJREFUWEfdV7GO2zAMfXY7x1luzOFwDeB/KHCAB87eumvqmI/JWhTwF3TIrMFAv8JbgWyHG3IpOjbpcKJC02KipECHclIU+j2KfKRlAABRUyFYak3UgKiZiXUJAIt1d1ysu2PYn53DsPCucpbkRE3JAdxKTtQgWo6zJAfGGbAwLuEV7OB9/yrXIbqZ9/0+rMuhdb+RYfWmm+fged8fihzyoXXxlNcYB2KRxwwA6SzI9Crgd973B/5/u3IF8FYSw98M5D2QR86kRE3pfX+AMqKm8iEQoqYaWrfj/4bW7QgokMhCeSs5KeVrDM4K29C6Y6oE0YGEUlndocVGyg/rGZDXBQpr0kmjLiAlOOvk3vf7RJZM5Q+te2W/7coVEq+wnC1yCZYyS3B8MMYF3vBKK9Jz5PWmm8sab1eu4N9D63aaHEAsH88SzmQpnSHsHDmnWvlXIoiJ4JTviY8FRUJ8ZAiOEiJbLpcjARM1M0twpmjZOeGQrXYm1/7yMLz/eH8fnyus6XXOtmLgWBrKtdMguNKYPPystIausn9egsVDfI674KxS6003F/sX357AdOBwcADwWD9EjBKJubxYd0cml4RhP5IPrduFk04GjiZXMyZiRHKdAU3OWeB2lLNAk+tpl9IHY0zSlBo4OgsaTJpFzs+F0pxKYEXK73Nd8+3KFfWmG71qGfgSeQqPN0fvdlZrSvmUoXaJJ7EiocArZaS6tgzA+5RQe3gumUl5gPLXzy+6pEQNzDuhvFKx1ZuuEuTxliwmY/KuoHxGhzGv5QDw9PTx7senz88aLHUpJeOu8OHb17u+//4CTMm97/eFVQK5vqR8y6xOyipByjn3+0C3moUH4O++D1UX3PR9eJWzJCf6Tz5O/wDUeIfTLPlbywAAAABJRU5ErkJggg==') 15 15, auto;\n}\n\n/* *********************************************** */\n\n/* Autocomplete styles (adapted from https://github.com/kraaden/autocomplete ) */\n.autocomplete {\n    background: white;\n    z-index: 20000;\n    font: 14px/22px \"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\n    overflow: auto;\n    box-sizing: border-box;\n    border: 1px solid rgba(50, 50, 50, 0.6);\n}\n\n.autocomplete * {\n    font: inherit;\n}\n\n.autocomplete > div {\n    padding: 0 4px;\n}\n\n.autocomplete .group {\n    background: #eee;\n}\n\n.autocomplete > div:hover:not(.group),\n.autocomplete > div.selected {\n    background: #81ca91;\n    cursor: pointer;\n}\n",""]);const o=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);i&&a[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,a){"use strict";var o=[],r=Object.getPrototypeOf,l=o.slice,s=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h=p.toString,m=h.call(Object),v={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},y=i.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var i,a,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in g)(a=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,a);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var S="3.6.1",A=function(e,t){return new A.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!_(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}A.fn=A.prototype={jquery:S,constructor:A,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=A.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return A.each(this,e)},map:function(e){return this.pushStack(A.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(A.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},A.extend=A.fn.extend=function(){var e,t,n,i,a,o,r=arguments[0]||{},l=1,s=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[l]||{},l++),"object"==typeof r||_(r)||(r={}),l===s&&(r=this,l--);l<s;l++)if(null!=(e=arguments[l]))for(t in e)i=e[t],"__proto__"!==t&&r!==i&&(c&&i&&(A.isPlainObject(i)||(a=Array.isArray(i)))?(n=r[t],o=a&&!Array.isArray(n)?[]:a||A.isPlainObject(n)?n:{},a=!1,r[t]=A.extend(c,o,i)):void 0!==i&&(r[t]=i));return r},A.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=r(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&h.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?A.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,o=e.length,r=!n;a<o;a++)!t(e[a],a)!==r&&i.push(e[a]);return i},map:function(e,t,n){var i,a,o=0,r=[];if(C(e))for(i=e.length;o<i;o++)null!=(a=t(e[o],o,n))&&r.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&r.push(a);return s(r)},guid:1,support:v}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=o[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var I=function(e){var t,n,i,a,o,r,l,s,c,u,d,f,p,h,m,v,_,x,y,g="sizzle"+1*new Date,b=e.document,w=0,S=0,A=se(),C=se(),I=se(),k=se(),T=function(e,t){return e===t&&(d=!0),0},D={}.hasOwnProperty,R=[],E=R.pop,z=R.push,O=R.push,P=R.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+N+"*\\]",j=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(N+"+","g"),U=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),B=new RegExp(N+"|>"),J=new RegExp(j),Y=new RegExp("^"+F+"$"),Z={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},W=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},re=ge((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(R=P.call(b.childNodes),b.childNodes),R[b.childNodes.length].nodeType}catch(Ce){O={apply:R.length?function(e,t){z.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function le(e,t,i,a){var o,l,c,u,d,h,_,x=t&&t.ownerDocument,b=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return i;if(!a&&(f(t),t=t||p,m)){if(11!==b&&(d=$.exec(e)))if(o=d[1]){if(9===b){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(x&&(c=x.getElementById(o))&&y(t,c)&&c.id===o)return i.push(c),i}else{if(d[2])return O.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!k[e+" "]&&(!v||!v.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(_=e,x=t,1===b&&(B.test(e)||G.test(e))){for((x=ee.test(e)&&_e(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,ae):t.setAttribute("id",u=g)),l=(h=r(e)).length;l--;)h[l]=(u?"#"+u:":scope")+" "+ye(h[l]);_=h.join(",")}try{return O.apply(i,x.querySelectorAll(_)),i}catch(w){k(e,!0)}finally{u===g&&t.removeAttribute("id")}}}return s(e.replace(U,"$1"),t,i,a)}function se(){var e=[];return function t(n,a){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function ce(e){return e[g]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),a=n.length;a--;)i.attrHandle[n[a]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ce((function(t){return t=+t,ce((function(n,i){for(var a,o=e([],n.length,t),r=o.length;r--;)n[a=o[r]]&&(n[a]=!(i[a]=n[a]))}))}))}function _e(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=le.support={},o=le.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!W.test(t||n&&n.nodeName||"HTML")},f=le.setDocument=function(e){var t,a,r=e?e.ownerDocument||e:b;return r!=p&&9===r.nodeType&&r.documentElement?(h=(p=r).documentElement,m=!o(p),b!=p&&(a=p.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",oe,!1):a.attachEvent&&a.attachEvent("onunload",oe)),n.scope=ue((function(e){return h.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ue((function(e){return h.appendChild(e).id=g,!p.getElementsByName||!p.getElementsByName(g).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,a,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(a=t.getElementsByName(e),i=0;o=a[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[a++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},_=[],v=[],(n.qsa=Q.test(p.querySelectorAll))&&(ue((function(e){var t;h.appendChild(e).innerHTML="<a id='"+g+"'></a><select id='"+g+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),e.querySelectorAll("[id~="+g+"-]").length||v.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+g+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Q.test(x=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=x.call(e,"*"),x.call(e,"[s!='']:x"),_.push("!=",j)})),v=v.length&&new RegExp(v.join("|")),_=_.length&&new RegExp(_.join("|")),t=Q.test(h.compareDocumentPosition),y=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==b&&y(b,e)?-1:t==p||t.ownerDocument==b&&y(b,t)?1:u?L(u,e)-L(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,a=e.parentNode,o=t.parentNode,r=[e],l=[t];if(!a||!o)return e==p?-1:t==p?1:a?-1:o?1:u?L(u,e)-L(u,t):0;if(a===o)return fe(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;r[i]===l[i];)i++;return i?fe(r[i],l[i]):r[i]==b?-1:l[i]==b?1:0},p):p},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&m&&!k[t+" "]&&(!_||!_.test(t))&&(!v||!v.test(t)))try{var i=x.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ce){k(t,!0)}return le(t,p,null,[e]).length>0},le.contains=function(e,t){return(e.ownerDocument||e)!=p&&f(e),y(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!=p&&f(e);var a=i.attrHandle[t.toLowerCase()],o=a&&D.call(i.attrHandle,t.toLowerCase())?a(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},le.escape=function(e){return(e+"").replace(ie,ae)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,i=[],a=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(a=i.push(o));for(;a--;)e.splice(i[a],1)}return u=null,e},a=le.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=a(t);return n},i=le.selectors={cacheLength:50,createPseudo:ce,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&J.test(n)&&(t=r(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+N+"|$)"))&&A(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var a=le.attr(i,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,a){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),l="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,s){var c,u,d,f,p,h,m=o!==r?"nextSibling":"previousSibling",v=t.parentNode,_=l&&t.nodeName.toLowerCase(),x=!s&&!l,y=!1;if(v){if(o){for(;m;){for(f=t;f=f[m];)if(l?f.nodeName.toLowerCase()===_:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[r?v.firstChild:v.lastChild],r&&x){for(y=(p=(c=(u=(d=(f=v)[g]||(f[g]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],f=p&&v.childNodes[p];f=++p&&f&&f[m]||(y=p=0)||h.pop();)if(1===f.nodeType&&++y&&f===t){u[e]=[w,p,y];break}}else if(x&&(y=p=(c=(u=(d=(f=t)[g]||(f[g]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===y)for(;(f=++p&&f&&f[m]||(y=p=0)||h.pop())&&((l?f.nodeName.toLowerCase()!==_:1!==f.nodeType)||!++y||(x&&((u=(d=f[g]||(f[g]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[w,y]),f!==t)););return(y-=a)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,a=i.pseudos[e]||i.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return a[g]?a(t):a.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,o=a(e,t),r=o.length;r--;)e[i=L(e,o[r])]=!(n[i]=o[r])})):function(e){return a(e,0,n)}):a}},pseudos:{not:ce((function(e){var t=[],n=[],i=l(e.replace(U,"$1"));return i[g]?ce((function(e,t,n,a){for(var o,r=i(e,null,a,[]),l=e.length;l--;)(o=r[l])&&(e[l]=!(t[l]=o))})):function(e,a,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return le(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||a(t)).indexOf(e)>-1}})),lang:ce((function(e){return Y.test(e||"")||le.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ve((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function xe(){}function ye(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(e,t,n){var i=t.dir,a=t.next,o=a||i,r=n&&"parentNode"===o,l=S++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a);return!1}:function(t,n,s){var c,u,d,f=[w,l];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=(d=t[g]||(t[g]={}))[t.uniqueID]||(d[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===w&&c[1]===l)return f[2]=c[2];if(u[o]=f,f[2]=e(t,n,s))return!0}return!1}}function be(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function we(e,t,n,i,a){for(var o,r=[],l=0,s=e.length,c=null!=t;l<s;l++)(o=e[l])&&(n&&!n(o,i,a)||(r.push(o),c&&t.push(l)));return r}function Se(e,t,n,i,a,o){return i&&!i[g]&&(i=Se(i)),a&&!a[g]&&(a=Se(a,o)),ce((function(o,r,l,s){var c,u,d,f=[],p=[],h=r.length,m=o||function(e,t,n){for(var i=0,a=t.length;i<a;i++)le(e,t[i],n);return n}(t||"*",l.nodeType?[l]:l,[]),v=!e||!o&&t?m:we(m,f,e,l,s),_=n?a||(o?e:h||i)?[]:r:v;if(n&&n(v,_,l,s),i)for(c=we(_,p),i(c,[],l,s),u=c.length;u--;)(d=c[u])&&(_[p[u]]=!(v[p[u]]=d));if(o){if(a||e){if(a){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(v[u]=d);a(null,_=[],c,s)}for(u=_.length;u--;)(d=_[u])&&(c=a?L(o,d):f[u])>-1&&(o[c]=!(r[c]=d))}}else _=we(_===r?_.splice(h,_.length):_),a?a(null,r,_,s):O.apply(r,_)}))}function Ae(e){for(var t,n,a,o=e.length,r=i.relative[e[0].type],l=r||i.relative[" "],s=r?1:0,u=ge((function(e){return e===t}),l,!0),d=ge((function(e){return L(t,e)>-1}),l,!0),f=[function(e,n,i){var a=!r&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,a}];s<o;s++)if(n=i.relative[e[s].type])f=[ge(be(f),n)];else{if((n=i.filter[e[s].type].apply(null,e[s].matches))[g]){for(a=++s;a<o&&!i.relative[e[a].type];a++);return Se(s>1&&be(f),s>1&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(U,"$1"),n,s<a&&Ae(e.slice(s,a)),a<o&&Ae(e=e.slice(a)),a<o&&ye(e))}f.push(n)}return be(f)}return xe.prototype=i.filters=i.pseudos,i.setFilters=new xe,r=le.tokenize=function(e,t){var n,a,o,r,l,s,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(l=e,s=[],c=i.preFilter;l;){for(r in n&&!(a=V.exec(l))||(a&&(l=l.slice(a[0].length)||l),s.push(o=[])),n=!1,(a=G.exec(l))&&(n=a.shift(),o.push({value:n,type:a[0].replace(U," ")}),l=l.slice(n.length)),i.filter)!(a=Z[r].exec(l))||c[r]&&!(a=c[r](a))||(n=a.shift(),o.push({value:n,type:r,matches:a}),l=l.slice(n.length));if(!n)break}return t?l.length:l?le.error(e):C(e,s).slice(0)},l=le.compile=function(e,t){var n,a=[],o=[],l=I[e+" "];if(!l){for(t||(t=r(e)),n=t.length;n--;)(l=Ae(t[n]))[g]?a.push(l):o.push(l);l=I(e,function(e,t){var n=t.length>0,a=e.length>0,o=function(o,r,l,s,u){var d,h,v,_=0,x="0",y=o&&[],g=[],b=c,S=o||a&&i.find.TAG("*",u),A=w+=null==b?1:Math.random()||.1,C=S.length;for(u&&(c=r==p||r||u);x!==C&&null!=(d=S[x]);x++){if(a&&d){for(h=0,r||d.ownerDocument==p||(f(d),l=!m);v=e[h++];)if(v(d,r||p,l)){s.push(d);break}u&&(w=A)}n&&((d=!v&&d)&&_--,o&&y.push(d))}if(_+=x,n&&x!==_){for(h=0;v=t[h++];)v(y,g,r,l);if(o){if(_>0)for(;x--;)y[x]||g[x]||(g[x]=E.call(s));g=we(g)}O.apply(s,g),u&&!o&&g.length>0&&_+t.length>1&&le.uniqueSort(s)}return u&&(w=A,c=b),y};return n?ce(o):o}(o,a)),l.selector=e}return l},s=le.select=function(e,t,n,a){var o,s,c,u,d,f="function"==typeof e&&e,p=!a&&r(e=f.selector||e);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(c=s[0]).type&&9===t.nodeType&&m&&i.relative[s[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=Z.needsContext.test(e)?0:s.length;o--&&(c=s[o],!i.relative[u=c.type]);)if((d=i.find[u])&&(a=d(c.matches[0].replace(te,ne),ee.test(s[0].type)&&_e(t.parentNode)||t))){if(s.splice(o,1),!(e=a.length&&ye(s)))return O.apply(n,a),n;break}}return(f||l(e,p))(a,t,!m,n,!t||ee.test(e)&&_e(t.parentNode)||t),n},n.sortStable=g.split("").sort(T).join("")===g,n.detectDuplicates=!!d,f(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(M,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),le}(i);A.find=I,A.expr=I.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=I.uniqueSort,A.text=I.getText,A.isXMLDoc=I.isXML,A.contains=I.contains,A.escapeSelector=I.escape;var k=function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&A(e).is(n))break;i.push(e)}return i},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=A.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(e,t,n){return _(t)?A.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?A.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?A.grep(e,(function(e){return u.call(t,e)>-1!==n})):A.filter(t,e,n)}A.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?A.find.matchesSelector(i,e)?[i]:[]:A.find.matches(e,A.grep(t,(function(e){return 1===e.nodeType})))},A.fn.extend({find:function(e){var t,n,i=this.length,a=this;if("string"!=typeof e)return this.pushStack(A(e).filter((function(){for(t=0;t<i;t++)if(A.contains(a[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)A.find(e,a[t],n);return i>1?A.uniqueSort(n):n},filter:function(e){return this.pushStack(z(this,e||[],!1))},not:function(e){return this.pushStack(z(this,e||[],!0))},is:function(e){return!!z(this,"string"==typeof e&&D.test(e)?A(e):e||[],!1).length}});var O,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(A.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof A?t[0]:t,A.merge(this,A.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),E.test(i[1])&&A.isPlainObject(t))for(i in t)_(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(a=y.getElementById(i[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(A):A.makeArray(e,this)}).prototype=A.fn,O=A(y);var L=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}A.fn.extend({has:function(e){var t=A(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(A.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,a=this.length,o=[],r="string"!=typeof e&&A(e);if(!D.test(e))for(;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&A.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?A.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(A(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),A.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(R(e,"template")&&(e=e.content||e),A.merge([],e.childNodes))}},(function(e,t){A.fn[e]=function(n,i){var a=A.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=A.filter(i,a)),this.length>1&&(M[e]||A.uniqueSort(a),L.test(e)&&a.reverse()),this.pushStack(a)}}));var F=/[^\x20\t\r\n\f]+/g;function q(e){return e}function j(e){throw e}function H(e,t,n,i){var a;try{e&&_(a=e.promise)?a.call(e).done(t).fail(n):e&&_(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}A.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return A.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):A.extend({},e);var t,n,i,a,o=[],r=[],l=-1,s=function(){for(a=a||e.once,i=t=!0;r.length;l=-1)for(n=r.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,a&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(l=o.length-1,r.push(n)),function t(n){A.each(n,(function(n,i){_(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&t(i)}))}(arguments),n&&!t&&s()),this},remove:function(){return A.each(arguments,(function(e,t){for(var n;(n=A.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--})),this},has:function(e){return e?A.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return a=r=[],o=n="",this},disabled:function(){return!o},lock:function(){return a=r=[],n||t||(o=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],r.push(n),t||s()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},A.extend({Deferred:function(e){var t=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return A.Deferred((function(n){A.each(t,(function(t,i){var a=_(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=a&&a.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,a?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,a){var o=0;function r(e,t,n,a){return function(){var l=this,s=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(l,s))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,_(c)?a?c.call(i,r(o,t,q,a),r(o,t,j,a)):(o++,c.call(i,r(o,t,q,a),r(o,t,j,a),r(o,t,q,t.notifyWith))):(n!==q&&(l=void 0,s=[i]),(a||t.resolveWith)(l,s))}},u=a?c:function(){try{c()}catch(i){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(i,u.stackTrace),e+1>=o&&(n!==j&&(l=void 0,s=[i]),t.rejectWith(l,s))}};e?u():(A.Deferred.getStackHook&&(u.stackTrace=A.Deferred.getStackHook()),i.setTimeout(u))}}return A.Deferred((function(i){t[0][3].add(r(0,i,_(a)?a:q,i.notifyWith)),t[1][3].add(r(0,i,_(e)?e:q)),t[2][3].add(r(0,i,_(n)?n:j))})).promise()},promise:function(e){return null!=e?A.extend(e,a):a}},o={};return A.each(t,(function(e,i){var r=i[2],l=i[5];a[i[1]]=r.add,l&&r.add((function(){n=l}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=r.fireWith})),a.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),a=l.call(arguments),o=A.Deferred(),r=function(e){return function(n){i[e]=this,a[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(i,a)}};if(t<=1&&(H(e,o.done(r(n)).resolve,o.reject,!t),"pending"===o.state()||_(a[n]&&a[n].then)))return o.then();for(;n--;)H(a[n],r(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&U.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},A.readyException=function(e){i.setTimeout((function(){throw e}))};var V=A.Deferred();function G(){y.removeEventListener("DOMContentLoaded",G),i.removeEventListener("load",G),A.ready()}A.fn.ready=function(e){return V.then(e).catch((function(e){A.readyException(e)})),this},A.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--A.readyWait:A.isReady)||(A.isReady=!0,!0!==e&&--A.readyWait>0||V.resolveWith(y,[A]))}}),A.ready.then=V.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(A.ready):(y.addEventListener("DOMContentLoaded",G),i.addEventListener("load",G));var B=function(e,t,n,i,a,o,r){var l=0,s=e.length,c=null==n;if("object"===w(n))for(l in a=!0,n)B(e,t,l,n[l],!0,o,r);else if(void 0!==i&&(a=!0,_(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(A(e),n)})),t))for(;l<s;l++)t(e[l],n,r?i:i.call(e[l],l,t(e[l],n)));return a?e:c?t.call(e):s?t(e[0],n):o},J=/^-ms-/,Y=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function W(e){return e.replace(J,"ms-").replace(Y,Z)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=A.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,a=this.cache(e);if("string"==typeof t)a[W(t)]=n;else for(i in t)a[W(i)]=t[i];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in i?[t]:t.match(F)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||A.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!A.isEmptyObject(t)}};var Q=new K,$=new K,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(a){}$.set(e,t,n)}else n=void 0;return n}A.extend({hasData:function(e){return $.hasData(e)||Q.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),A.fn.extend({data:function(e,t){var n,i,a,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(a=$.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=W(i.slice(5)),ne(o,i,a[i]));Q.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each((function(){$.set(this,e)})):B(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=$.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),A.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Q.get(e,t),n&&(!i||Array.isArray(n)?i=Q.access(e,t,A.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=A.queue(e,t),i=n.length,a=n.shift(),o=A._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete o.stop,a.call(e,(function(){A.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:A.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),A.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?A.queue(this[0],e):void 0===t?this:this.each((function(){var n=A.queue(this,e,t);A._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&A.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){A.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=A.Deferred(),o=this,r=this.length,l=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=Q.get(o[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(l));return l(),a.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],re=y.documentElement,le=function(e){return A.contains(e.ownerDocument,e)},se={composed:!0};re.getRootNode&&(le=function(e){return A.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&le(e)&&"none"===A.css(e,"display")};function ue(e,t,n,i){var a,o,r=20,l=i?function(){return i.cur()}:function(){return A.css(e,t,"")},s=l(),c=n&&n[3]||(A.cssNumber[t]?"":"px"),u=e.nodeType&&(A.cssNumber[t]||"px"!==c&&+s)&&ae.exec(A.css(e,t));if(u&&u[3]!==c){for(s/=2,c=c||u[3],u=+s||1;r--;)A.style(e,t,u+c),(1-o)*(1-(o=l()/s||.5))<=0&&(r=0),u/=o;u*=2,A.style(e,t,u+c),n=n||[]}return n&&(u=+u||+s||0,a=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=a)),a}var de={};function fe(e){var t,n=e.ownerDocument,i=e.nodeName,a=de[i];return a||(t=n.body.appendChild(n.createElement(i)),a=A.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),de[i]=a,a)}function pe(e,t){for(var n,i,a=[],o=0,r=e.length;o<r;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(a[o]=Q.get(i,"display")||null,a[o]||(i.style.display="")),""===i.style.display&&ce(i)&&(a[o]=fe(i))):"none"!==n&&(a[o]="none",Q.set(i,"display",n)));for(o=0;o<r;o++)null!=a[o]&&(e[o].style.display=a[o]);return e}A.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?A(this).show():A(this).hide()}))}});var he,me,ve=/^(?:checkbox|radio)$/i,_e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,xe=/^$|^module$|\/(?:java|ecma)script/i;he=y.createDocumentFragment().appendChild(y.createElement("div")),(me=y.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),he.appendChild(me),v.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",v.option=!!he.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?A.merge([e],n):n}function be(e,t){for(var n=0,i=e.length;n<i;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,v.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var we=/<|&#?\w+;/;function Se(e,t,n,i,a){for(var o,r,l,s,c,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===w(o))A.merge(f,o.nodeType?[o]:o);else if(we.test(o)){for(r=r||d.appendChild(t.createElement("div")),l=(_e.exec(o)||["",""])[1].toLowerCase(),s=ye[l]||ye._default,r.innerHTML=s[1]+A.htmlPrefilter(o)+s[2],u=s[0];u--;)r=r.lastChild;A.merge(f,r.childNodes),(r=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(i&&A.inArray(o,i)>-1)a&&a.push(o);else if(c=le(o),r=ge(d.appendChild(o),"script"),c&&be(r),n)for(u=0;o=r[u++];)xe.test(o.type||"")&&n.push(o);return d}var Ae=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ie(){return!1}function ke(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,i,a,o){var r,l;if("object"==typeof t){for(l in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,l,n,i,t[l],o);return e}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),!1===a)a=Ie;else if(!a)return e;return 1===o&&(r=a,a=function(e){return A().off(e),r.apply(this,arguments)},a.guid=r.guid||(r.guid=A.guid++)),e.each((function(){A.event.add(this,t,a,i,n)}))}function De(e,t,n){n?(Q.set(e,t,!1),A.event.add(e,t,{namespace:!1,handler:function(e){var i,a,o=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(A.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),Q.set(this,t,o),i=n(this,t),this[t](),o!==(a=Q.get(this,t))||i?Q.set(this,t,!1):a={},o!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else o.length&&(Q.set(this,t,{value:A.event.trigger(A.extend(o[0],A.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&A.event.add(e,t,Ce)}A.event={global:{},add:function(e,t,n,i,a){var o,r,l,s,c,u,d,f,p,h,m,v=Q.get(e);if(X(e))for(n.handler&&(n=(o=n).handler,a=o.selector),a&&A.find.matchesSelector(re,a),n.guid||(n.guid=A.guid++),(s=v.events)||(s=v.events=Object.create(null)),(r=v.handle)||(r=v.handle=function(t){return void 0!==A&&A.event.triggered!==t.type?A.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(F)||[""]).length;c--;)p=m=(l=Ae.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),p&&(d=A.event.special[p]||{},p=(a?d.delegateType:d.bindType)||p,d=A.event.special[p]||{},u=A.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&A.expr.match.needsContext.test(a),namespace:h.join(".")},o),(f=s[p])||((f=s[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,h,r)||e.addEventListener&&e.addEventListener(p,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,u):f.push(u),A.event.global[p]=!0)},remove:function(e,t,n,i,a){var o,r,l,s,c,u,d,f,p,h,m,v=Q.hasData(e)&&Q.get(e);if(v&&(s=v.events)){for(c=(t=(t||"").match(F)||[""]).length;c--;)if(p=m=(l=Ae.exec(t[c])||[])[1],h=(l[2]||"").split(".").sort(),p){for(d=A.event.special[p]||{},f=s[p=(i?d.delegateType:d.bindType)||p]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=f.length;o--;)u=f[o],!a&&m!==u.origType||n&&n.guid!==u.guid||l&&!l.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));r&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,v.handle)||A.removeEvent(e,p,v.handle),delete s[p])}else for(p in s)A.event.remove(e,p+t[c],n,i,!0);A.isEmptyObject(s)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,a,o,r,l=new Array(arguments.length),s=A.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[s.type]||[],u=A.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(r=A.event.handlers.call(this,s,c),t=0;(a=r[t++])&&!s.isPropagationStopped();)for(s.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((A.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,a,o,r,l=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],r={},n=0;n<s;n++)void 0===r[a=(i=t[n]).selector+" "]&&(r[a]=i.needsContext?A(a,this).index(c)>-1:A.find(a,this,null,[c]).length),r[a]&&o.push(i);o.length&&l.push({elem:c,handlers:o})}return c=this,s<t.length&&l.push({elem:c,handlers:t.slice(s)}),l},addProp:function(e,t){Object.defineProperty(A.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[A.expando]?e:new A.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&R(t,"input")&&De(t,"click",Ce),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&R(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&R(t,"input")&&Q.get(t,"click")||R(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},A.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},A.Event=function(e,t){if(!(this instanceof A.Event))return new A.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&A.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},(function(e,t){A.event.special[e]={setup:function(){return De(this,e,ke),!1},trigger:function(){return De(this,e),!0},_default:function(t){return Q.get(t.target,e)},delegateType:t}})),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){A.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,o=e.handleObj;return a&&(a===i||A.contains(i,a))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),A.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,A(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){A.event.remove(this,e,n,t)}))}});var Re=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Oe(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&A(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,i,a,o,r,l;if(1===t.nodeType){if(Q.hasData(e)&&(l=Q.get(e).events))for(a in Q.remove(t,"handle events"),l)for(n=0,i=l[a].length;n<i;n++)A.event.add(t,a,l[a][n]);$.hasData(e)&&(o=$.access(e),r=A.extend({},o),$.set(t,r))}}function Ne(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,i){t=s(t);var a,o,r,l,c,u,d=0,f=e.length,p=f-1,h=t[0],m=_(h);if(m||f>1&&"string"==typeof h&&!v.checkClone&&Ee.test(h))return e.each((function(a){var o=e.eq(a);m&&(t[0]=h.call(this,a,o.html())),Fe(o,t,n,i)}));if(f&&(o=(a=Se(t,e[0].ownerDocument,!1,e,i)).firstChild,1===a.childNodes.length&&(a=o),o||i)){for(l=(r=A.map(ge(a,"script"),Pe)).length;d<f;d++)c=a,d!==p&&(c=A.clone(c,!0,!0),l&&A.merge(r,ge(c,"script"))),n.call(e[d],c,d);if(l)for(u=r[r.length-1].ownerDocument,A.map(r,Le),d=0;d<l;d++)c=r[d],xe.test(c.type||"")&&!Q.access(c,"globalEval")&&A.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?A._evalUrl&&!c.noModule&&A._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):b(c.textContent.replace(ze,""),c,u))}return e}function qe(e,t,n){for(var i,a=t?A.filter(t,e):e,o=0;null!=(i=a[o]);o++)n||1!==i.nodeType||A.cleanData(ge(i)),i.parentNode&&(n&&le(i)&&be(ge(i,"script")),i.parentNode.removeChild(i));return e}A.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,a,o,r,l=e.cloneNode(!0),s=le(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||A.isXMLDoc(e)))for(r=ge(l),i=0,a=(o=ge(e)).length;i<a;i++)Ne(o[i],r[i]);if(t)if(n)for(o=o||ge(e),r=r||ge(l),i=0,a=o.length;i<a;i++)Me(o[i],r[i]);else Me(e,l);return(r=ge(l,"script")).length>0&&be(r,!s&&ge(e,"script")),l},cleanData:function(e){for(var t,n,i,a=A.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[Q.expando]){if(t.events)for(i in t.events)a[i]?A.event.remove(n,i):A.removeEvent(n,i,t.handle);n[Q.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),A.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return B(this,(function(e){return void 0===e?A.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(A.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return A.clone(this,e,t)}))},html:function(e){return B(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!ye[(_e.exec(e)||["",""])[1].toLowerCase()]){e=A.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(A.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;A.inArray(this,e)<0&&(A.cleanData(ge(this)),n&&n.replaceChild(t,this))}),e)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){A.fn[e]=function(e){for(var n,i=[],a=A(e),o=a.length-1,r=0;r<=o;r++)n=r===o?this:this.clone(!0),A(a[r])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var je=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),He=/^--/,Ue=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ve=function(e,t,n){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.call(e),t)e.style[a]=o[a];return i},Ge=new RegExp(oe.join("|"),"i"),Be=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");function Je(e,t,n){var i,a,o,r,l=He.test(t),s=e.style;return(n=n||Ue(e))&&(r=n.getPropertyValue(t)||n[t],l&&(r=r.replace(Be,"$1")),""!==r||le(e)||(r=A.style(e,t)),!v.pixelBoxStyles()&&je.test(r)&&Ge.test(t)&&(i=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=a,s.maxWidth=o)),void 0!==r?r+"":r}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,s=12===t(e.marginLeft),u.style.right="60%",r=36===t(e.right),a=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),re.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,a,o,r,l,s,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,A.extend(v,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,a;return null==l&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),a=i.getComputedStyle(t),l=parseInt(a.height,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),l}}))}();var Ze=["Webkit","Moz","ms"],We=y.createElement("div").style,Xe={};function Ke(e){var t=A.cssProps[e]||Xe[e];return t||(e in We?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in We)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,$e={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var i=ae.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function nt(e,t,n,i,a,o){var r="width"===t?1:0,l=0,s=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(s+=A.css(e,n+oe[r],!0,a)),i?("content"===n&&(s-=A.css(e,"padding"+oe[r],!0,a)),"margin"!==n&&(s-=A.css(e,"border"+oe[r]+"Width",!0,a))):(s+=A.css(e,"padding"+oe[r],!0,a),"padding"!==n?s+=A.css(e,"border"+oe[r]+"Width",!0,a):l+=A.css(e,"border"+oe[r]+"Width",!0,a));return!i&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-l-.5))||0),s}function it(e,t,n){var i=Ue(e),a=(!v.boxSizingReliable()||n)&&"border-box"===A.css(e,"boxSizing",!1,i),o=a,r=Je(e,t,i),l="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(r)){if(!n)return r;r="auto"}return(!v.boxSizingReliable()&&a||!v.reliableTrDimensions()&&R(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===A.css(e,"display",!1,i))&&e.getClientRects().length&&(a="border-box"===A.css(e,"boxSizing",!1,i),(o=l in e)&&(r=e[l])),(r=parseFloat(r)||0)+nt(e,t,n||(a?"border":"content"),o,i,r)+"px"}function at(e,t,n,i,a){return new at.prototype.init(e,t,n,i,a)}A.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,r,l=W(t),s=He.test(t),c=e.style;if(s||(t=Ke(l)),r=A.cssHooks[t]||A.cssHooks[l],void 0===n)return r&&"get"in r&&void 0!==(a=r.get(e,!1,i))?a:c[t];"string"===(o=typeof n)&&(a=ae.exec(n))&&a[1]&&(n=ue(e,t,a),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=a&&a[3]||(A.cssNumber[l]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var a,o,r,l=W(t);return He.test(t)||(t=Ke(l)),(r=A.cssHooks[t]||A.cssHooks[l])&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=Je(e,t,i)),"normal"===a&&t in et&&(a=et[t]),""===n||n?(o=parseFloat(a),!0===n||isFinite(o)?o||0:a):a}}),A.each(["height","width"],(function(e,t){A.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(A.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,i):Ve(e,$e,(function(){return it(e,t,i)}))},set:function(e,n,i){var a,o=Ue(e),r=!v.scrollboxSize()&&"absolute"===o.position,l=(r||i)&&"border-box"===A.css(e,"boxSizing",!1,o),s=i?nt(e,t,i,l,o):0;return l&&r&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-nt(e,t,"border",!1,o)-.5)),s&&(a=ae.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=A.css(e,t)),tt(0,n,s)}}})),A.cssHooks.marginLeft=Ye(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),A.each({margin:"",padding:"",border:"Width"},(function(e,t){A.cssHooks[e+t]={expand:function(n){for(var i=0,a={},o="string"==typeof n?n.split(" "):[n];i<4;i++)a[e+oe[i]+t]=o[i]||o[i-2]||o[0];return a}},"margin"!==e&&(A.cssHooks[e+t].set=tt)})),A.fn.extend({css:function(e,t){return B(this,(function(e,t,n){var i,a,o={},r=0;if(Array.isArray(t)){for(i=Ue(e),a=t.length;r<a;r++)o[t[r]]=A.css(e,t[r],!1,i);return o}return void 0!==n?A.style(e,t,n):A.css(e,t)}),e,t,arguments.length>1)}}),A.Tween=at,at.prototype={constructor:at,init:function(e,t,n,i,a,o){this.elem=e,this.prop=n,this.easing=a||A.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(A.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=A.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=A.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){A.fx.step[e.prop]?A.fx.step[e.prop](e):1!==e.elem.nodeType||!A.cssHooks[e.prop]&&null==e.elem.style[Ke(e.prop)]?e.elem[e.prop]=e.now:A.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},A.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},A.fx=at.prototype.init,A.fx.step={};var ot,rt,lt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ct(){rt&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ct):i.setTimeout(ct,A.fx.interval),A.fx.tick())}function ut(){return i.setTimeout((function(){ot=void 0})),ot=Date.now()}function dt(e,t){var n,i=0,a={height:e};for(t=t?1:0;i<4;i+=2-t)a["margin"+(n=oe[i])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ft(e,t,n){for(var i,a=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,r=a.length;o<r;o++)if(i=a[o].call(n,t,e))return i}function pt(e,t,n){var i,a,o=0,r=pt.prefilters.length,l=A.Deferred().always((function(){delete s.elem})),s=function(){if(a)return!1;for(var t=ot||ut(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,r=c.tweens.length;o<r;o++)c.tweens[o].run(i);return l.notifyWith(e,[c,i,n]),i<1&&r?n:(r||l.notifyWith(e,[c,1,0]),l.resolveWith(e,[c]),!1)},c=l.promise({elem:e,props:A.extend({},t),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var i=A.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;n<i;n++)c.tweens[n].run(1);return t?(l.notifyWith(e,[c,1,0]),l.resolveWith(e,[c,t])):l.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,a,o,r;for(n in e)if(a=t[i=W(n)],o=e[n],Array.isArray(o)&&(a=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(r=A.cssHooks[i])&&"expand"in r)for(n in o=r.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=a);else t[i]=a}(u,c.opts.specialEasing);o<r;o++)if(i=pt.prefilters[o].call(c,e,u,c.opts))return _(i.stop)&&(A._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return A.map(u,ft,c),_(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),A.fx.timer(A.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}A.Animation=A.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ae.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(F);for(var n,i=0,a=e.length;i<a;i++)n=e[i],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,a,o,r,l,s,c,u,d="width"in t||"height"in t,f=this,p={},h=e.style,m=e.nodeType&&ce(e),v=Q.get(e,"fxshow");for(i in n.queue||(null==(r=A._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,f.always((function(){f.always((function(){r.unqueued--,A.queue(e,"fx").length||r.empty.fire()}))}))),t)if(a=t[i],lt.test(a)){if(delete t[i],o=o||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!v||void 0===v[i])continue;m=!0}p[i]=v&&v[i]||A.style(e,i)}if((s=!A.isEmptyObject(t))||!A.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=v&&v.display)&&(c=Q.get(e,"display")),"none"===(u=A.css(e,"display"))&&(c?u=c:(pe([e],!0),c=e.style.display||c,u=A.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===A.css(e,"float")&&(s||(f.done((function(){h.display=c})),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),s=!1,p)s||(v?"hidden"in v&&(m=v.hidden):v=Q.access(e,"fxshow",{display:c}),o&&(v.hidden=!m),m&&pe([e],!0),f.done((function(){for(i in m||pe([e]),Q.remove(e,"fxshow"),p)A.style(e,i,p[i])}))),s=ft(m?v[i]:0,i,f),i in v||(v[i]=s.start,m&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),A.speed=function(e,t,n){var i=e&&"object"==typeof e?A.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return A.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in A.fx.speeds?i.duration=A.fx.speeds[i.duration]:i.duration=A.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_(i.old)&&i.old.call(this),i.queue&&A.dequeue(this,i.queue)},i},A.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=A.isEmptyObject(e),o=A.speed(t,n,i),r=function(){var t=pt(this,A.extend({},e),o);(a||Q.get(this,"finish"))&&t.stop(!0)};return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,a=null!=e&&e+"queueHooks",o=A.timers,r=Q.get(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&st.test(a)&&i(r[a]);for(a=o.length;a--;)o[a].elem!==this||null!=e&&o[a].queue!==e||(o[a].anim.stop(n),t=!1,o.splice(a,1));!t&&n||A.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],o=A.timers,r=i?i.length:0;for(n.finish=!0,A.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),A.each(["toggle","show","hide"],(function(e,t){var n=A.fn[t];A.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,i,a)}})),A.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){A.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),A.timers=[],A.fx.tick=function(){var e,t=0,n=A.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||A.fx.stop(),ot=void 0},A.fx.timer=function(e){A.timers.push(e),A.fx.start()},A.fx.interval=13,A.fx.start=function(){rt||(rt=!0,ct())},A.fx.stop=function(){rt=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(e,t){return e=A.fx&&A.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var a=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(a)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ht,mt=A.expr.attrHandle;A.fn.extend({attr:function(e,t){return B(this,A.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){A.removeAttr(this,e)}))}}),A.extend({attr:function(e,t,n){var i,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?A.prop(e,t,n):(1===o&&A.isXMLDoc(e)||(a=A.attrHooks[t.toLowerCase()]||(A.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void A.removeAttr(e,t):a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(i=a.get(e,t))?i:null==(i=A.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&R(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,a=t&&t.match(F);if(a&&1===e.nodeType)for(;n=a[i++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?A.removeAttr(e,n):e.setAttribute(n,n),n}},A.each(A.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=mt[t]||A.find.attr;mt[t]=function(e,t,i){var a,o,r=t.toLowerCase();return i||(o=mt[r],mt[r]=a,a=null!=n(e,t,i)?r:null,mt[r]=o),a}}));var vt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function xt(e){return(e.match(F)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}A.fn.extend({prop:function(e,t){return B(this,A.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[A.propFix[e]||e]}))}}),A.extend({prop:function(e,t,n){var i,a,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&A.isXMLDoc(e)||(t=A.propFix[t]||t,a=A.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=A.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(A.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){A.propFix[this.toLowerCase()]=this})),A.fn.extend({addClass:function(e){var t,n,i,a,o,r;return _(e)?this.each((function(t){A(this).addClass(e.call(this,t,yt(this)))})):(t=gt(e)).length?this.each((function(){if(i=yt(this),n=1===this.nodeType&&" "+xt(i)+" "){for(o=0;o<t.length;o++)a=t[o],n.indexOf(" "+a+" ")<0&&(n+=a+" ");r=xt(n),i!==r&&this.setAttribute("class",r)}})):this},removeClass:function(e){var t,n,i,a,o,r;return _(e)?this.each((function(t){A(this).removeClass(e.call(this,t,yt(this)))})):arguments.length?(t=gt(e)).length?this.each((function(){if(i=yt(this),n=1===this.nodeType&&" "+xt(i)+" "){for(o=0;o<t.length;o++)for(a=t[o];n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");r=xt(n),i!==r&&this.setAttribute("class",r)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,a,o,r=typeof e,l="string"===r||Array.isArray(e);return _(e)?this.each((function(n){A(this).toggleClass(e.call(this,n,yt(this),t),t)})):"boolean"==typeof t&&l?t?this.addClass(e):this.removeClass(e):(n=gt(e),this.each((function(){if(l)for(o=A(this),a=0;a<n.length;a++)i=n[a],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==r||((i=yt(this))&&Q.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":Q.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+xt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;A.fn.extend({val:function(e){var t,n,i,a=this[0];return arguments.length?(i=_(e),this.each((function(n){var a;1===this.nodeType&&(null==(a=i?e.call(this,n,A(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=A.map(a,(function(e){return null==e?"":e+""}))),(t=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))}))):a?(t=A.valHooks[a.type]||A.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(bt,""):null==n?"":n:void 0}}),A.extend({valHooks:{option:{get:function(e){var t=A.find.attr(e,"value");return null!=t?t:xt(A.text(e))}},select:{get:function(e){var t,n,i,a=e.options,o=e.selectedIndex,r="select-one"===e.type,l=r?null:[],s=r?o+1:a.length;for(i=o<0?s:r?o:0;i<s;i++)if(((n=a[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(t=A(n).val(),r)return t;l.push(t)}return l},set:function(e,t){for(var n,i,a=e.options,o=A.makeArray(t),r=a.length;r--;)((i=a[r]).selected=A.inArray(A.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),A.each(["radio","checkbox"],(function(){A.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=A.inArray(A(e).val(),t)>-1}},v.checkOn||(A.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in i;var wt=/^(?:focusinfocus|focusoutblur)$/,St=function(e){e.stopPropagation()};A.extend(A.event,{trigger:function(e,t,n,a){var o,r,l,s,c,u,d,f,h=[n||y],m=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(r=f=l=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!wt.test(m+A.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[A.expando]?e:new A.Event(m,"object"==typeof e&&e)).isTrigger=a?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:A.makeArray(t,[e]),d=A.event.special[m]||{},a||!d.trigger||!1!==d.trigger.apply(n,t))){if(!a&&!d.noBubble&&!x(n)){for(s=d.delegateType||m,wt.test(s+m)||(r=r.parentNode);r;r=r.parentNode)h.push(r),l=r;l===(n.ownerDocument||y)&&h.push(l.defaultView||l.parentWindow||i)}for(o=0;(r=h[o++])&&!e.isPropagationStopped();)f=r,e.type=o>1?s:d.bindType||m,(u=(Q.get(r,"events")||Object.create(null))[e.type]&&Q.get(r,"handle"))&&u.apply(r,t),(u=c&&r[c])&&u.apply&&X(r)&&(e.result=u.apply(r,t),!1===e.result&&e.preventDefault());return e.type=m,a||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!X(n)||c&&_(n[m])&&!x(n)&&((l=n[c])&&(n[c]=null),A.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,St),n[m](),e.isPropagationStopped()&&f.removeEventListener(m,St),A.event.triggered=void 0,l&&(n[c]=l)),e.result}},simulate:function(e,t,n){var i=A.extend(new A.Event,n,{type:e,isSimulated:!0});A.event.trigger(i,null,t)}}),A.fn.extend({trigger:function(e,t){return this.each((function(){A.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return A.event.trigger(e,t,n,!0)}}),v.focusin||A.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){A.event.simulate(t,e.target,A.event.fix(e))};A.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,a=Q.access(i,t);a||i.addEventListener(e,n,!0),Q.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,a=Q.access(i,t)-1;a?Q.access(i,t,a):(i.removeEventListener(e,n,!0),Q.remove(i,t))}}}));var At=i.location,Ct={guid:Date.now()},It=/\?/;A.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(a){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||A.error("Invalid XML: "+(n?A.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var kt=/\[\]$/,Tt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,i){var a;if(Array.isArray(t))A.each(t,(function(t,a){n||kt.test(e)?i(e,a):Et(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,i)}));else if(n||"object"!==w(t))i(e,t);else for(a in t)Et(e+"["+a+"]",t[a],n,i)}A.param=function(e,t){var n,i=[],a=function(e,t){var n=_(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!A.isPlainObject(e))A.each(e,(function(){a(this.name,this.value)}));else for(n in e)Et(n,e[n],t,a);return i.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=A.prop(this,"elements");return e?A.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!A(this).is(":disabled")&&Rt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var n=A(this).val();return null==n?null:Array.isArray(n)?A.map(n,(function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}})):{name:t.name,value:n.replace(Tt,"\r\n")}})).get()}});var zt=/%20/g,Ot=/#.*$/,Pt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Ft={},qt={},jt="*/".concat("*"),Ht=y.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,o=t.toLowerCase().match(F)||[];if(_(n))for(;i=o[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Vt(e,t,n,i){var a={},o=e===qt;function r(l){var s;return a[l]=!0,A.each(e[l]||[],(function(e,l){var c=l(t,n,i);return"string"!=typeof c||o||a[c]?o?!(s=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),s}return r(t.dataTypes[0])||!a["*"]&&r("*")}function Gt(e,t){var n,i,a=A.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&A.extend(!0,e,i),e}Ht.href=At.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,A.ajaxSettings),t):Gt(A.ajaxSettings,e)},ajaxPrefilter:Ut(Ft),ajaxTransport:Ut(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,a,o,r,l,s,c,u,d,f,p=A.ajaxSetup({},t),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?A(h):A.event,v=A.Deferred(),_=A.Callbacks("once memory"),x=p.statusCode||{},g={},b={},w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!r)for(r={};t=Lt.exec(o);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,g[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),C(0,t),this}};if(v.promise(S),p.url=((e||p.url||At.href)+"").replace(Nt,At.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){s=y.createElement("a");try{s.href=p.url,s.href=s.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=s.protocol+"//"+s.host}catch(I){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=A.param(p.data,p.traditional)),Vt(Ft,p,t,S),c)return S;for(d in(u=A.event&&p.global)&&0==A.active++&&A.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Mt.test(p.type),a=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(zt,"+")):(f=p.url.slice(a.length),p.data&&(p.processData||"string"==typeof p.data)&&(a+=(It.test(a)?"&":"?")+p.data,delete p.data),!1===p.cache&&(a=a.replace(Pt,"$1"),f=(It.test(a)?"&":"?")+"_="+Ct.guid+++f),p.url=a+f),p.ifModified&&(A.lastModified[a]&&S.setRequestHeader("If-Modified-Since",A.lastModified[a]),A.etag[a]&&S.setRequestHeader("If-None-Match",A.etag[a])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+jt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,S,p)||c))return S.abort();if(w="abort",_.add(p.complete),S.done(p.success),S.fail(p.error),n=Vt(qt,p,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=i.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,n.send(g,C)}catch(I){if(c)throw I;C(-1,I)}}else C(-1,"No Transport");function C(e,t,r,s){var d,f,y,g,b,w=t;c||(c=!0,l&&i.clearTimeout(l),n=void 0,o=s||"",S.readyState=e>0?4:0,d=e>=200&&e<300||304===e,r&&(g=function(e,t,n){for(var i,a,o,r,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){s.unshift(a);break}if(s[0]in n)o=s[0];else{for(a in n){if(!s[0]||e.converters[a+" "+s[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==s[0]&&s.unshift(o),n[o]}(p,S,r)),!d&&A.inArray("script",p.dataTypes)>-1&&A.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),g=function(e,t,n,i){var a,o,r,l,s,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!s&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=o,o=u.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(r=c[s+" "+o]||c["* "+o]))for(a in c)if((l=a.split(" "))[1]===o&&(r=c[s+" "+l[0]]||c["* "+l[0]])){!0===r?r=c[a]:!0!==c[a]&&(o=l[0],u.unshift(l[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(I){return{state:"parsererror",error:r?I:"No conversion from "+s+" to "+o}}}return{state:"success",data:t}}(p,g,S,d),d?(p.ifModified&&((b=S.getResponseHeader("Last-Modified"))&&(A.lastModified[a]=b),(b=S.getResponseHeader("etag"))&&(A.etag[a]=b)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=g.state,f=g.data,d=!(y=g.error))):(y=w,!e&&w||(w="error",e<0&&(e=0))),S.status=e,S.statusText=(t||w)+"",d?v.resolveWith(h,[f,w,S]):v.rejectWith(h,[S,w,y]),S.statusCode(x),x=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,p,d?f:y]),_.fireWith(h,[S,w]),u&&(m.trigger("ajaxComplete",[S,p]),--A.active||A.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return A.get(e,t,n,"json")},getScript:function(e,t){return A.get(e,void 0,t,"script")}}),A.each(["get","post"],(function(e,t){A[t]=function(e,n,i,a){return _(n)&&(a=a||i,i=n,n=void 0),A.ajax(A.extend({url:e,type:t,dataType:a,data:n,success:i},A.isPlainObject(e)&&e))}})),A.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),A._evalUrl=function(e,t,n){return A.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){A.globalEval(e,t,n)}})},A.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=A(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return _(e)?this.each((function(t){A(this).wrapInner(e.call(this,t))})):this.each((function(){var t=A(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=_(e);return this.each((function(n){A(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){A(this).replaceWith(this.childNodes)})),this}}),A.expr.pseudos.hidden=function(e){return!A.expr.pseudos.visible(e)},A.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Jt=A.ajaxSettings.xhr();v.cors=!!Jt&&"withCredentials"in Jt,v.ajax=Jt=!!Jt,A.ajaxTransport((function(e){var t,n;if(v.cors||Jt&&!e.crossDomain)return{send:function(a,o){var r,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)l[r]=e.xhrFields[r];for(r in e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)l.setRequestHeader(r,a[r]);t=function(e){return function(){t&&(t=n=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===e?l.abort():"error"===e?"number"!=typeof l.status?o(0,"error"):o(l.status,l.statusText):o(Bt[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=t(),n=l.onerror=l.ontimeout=t("error"),void 0!==l.onabort?l.onabort=n:l.onreadystatechange=function(){4===l.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{l.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}})),A.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return A.globalEval(e),e}}}),A.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),A.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,a){t=A("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Yt,Zt=[],Wt=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||A.expando+"_"+Ct.guid++;return this[e]=!0,e}}),A.ajaxPrefilter("json jsonp",(function(e,t,n){var a,o,r,l=!1!==e.jsonp&&(Wt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Wt,"$1"+a):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return r||A.error(a+" was not called"),r[0]},e.dataTypes[0]="json",o=i[a],i[a]=function(){r=arguments},n.always((function(){void 0===o?A(i).removeProp(a):i[a]=o,e[a]&&(e.jsonpCallback=t.jsonpCallback,Zt.push(a)),r&&_(o)&&o(r[0]),r=o=void 0})),"script"})),v.createHTMLDocument=((Yt=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Yt.childNodes.length),A.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(a=E.exec(e))?[t.createElement(a[1])]:(a=Se([e],t,o),o&&o.length&&A(o).remove(),A.merge([],a.childNodes)));var i,a,o},A.fn.load=function(e,t,n){var i,a,o,r=this,l=e.indexOf(" ");return l>-1&&(i=xt(e.slice(l)),e=e.slice(0,l)),_(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),r.length>0&&A.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done((function(e){o=arguments,r.html(i?A("<div>").append(A.parseHTML(e)).find(i):e)})).always(n&&function(e,t){r.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},A.expr.pseudos.animated=function(e){return A.grep(A.timers,(function(t){return e===t.elem})).length},A.offset={setOffset:function(e,t,n){var i,a,o,r,l,s,c=A.css(e,"position"),u=A(e),d={};"static"===c&&(e.style.position="relative"),l=u.offset(),o=A.css(e,"top"),s=A.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1?(r=(i=u.position()).top,a=i.left):(r=parseFloat(o)||0,a=parseFloat(s)||0),_(t)&&(t=t.call(e,n,A.extend({},l))),null!=t.top&&(d.top=t.top-l.top+r),null!=t.left&&(d.left=t.left-l.left+a),"using"in t?t.using.call(e,d):u.css(d)}},A.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){A.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],a={top:0,left:0};if("fixed"===A.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===A.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((a=A(e).offset()).top+=A.css(e,"borderTopWidth",!0),a.left+=A.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-A.css(i,"marginTop",!0),left:t.left-a.left-A.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===A.css(e,"position");)e=e.offsetParent;return e||re}))}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;A.fn[e]=function(i){return B(this,(function(e,i,a){var o;if(x(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===a)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:a,n?a:o.pageYOffset):e[i]=a}),e,i,arguments.length)}})),A.each(["top","left"],(function(e,t){A.cssHooks[t]=Ye(v.pixelPosition,(function(e,n){if(n)return n=Je(e,t),je.test(n)?A(e).position()[t]+"px":n}))})),A.each({Height:"height",Width:"width"},(function(e,t){A.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){A.fn[i]=function(a,o){var r=arguments.length&&(n||"boolean"!=typeof a),l=n||(!0===a||!0===o?"margin":"border");return B(this,(function(t,n,a){var o;return x(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===a?A.css(t,n,l):A.style(t,n,a,l)}),t,r?a:void 0,r)}}))})),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){A.fn[t]=function(e){return this.on(t,e)}})),A.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){A.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(e,t){var n,i,a;if("string"==typeof t&&(n=e[t],t=e,e=n),_(e))return i=l.call(arguments,2),a=function(){return e.apply(t||this,i.concat(l.call(arguments)))},a.guid=e.guid=e.guid||A.guid++,a},A.holdReady=function(e){e?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=R,A.isFunction=_,A.isWindow=x,A.camelCase=W,A.type=w,A.now=Date.now,A.isNumeric=function(e){var t=A.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},A.trim=function(e){return null==e?"":(e+"").replace(Xt,"$1")},void 0===(n=function(){return A}.apply(t,[]))||(e.exports=n);var Kt=i.jQuery,Qt=i.$;return A.noConflict=function(e){return i.$===A&&(i.$=Qt),e&&i.jQuery===A&&(i.jQuery=Kt),A},void 0===a&&(i.jQuery=i.$=A),A}))},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},r=[],l=0;l<e.length;l++){var s=e[l],c=i.base?s[0]+i.base:s[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var f=n(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=a(p,i);i.byIndex=l,t.splice(l,0,{identifier:d,updater:h,references:1})}r.push(d)}return r}function a(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=i(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var l=n(o[r]);t[l].references--}for(var s=i(e,a),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=s}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(i){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,a&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},825:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 model;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_aitoff(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},831:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_arc(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},624:e=>{e.exports="#version 300 es\nprecision lowp float;in vec2 out_uv;in vec3 out_p;out vec4 color;uniform sampler2D kernel_texture;uniform float max_density;uniform float fov;uniform float strength;void main(){color=texture(kernel_texture,out_uv)/max(log2(fov*100.),1.);color.r*=strength;}"},610:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 model;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_healpix(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},423:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_mercator(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},892:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_mollweide(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},585:e=>{e.exports="#version 300 es\nprecision lowp float;in vec2 out_uv;in vec3 out_p;out vec4 color;uniform sampler2D kernel_texture;uniform float max_density;uniform float fov;uniform float strength;void main(){if(out_p.z<0.f){discard;}color=texture(kernel_texture,out_uv)/max(log2(fov*100.),1.);color.r*=strength;}"},418:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_orthographic(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},494:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 offset;layout(location=1)in vec2 uv;layout(location=2)in vec3 center;uniform float current_time;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform vec2 kernel_size;out vec2 out_uv;out vec3 out_p;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec3 p=vec3(inv_model*vec4(center,1.0f));vec2 center_pos_clip_space=world2clip_gnomonic(p);vec2 pos_clip_space=center_pos_clip_space;gl_Position=vec4((pos_clip_space/(ndc_to_clip*czf))+offset*kernel_size,0.f,1.f);out_uv=uv;out_p=p;}"},820:e=>{e.exports="#version 300 es\nprecision lowp float;precision lowp sampler2D;in vec2 out_uv;out vec4 color;uniform sampler2D texture_fbo;uniform float alpha;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}void main(){float opacity=texture(texture_fbo,out_uv).r;float o=smoothstep(0.,0.1,opacity);color=colormap_f(opacity);color.a=o*alpha;}"},652:e=>{e.exports="#version 300 es\nprecision lowp float;precision lowp sampler2D;layout(location=0)in vec2 position;layout(location=1)in vec2 uv;out vec2 out_uv;void main(){gl_Position=vec4(position,0.f,1.f);out_uv=uv;}"},749:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision mediump int;out vec4 out_frag_color;in vec2 frag_uv;uniform sampler2D tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float opacity;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}void main(){if(frag_uv.x>=0.&&frag_uv.x<=1.&&frag_uv.y>=0.&&frag_uv.y<=1.){float x=texture(tex,frag_uv).r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);out_frag_color=mix(colormap_f(alpha),vec4(0.),float(x==blank||isnan(x)));out_frag_color.a=out_frag_color.a*opacity;}else{discard;}}"},262:e=>{e.exports="#version 300 es\nprecision highp float;precision mediump int;layout(location=0)in vec2 ndc_pos;layout(location=1)in vec2 uv;out vec2 frag_uv;uniform sampler2D tex;void main(){gl_Position=vec4(ndc_pos,0.,1.);frag_uv=uv;}"},371:e=>{e.exports="#version 300 es\nprecision lowp float;out vec4 frag_color;uniform vec3 color;uniform float opacity;const float PI=3.141592653589793f;void main(){frag_color=vec4(color,opacity);}"},579:e=>{e.exports="#version 300 es\nprecision lowp float;layout(location=0)in vec2 ndc_pos;void main(){gl_Position=vec4(ndc_pos,0.,1.);}"},378:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform float opacity;uniform sampler2D tex1;uniform sampler2D tex2;uniform sampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}vec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return vec4(0.,1.,0.,1.);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_color_from_texture(vec3 UV){return get_pixels(UV);}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha)*color.a,vec4(0.),float(x==blank||isnan(x)));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a*color.a),vec4(0.),float(x==blank||isnan(x)));}void main(){vec4 color_start=get_color_from_texture(frag_uv_start);vec4 color_end=get_color_from_texture(frag_uv_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=opacity*out_frag_color.a;}"},258:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform sampler2D tex1;uniform sampler2D tex2;uniform sampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}vec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return vec4(0.,1.,0.,1.);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_color_from_texture(vec3 UV){return get_pixels(UV);}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha)*color.a,vec4(0.),float(x==blank||isnan(x)));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a*color.a),vec4(0.),float(x==blank||isnan(x)));}uniform float opacity;vec4 get_color(vec3 uv,float empty){vec4 color=mix(get_color_from_grayscale_texture(uv),vec4(0.),empty);return color;}void main(){vec4 color_start=get_color(frag_uv_start,m_start);vec4 color_end=get_color(frag_uv_end,m_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=out_frag_color.a*opacity;}"},37:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform isampler2D tex1;uniform isampler2D tex2;uniform isampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}ivec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return ivec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}uniform float opacity;vec4 get_color(vec3 uv,float empty){vec4 color=mix(get_color_from_grayscale_texture(uv),vec4(0.),empty);return color;}void main(){vec4 color_start=get_color(frag_uv_start,m_start);vec4 color_end=get_color(frag_uv_end,m_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=out_frag_color.a*opacity;}"},594:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision highp usampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform usampler2D tex1;uniform usampler2D tex2;uniform usampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}uvec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return uvec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}uniform float opacity;vec4 get_color(vec3 uv,float empty){vec4 color=mix(get_color_from_grayscale_texture(uv),vec4(0.),empty);return color;}void main(){vec4 color_start=get_color(frag_uv_start,m_start);vec4 color_end=get_color(frag_uv_end,m_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=out_frag_color.a*opacity;}"},593:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform sampler2D tex1;uniform sampler2D tex2;uniform sampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}vec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return vec4(0.,1.,0.,1.);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_color_from_texture(vec3 UV){return get_pixels(UV);}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha)*color.a,vec4(0.),float(x==blank||isnan(x)));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a*color.a),vec4(0.),float(x==blank||isnan(x)));}uniform float opacity;void main(){vec4 color_start=get_colormap_from_grayscale_texture(frag_uv_start);vec4 color_end=get_colormap_from_grayscale_texture(frag_uv_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=out_frag_color.a*opacity;}"},567:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform isampler2D tex1;uniform isampler2D tex2;uniform isampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}ivec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return ivec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}uniform float opacity;void main(){vec4 color_start=get_colormap_from_grayscale_texture(frag_uv_start);vec4 color_end=get_colormap_from_grayscale_texture(frag_uv_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=out_frag_color.a*opacity;}"},206:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp isampler2D;precision highp usampler2D;precision mediump int;in vec3 frag_uv_start;in vec3 frag_uv_end;in float frag_blending_factor;in float m_start;in float m_end;out vec4 out_frag_color;uniform usampler2D tex1;uniform usampler2D tex2;uniform usampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}uvec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return uvec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}uniform float opacity;void main(){vec4 color_start=get_colormap_from_grayscale_texture(frag_uv_start);vec4 color_end=get_colormap_from_grayscale_texture(frag_uv_end);out_frag_color=mix(color_start,color_end,frag_blending_factor);out_frag_color.a=out_frag_color.a*opacity;}"},627:e=>{e.exports="#version 300 es\nprecision highp float;precision mediump int;layout(location=0)in vec2 ndc_pos;layout(location=1)in vec3 uv_start;layout(location=2)in vec3 uv_end;layout(location=3)in float time_tile_received;layout(location=4)in float m0;layout(location=5)in float m1;out vec3 frag_uv_start;out vec3 frag_uv_end;out float frag_blending_factor;out float m_start;out float m_end;uniform mat4 inv_model;uniform vec2 ndc_to_clip;uniform float czf;uniform float current_time;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){gl_Position=vec4(ndc_pos,0.,1.);frag_uv_start=uv_start;frag_uv_end=uv_end;frag_blending_factor=min((current_time-time_tile_received)/500.,1.);m_start=m0;m_end=m1;}"},943:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;out vec4 out_frag_color;uniform vec3 color;uniform float opacity;void main(){out_frag_color=vec4(color,opacity);}"},20:e=>{e.exports="#version 300 es\nprecision highp float;precision mediump int;layout(location=0)in vec2 pos_clip_space;uniform vec2 ndc_to_clip;uniform float czf;void main(){gl_Position=vec4(pos_clip_space/(ndc_to_clip*czf),0.,1.);}"},935:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec2 out_clip_pos;in vec3 frag_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];uniform int num_tiles;uniform sampler2D tex1;uniform sampler2D tex2;uniform sampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}vec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return vec4(0.,1.,0.,1.);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_color_from_texture(vec3 UV){return get_pixels(UV);}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha)*color.a,vec4(0.),float(x==blank||isnan(x)));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a*color.a),vec4(0.),float(x==blank||isnan(x)));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}uniform float opacity;vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_color_from_texture(UV);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(normalize(frag_pos));out_frag_color=vec4(c.rgb,opacity*c.a);}"},215:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec2 out_clip_pos;in vec3 frag_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];uniform sampler2D tex1;uniform sampler2D tex2;uniform sampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}vec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return vec4(0.,1.,0.,1.);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_color_from_texture(vec3 UV){return get_pixels(UV);}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha)*color.a,vec4(0.),float(x==blank||isnan(x)));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a*color.a),vec4(0.),float(x==blank||isnan(x)));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}uniform float opacity;vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_color_from_grayscale_texture(UV);color.a*=(1.-tile.empty);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(normalize(frag_pos));out_frag_color=c;out_frag_color.a=out_frag_color.a*opacity;}"},757:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec2 out_clip_pos;in vec3 frag_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];struct TileColor{Tile tile;vec4 color;bool found;};uniform isampler2D tex1;uniform isampler2D tex2;uniform isampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}ivec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return ivec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}uniform float opacity;vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_color_from_grayscale_texture(UV);color.a*=(1.-tile.empty);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(frag_pos);out_frag_color=c;out_frag_color.a=out_frag_color.a*opacity;}"},493:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec2 out_clip_pos;in vec3 frag_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];struct TileColor{Tile tile;vec4 color;bool found;};uniform usampler2D tex1;uniform usampler2D tex2;uniform usampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}uvec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return uvec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}uniform float opacity;vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_color_from_grayscale_texture(UV);color.a*=(1.-tile.empty);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(frag_pos);out_frag_color=c;out_frag_color.a=out_frag_color.a*opacity;}"},187:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_pos;in vec2 out_clip_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];uniform float opacity;struct TileColor{Tile tile;vec4 color;bool found;};uniform sampler2D tex1;uniform sampler2D tex2;uniform sampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}vec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return vec4(0.,1.,0.,1.);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_color_from_texture(vec3 UV){return get_pixels(UV);}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha)*color.a,vec4(0.),float(x==blank||isnan(x)));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));vec4 color=get_pixels(uv);float x=color.r;float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a*color.a),vec4(0.),float(x==blank||isnan(x)));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_colormap_from_grayscale_texture(UV);color.a*=(1.-tile.empty);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(normalize(frag_pos));out_frag_color=c;out_frag_color.a=out_frag_color.a*opacity;}"},726:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_pos;in vec2 out_clip_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];uniform float opacity;uniform isampler2D tex1;uniform isampler2D tex2;uniform isampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}ivec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return ivec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_colormap_from_grayscale_texture(UV);color.a*=(1.-tile.empty);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(normalize(frag_pos));out_frag_color=c;out_frag_color.a=out_frag_color.a*opacity;}"},90:e=>{e.exports="#version 300 es\nprecision highp float;precision highp sampler2D;precision highp usampler2D;precision highp isampler2D;precision mediump int;in vec3 frag_pos;in vec2 out_clip_pos;out vec4 out_frag_color;struct Tile{int uniq;int texture_idx;float start_time;float empty;};uniform Tile textures_tiles[12];uniform float opacity;uniform usampler2D tex1;uniform usampler2D tex2;uniform usampler2D tex3;uniform int num_tex;uniform float scale;uniform float offset;uniform float blank;uniform float min_value;uniform float max_value;uniform int H;uniform float size_tile_uv;uniform int tex_storing_fits;uniform sampler2D colormaps;uniform float num_colormaps;uniform float colormap_id;uniform float reversed;vec4 colormap_f(float x){x=mix(x,1.-x,reversed);float id=(colormap_id+0.5)/num_colormaps;return texture(colormaps,vec2(x,id));}float linear_f(float x,float min_value,float max_value){return clamp((x-min_value)/(max_value-min_value),0.,1.);}float sqrt_f(float x,float min_value,float max_value){float a=linear_f(x,min_value,max_value);return sqrt(a);}float log_f(float x,float min_value,float max_value){float y=linear_f(x,min_value,max_value);float a=1000.;return log(a*y+1.)/log(a);}float asinh_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return asinh(10.*d)/3.;}float pow2_f(float x,float min_value,float max_value){float d=linear_f(x,min_value,max_value);return d*d;}float transfer_func(int H,float x,float min_value,float max_value){if(H==0){return linear_f(x,min_value,max_value);}else if(H==1){return sqrt_f(x,min_value,max_value);}else if(H==2){return log_f(x,min_value,max_value);}else if(H==3){return asinh_f(x,min_value,max_value);}else{return pow2_f(x,min_value,max_value);}}uvec4 get_pixels(vec3 uv){int idx_texture=int(uv.z);if(idx_texture==0){return texture(tex1,uv.xy);}else if(idx_texture==1){return texture(tex2,uv.xy);}else if(idx_texture==2){return texture(tex3,uv.xy);}else{return uvec4(0,0,0,1);}}vec3 reverse_uv(vec3 uv){uv.y=size_tile_uv+2.*size_tile_uv*floor(uv.y/size_tile_uv)-uv.y;return uv;}vec4 get_colormap_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(colormap_f(alpha),vec4(0.),float(x==blank));}uniform vec4 C;uniform float K;vec4 get_color_from_grayscale_texture(vec3 UV){vec3 uv=mix(UV,reverse_uv(UV),float(tex_storing_fits==1));float x=float(get_pixels(uv).r);float alpha=x*scale+offset;alpha=transfer_func(H,alpha,min_value,max_value);return mix(vec4(C.rgb*K*alpha,C.a),vec4(0.),float(x==blank));}const float TWICE_PI=6.28318530718;const float PI=3.141592653589793;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;int quarter(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int q=(x_neg+y_neg)|(y_neg<<1);return q;}float xpm1(vec2 p){bool x_neg=(p.x<0.);bool y_neg=(p.y<0.);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return 1.-x02;}else{return x02-1.;}}float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.0f-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1f){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}int ij2z(int i,int j){int i4=i|(j<<2);int j4=(i4^(i4>>1))&0x22222222;int i5=i4^j4^(j4<<1);return i5;}struct HashDxDy{int idx;float dx;float dy;};uniform sampler2D ang2pixd;HashDxDy hash_with_dxdy2(vec2 radec){vec2 aa=vec2(radec.x/TWICE_PI+1.,(radec.y/PI)+0.5);vec3 v=texture(ang2pixd,aa).rgb;return HashDxDy(int(v.x*255.),v.y,v.z);}HashDxDy hash_with_dxdy(int depth,vec3 p){int nside=1<<depth;float half_nside=float(nside)*0.5;float x_pm1=xpm1(p.xy);int q=quarter(p.xy);int d0h=0;vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,2.-sqrt_3_one_min_z);d0h=q;}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2(x_pm1*sqrt_3_one_min_z,sqrt_3_one_min_z);d0h=q+8;}else{float y_pm1=p.z*TRANSITION_Z_INV;int q01=int(x_pm1>y_pm1);int q12=int(x_pm1>=-y_pm1);int q03=1-q12;int q1=q01&q12;p_proj=vec2(x_pm1-float(q01+q12-1),y_pm1+float(q01+q03));d0h=((q01+q03)<<2)+((q+q1)&3);}float x=(half_nside*(p_proj.x+p_proj.y));float y=(half_nside*(p_proj.y-p_proj.x));int i=int(x);int j=int(y);return HashDxDy((d0h<<(depth<<1))+ij2z(i,j),x-float(i),y-float(j));}vec4 get_tile_color(vec3 pos){HashDxDy result=hash_with_dxdy(0,pos.zxy);int idx=result.idx;vec2 uv=vec2(result.dy,result.dx);Tile tile=textures_tiles[idx];int idx_texture=tile.texture_idx>>6;int off=tile.texture_idx&0x3F;float idx_row=float(off>>3);float idx_col=float(off&0x7);vec2 offset=(vec2(idx_col,idx_row)+uv)*0.125;vec3 UV=vec3(offset,float(idx_texture));vec4 color=get_colormap_from_grayscale_texture(UV);color.a*=(1.-tile.empty);return color;}uniform sampler2D position_tex;uniform mat4 model;void main(){vec4 c=get_tile_color(normalize(frag_pos));out_frag_color=c;out_frag_color.a=out_frag_color.a*opacity;}"},783:e=>{e.exports="#version 300 es\nprecision highp float;precision mediump int;layout(location=0)in vec2 pos_clip_space;out vec2 out_clip_pos;out vec3 frag_pos;uniform vec2 ndc_to_clip;uniform float czf;uniform mat4 model;uniform sampler2D position_tex;const float PI=3.1415926535897932384626433832795;const mat4 GAL2J2000=mat4(-0.4448296299195045,0.7469822444763707,0.4941094279435681,0.,-0.1980763734646737,0.4559837762325372,-0.8676661489811610,0.,-0.873437090247923,-0.4838350155267381,-0.0548755604024359,0.,0.,0.,0.,1.);const mat4 J20002GAL=mat4(-0.4448296299195045,-0.1980763734646737,-0.873437090247923,0.,0.7469822444763707,0.4559837762325372,-0.4838350155267381,0.,0.4941094279435681,-0.8676661489811610,-0.0548755604024359,0.,0.,0.,0.,1.);vec2 world2clip_orthographic(vec3 p){return vec2(-p.x,p.y);}vec2 world2clip_aitoff(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float theta_by_two=theta*0.5;float alpha=acos(cos(delta)*cos(theta_by_two));float inv_sinc_alpha=1.;if(alpha>1e-4){inv_sinc_alpha=alpha/sin(alpha);}float x=2.*inv_sinc_alpha*cos(delta)*sin(theta_by_two);float y=inv_sinc_alpha*sin(delta);return vec2(x/PI,y/PI);}vec2 world2clip_mollweide(vec3 p){int max_iter=10;float delta=asin(p.y);float theta=atan(p.x,p.z);float cst=PI*sin(delta);float phi=delta;float dx=phi+sin(phi)-cst;int k=0;while(abs(dx)>1e-6&&k<max_iter){phi=phi-dx/(1.+cos(phi));dx=phi+sin(phi)-cst;k=k+1;}phi=phi*0.5;float x=(-theta/PI)*cos(phi);float y=0.5*sin(phi);return vec2(x,y);}vec2 world2clip_mercator(vec3 p){float delta=asin(p.y);float theta=atan(-p.x,p.z);float x=theta/PI;float y=asinh(tan(delta/PI));return vec2(x,y);}float arc_sinc(float x){if(x>1e-4){return asin(x)/x;}else{float x2=x*x;return 1.+x2*(1.+x2*9./20.)/6.;}}vec2 world2clip_arc(vec3 p){if(p.z>-1.){float r=length(p.xy);if(p.z>0.){r=arc_sinc(r);}else{r=acos(p.z)/r;}float x=p.x*r;float y=p.y*r;return vec2(-x/PI,y/PI);}else{return vec2(1.,0.);}}vec2 world2clip_gnomonic(vec3 p){if(p.z<=1e-2){return vec2(1.,0.);}else{return vec2((-p.x/p.z)/PI,(p.y/p.z)/PI);}}const float TWICE_PI=6.28318530718;const float FOUR_OVER_PI=1.27323954474;const float TRANSITION_Z=0.66666666666;const float TRANSITION_Z_INV=1.5;float one_minus_z_pos(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return 1.-p.z;}float one_minus_z_neg(vec3 p){float d2=dot(p.xy,p.xy);if(d2<1e-1){return d2*(0.5+d2*(0.125+d2*(0.0625+d2*(0.0390625+d2*0.02734375))));}return p.z+1.;}vec2 xpm1_and_offset(vec2 p){int x_neg=int(p.x<0.);int y_neg=int(p.y<0.);int offset=-(y_neg<<2)+1+((x_neg^y_neg)<<1);float lon=atan(abs(p.y),abs(p.x));float x02=lon*FOUR_OVER_PI;if(x_neg!=y_neg){return vec2(1.-x02,float(offset));}else{return vec2(x02-1.,float(offset));}}vec2 world2clip_healpix(vec3 p){vec2 x_pm1_and_offset=xpm1_and_offset(p.xy);vec2 p_proj=vec2(0.);if(p.z>TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_pos(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,2.-sqrt_3_one_min_z);}else if(p.z<-TRANSITION_Z){float sqrt_3_one_min_z=sqrt(3.*one_minus_z_neg(p));p_proj=vec2((x_pm1_and_offset.x*sqrt_3_one_min_z)+x_pm1_and_offset.y,-2.+sqrt_3_one_min_z);}else{p_proj=vec2(atan(p.y,p.x)*FOUR_OVER_PI,p.z*TRANSITION_Z_INV);}return p_proj*vec2(-0.25,0.5);}void main(){vec2 uv=pos_clip_space*0.5+0.5;vec3 world_pos=texture(position_tex,uv).rgb;frag_pos=vec3(model*vec4(world_pos,1.));gl_Position=vec4(pos_clip_space/(ndc_to_clip*czf),0.,1.);out_clip_pos=pos_clip_space;}"},174:e=>{e.exports="#version 300 es\nprecision mediump float;in vec2 v_tc;out vec4 color;uniform sampler2D fbo_tex;vec3 srgb_from_linear(vec3 rgb){bvec3 cutoff=lessThan(rgb,vec3(0.0031308));vec3 lower=rgb*vec3(3294.6);vec3 higher=vec3(269.025)*pow(rgb,vec3(1./2.4))-vec3(14.025);return mix(higher,lower,vec3(cutoff));}vec4 srgba_from_linear(vec4 rgba){return vec4(srgb_from_linear(rgba.rgb),255.*rgba.a);}void main(){color=texture(fbo_tex,v_tc);}"},55:e=>{e.exports="#version 300 es\nprecision mediump float;layout(location=0)in vec2 a_pos;out vec2 v_tc;void main(){gl_Position=vec4(a_pos*2.-1.,0.,1.);v_tc=a_pos;}"}},l={};function s(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=r,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(a,o,r)=>{var l;r&&((l=[]).d=1);var s,c,u,d=new Set,f=a.exports,p=new Promise(((e,t)=>{u=t,c=e}));p[t]=f,p[e]=e=>(l&&e(l),d.forEach(e),p.catch((e=>{}))),a.exports=p,o((a=>{var o;s=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then((e=>{r[t]=e,i(o)}),(e=>{r[n]=e,i(o)}));var r={};return r[e]=e=>e(o),r}}var l={};return l[e]=e=>{},l[t]=a,l})))(a);var r=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(o=()=>t(r)).r=0;var n=e=>e!==l&&!d.has(e)&&(d.add(e),e&&!e.d&&(o.r++,e.push(o)));s.map((t=>t[e](n)))}));return o.r?c:r()}),(e=>(e?u(p[n]=e):c(f),i(l)))),l&&(l.d=0)},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".aladin.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},o="hips_webgl_renderer:",s.l=(e,t,n,i)=>{if(a[e])a[e].push(t);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+n){r=d;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",o+n),r.src=e),a[e]=[t];var f=(t,n)=>{r.onerror=r.onload=null,clearTimeout(p);var i=a[e];if(delete a[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=f.bind(null,r.onerror),r.onload=f.bind(null,r.onload),l&&document.head.appendChild(r)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.v=(e,t,n,i)=>{var a=fetch(s.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,i).then((t=>Object.assign(e,t.instance.exports))):a.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,i))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={179:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise(((n,a)=>i=e[t]=[n,a]));n.push(i[2]=a);var o=s.p+s.u(t),r=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,i[1](r)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,a,[o,r,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)l(s)}for(t&&t(n);c<o.length;c++)a=o[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkhips_webgl_renderer=self.webpackChunkhips_webgl_renderer||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.nc=void 0;var c={};(()=>{"use strict";s.d(c,{k:()=>jn});var e=s(755),t=s.n(e),n=function(){function e(e,n){this.domEl=t()('<div class="aladin-popup-container"><div class="aladin-popup"><a class="aladin-closeBtn">&times;</a><div class="aladin-popupTitle"></div><div class="aladin-popupText"></div></div><div class="aladin-popup-arrow"></div></div>'),this.domEl.appendTo(e),this.view=n;var i=this;this.domEl.find(".aladin-closeBtn").click((function(){i.hide()}))}return e.prototype.hide=function(){this.domEl.hide(),this.view.mustClearCatalog=!0,this.view.catalogForPopup.hide()},e.prototype.show=function(){this.domEl.show()},e.prototype.setTitle=function(e){this.domEl.find(".aladin-popupTitle").html(e||"")},e.prototype.setText=function(e){this.domEl.find(".aladin-popupText").html(e||""),this.w=this.domEl.outerWidth(),this.h=this.domEl.outerHeight()},e.prototype.setSource=function(e){this.source&&(this.source.popup=null),e.popup=this,this.source=e,this.setPosition(e.x,e.y)},e.prototype.setPosition=function(e,t){var n=e-this.w/2,i=t-this.h;this.source&&(i+=this.source.catalog.sourceSize/2),this.domEl[0].style.left=n+"px",this.domEl[0].style.top=i+"px"},e}(),i=function(){function e(){}return e.prototype.redraw=function(e,t,n,i){var a,o;e.lineWidth=1,e.strokeStyle="rgb(150,150,220)",e.beginPath();for(var r=0,l=t.length;r<l;r++)o=(a=t[r]).ipix,e.moveTo(a.vx[0],a.vy[0]),e.lineTo(a.vx[1],a.vy[1]),e.lineTo(a.vx[2],a.vy[2]);e.stroke(),e.strokeStyle="#FFDDDD",e.beginPath();for(r=0,l=t.length;r<l;r++)o=(a=t[r]).ipix,e.strokeText(i+"/"+o,(a.vx[0]+a.vx[2])/2,(a.vy[0]+a.vy[2])/2);e.stroke()},e}(),a={id:1,fov:180},o={id:2,fov:360},r={id:3,fov:180},l={id:4,fov:360},u={id:5,fov:190},d={id:6,fov:360},f={id:7,fov:360},p={id:8,fov:180},h={id:9,fov:360},m={id:10,fov:360},v={id:11,fov:360},_={id:12,fov:360},x={id:13,fov:360},y={id:16,fov:360},g={id:17,fov:360},b={id:19,fov:360},w=["SIN","TAN","STG","ZEA","FEYE","AIR","ARC","NCP","MER","CAR","CEA","CYP","AIT","MOL","PAR","SFL","COD","HPX"],S=function(){};S.D2R=Math.PI/180,S.R2D=180/Math.PI,S.sign=function(e){return e>0?1:e<0?-1:0},S.cosd=function(e){if(e%90==0)switch(Math.abs(Math.floor(e/90+.5))%4){case 0:return 1;case 1:case 3:return 0;case 2:return-1}return Math.cos(e*S.D2R)},S.sind=function(e){if(e%90==0)switch(Math.abs(Math.floor(e/90-.5))%4){case 0:return 1;case 1:case 3:return 0;case 2:return-1}return Math.sin(e*S.D2R)},S.tand=function(e){var t;return 0==(t=e%360)||180==Math.abs(t)?0:45==t||225==t?1:-135==t||-315==t?-1:Math.tan(e*S.D2R)},S.asind=function(e){return Math.asin(e)*S.R2D},S.acosd=function(e){return Math.acos(e)*S.R2D},S.atand=function(e){return Math.atan(e)*S.R2D},S.atan2=function(e,t){if(0==e)return t>0?0:t<0?Math.PI:NaN;var n=S.sign(e);if(0==t)return Math.PI/2*n;var i=Math.atan(Math.abs(e/t));return t>0?i*n:t<0?(Math.PI-i)*n:void 0},S.atan2d=function(e,t){return S.atan2(e,t)*S.R2D},S.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2},S.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2},S.tanh=function(e){return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))},S.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))},S.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))},S.atanh=function(e){return.5*Math.log((1+e)/(1-e))},S.sinc=function(e){var t=Math.abs(e);return t<=.001?1-(t*=t)*(1-t/20)/6:Math.sin(t)/t},S.asinc=function(e){var t=Math.abs(e);return t<=.001?1+(t*=t)*(6+.45*t)/6:Math.asin(t)/t},S.hypot=function(e,t){return Math.sqrt(e*e+t*t)},S.eulerMatrix=function(e,t,n){var i=new Array(3);i[0]=new Array(3),i[1]=new Array(3),i[2]=new Array(3);var a=S.cosd(e),o=S.sind(e),r=S.cosd(t),l=S.sind(t),s=S.cosd(n),c=S.sind(n);return i[0][0]=s*r*a-c*o,i[0][1]=-c*r*a-s*o,i[0][2]=-l*a,i[1][0]=s*r*o+c*a,i[1][1]=-c*r*o+s*a,i[1][2]=-l*o,i[2][0]=-l*s,i[2][1]=-l*a,i[2][2]=r,i},S.displayMatrix=function(e){for(var t=e.length,n=0,i=0;i<t;i++)e[i].length>n&&(n=e[i].length);var a="<table>\n";for(i=0;i<t;i++){a+="<tr>";for(var o=0;o<t;o++)a+="<td>",i<e[i].length&&(a+=e[i][o].toString()),a+="</td>";a+="</td>\n"}return a+="</table>\n"};var C=function e(t,n){this.PROJECTION=e.PROJ_TAN,this.ROT=this.tr_oR(t,n),this.longitudeIsReversed=!1};C.PROJ_TAN=1,C.PROJ_TAN2=2,C.PROJ_STG=2,C.PROJ_SIN=3,C.PROJ_SIN2=4,C.PROJ_ZEA=4,C.PROJ_ARC=5,C.PROJ_SCHMIDT=5,C.PROJ_AITOFF=6,C.PROJ_AIT=6,C.PROJ_GLS=7,C.PROJ_MERCATOR=8,C.PROJ_MER=8,C.PROJ_LAM=9,C.PROJ_LAMBERT=9,C.PROJ_TSC=10,C.PROJ_QSC=11,C.PROJ_MOLLWEIDE=12,C.PROJ_HEALPIX=13,C.PROJ_LIST=["Mercator",C.PROJ_MERCATOR,"Gnomonic",C.PROJ_TAN,"Stereographic",C.PROJ_TAN2,"Orthographic",C.PROJ_SIN,"Zenithal",C.PROJ_ZEA,"Schmidt",C.PROJ_SCHMIDT,"Aitoff",C.PROJ_AITOFF,"Lambert",C.PROJ_LAMBERT],C.PROJ_NAME=["-","Gnomonic","Stereographic","Orthographic","Equal-area","Schmidt plates","Aitoff","Global sin","Mercator","Lambert"],C.prototype={setCenter:function(e,t){this.ROT=this.tr_oR(e,t)},reverseLongitude:function(e){this.longitudeIsReversed=e},setProjection:function(e){this.PROJECTION=e},project:function(e,t){var n=this.tr_ou(e,t),i=this.tr_uu(n,this.ROT),a=this.tr_up(this.PROJECTION,i);return null==a?null:this.longitudeIsReversed?{X:a[0],Y:-a[1]}:{X:-a[0],Y:-a[1]}},unproject:function(e,t){this.longitudeIsReversed||(e=-e),t=-t;var n=this.tr_pu(this.PROJECTION,e,t),i=this.tr_uu1(n,this.ROT),a=this.tr_uo(i);return{ra:a[0],dec:a[1]}},tr_up:function(e,t){var n,i,a,o,r,l=t[0],s=t[1],c=t[2];if(0==(n=S.hypot(l,s))&&0==c)return null;switch(e){default:a=null;break;case C.PROJ_AITOFF:i=Math.sqrt(n*(n+l)/2),o=Math.sqrt(2*n*(n-l)),o/=i=Math.sqrt((1+i)/2),s<0&&(o=-o),a=[o,r=c/i];break;case C.PROJ_GLS:r=Math.asin(c),a=[o=0!=n?Math.atan2(s,l)*n:0,r];break;case C.PROJ_MERCATOR:a=0!=n?[o=Math.atan2(s,l),r=S.atanh(c)]:null;break;case C.PROJ_TAN:a=l>0?[o=s/l,r=c/l]:null;break;case C.PROJ_TAN2:a=(i=(1+l)/2)>0?[o=s/i,r=c/i]:null;break;case C.PROJ_ARC:l<=-1?(o=Math.PI,r=0):(n=S.hypot(s,c),o=s*(i=l>0?S.asinc(n):Math.acos(l)/n),r=c*i),a=[o,r];break;case C.PROJ_SIN:a=l>=0?[o=s,r=c]:null;break;case C.PROJ_SIN2:0!=(i=Math.sqrt((1+l)/2))?(o=s/i,r=c/i):(o=2,r=0),a=[o,r];break;case C.PROJ_LAMBERT:r=c,o=0,0!=n&&(o=Math.atan2(s,l)),a=[o,r]}return a},tr_pu:function(e,t,n){var i,a,o,r,l;switch(e){default:return null;case C.PROJ_AITOFF:if((i=t*t/8+n*n/2)>1)return null;o=1-i,l=n*(a=Math.sqrt(1-i/2)),0!=(i=S.hypot(o,r=t*a/2))&&(o=((a=o)*a-r*r)/i,r=2*a*r/i);break;case C.PROJ_GLS:if((i=1-(l=Math.sin(n))*l)<0)return null;a=0!=(i=Math.sqrt(i))?t/i:0,o=i*Math.cos(a),r=i*Math.sin(a);break;case C.PROJ_MERCATOR:l=S.tanh(n),o=(i=1/S.cosh(n))*Math.cos(t),r=i*Math.sin(t);break;case C.PROJ_LAMBERT:if((i=1-(l=n)*l)<0)return null;o=(i=Math.sqrt(i))*Math.cos(t),r=i*Math.sin(t);break;case C.PROJ_TAN:r=t*(o=1/Math.sqrt(1+t*t+n*n)),l=n*o;break;case C.PROJ_TAN2:o=(1-(i=(t*t+n*n)/4))/(a=1+i),r=t/a,l=n/a;break;case C.PROJ_ARC:if((i=S.hypot(t,n))>Math.PI)return null;a=S.sinc(i),o=Math.cos(i),r=a*t,l=a*n;break;case C.PROJ_SIN:if((a=1-t*t-n*n)<0)return null;o=Math.sqrt(a),r=t,l=n;break;case C.PROJ_SIN2:if((i=(t*t+n*n)/4)>1)return null;o=1-2*i,r=(a=Math.sqrt(1-i))*t,l=a*n}return[o,r,l]},tr_oR:function(e,t){var n=new Array(3);return n[0]=new Array(3),n[1]=new Array(3),n[2]=new Array(3),n[2][2]=S.cosd(t),n[0][2]=S.sind(t),n[1][1]=S.cosd(e),n[1][0]=-S.sind(e),n[1][2]=0,n[0][0]=n[2][2]*n[1][1],n[0][1]=-n[2][2]*n[1][0],n[2][0]=-n[0][2]*n[1][1],n[2][1]=n[0][2]*n[1][0],n},tr_ou:function(e,t){var n=new Array(3),i=S.cosd(t);return n[0]=i*S.cosd(e),n[1]=i*S.sind(e),n[2]=S.sind(t),n},tr_uu:function(e,t){var n=new Array(3),i=e[0],a=e[1],o=e[2];return n[0]=t[0][0]*i+t[0][1]*a+t[0][2]*o,n[1]=t[1][0]*i+t[1][1]*a+t[1][2]*o,n[2]=t[2][0]*i+t[2][1]*a+t[2][2]*o,n},tr_uu1:function(e,t){var n=new Array(3),i=e[0],a=e[1],o=e[2];return n[0]=t[0][0]*i+t[1][0]*a+t[2][0]*o,n[1]=t[0][1]*i+t[1][1]*a+t[2][1]*o,n[2]=t[0][2]*i+t[1][2]*a+t[2][2]*o,n},tr_uo:function(e){var t,n,i=e[0],a=e[1],o=e[2],r=i*i+a*a;if(0==r){if(0==o)return null;t=0,n=o>0?90:-90}else n=S.atand(o/Math.sqrt(r)),(t=S.atan2d(a,i))<0&&(t+=360);return[t,n]}};var I,k={SYSTEMS:I={J2000:"J2000",GAL:"Galactic"},J2000:{label:"J2000",system:I.J2000},J2000d:{label:"J2000d",system:I.J2000},GAL:{label:"Galactic",system:I.GAL},fromString:function(e,t){return e?0==(e=e.toLowerCase().replace(/^\s+|\s+$/g,"")).indexOf("j2000d")||0==e.indexOf("icrsd")?k.J2000d:0==e.indexOf("j2000")||0==e.indexOf("icrs")?k.J2000:0==e.indexOf("gal")?k.GAL:t||null:t||null}},T={xyToView:function(e,t,n,i,a,o,r){return null==r&&(r=!0),r?{vx:T.myRound(a/2*(1+o*e)-(a-n)/2),vy:T.myRound(a/2*(1+o*t)-(a-i)/2)}:{vx:a/2*(1+o*e)-(a-n)/2,vy:a/2*(1+o*t)-(a-i)/2}},viewToXy:function(e,t,n,i,a,o){return{x:((2*e+(a-n))/a-1)/o,y:((2*t+(a-i))/a-1)/o}},radecToViewXy:function(e,t,n){return n.aladin.webglAPI.worldToScreen(e,t)},myRound:function(e){return e<0?-1*(0|-e):0|e},isInsideViewXy:function(e,t,n,i){return e>=0&&e<n&&t>=0&&t<i},isHpxPixVisible:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i].vx>=-20&&e[i].vx<t+20&&e[i].vy>=-20&&e[i].vy<n+20)return!0;return!1},ipixToIpix:function(e,t,n){},counterClockwiseTriangle:function(e,t,n,i,a,o){return e*i+t*a+n*o-a*i-o*e-n*t>=0},grow2:function(e,t){for(var n=0,i=0;i<4;i++)null==e[i]&&n++;if(n>1)return e;var a=[];for(i=0;i<4;i++)a.push({vx:e[i].vx,vy:e[i].vy});for(i=0;i<2;i++){var o,r,l=1==i?1:0,s=1==i?3:2;if(null==a[l]&&(0==l||3==l?(o=1,r=2):(o=0,r=3),a[l]={vx:(a[o].vx+a[r].vx)/2,vy:(a[o].vy+a[r].vy)/2}),null==a[s]&&(0==s||3==s?(o=1,r=2):(o=0,r=3),a[s]={vx:(a[o].vx+a[r].vx)/2,vy:(a[o].vy+a[r].vy)/2}),null!=a[l]&&null!=a[s]){var c=Math.atan2(a[s].vy-a[l].vy,a[s].vx-a[l].vx),u=t*Math.cos(c);a[l].vx-=u,a[s].vx+=u,u=t*Math.sin(c),a[l].vy-=u,a[s].vy+=u}}return a},SVG_ICONS:{CATALOG:'<svg xmlns="http://www.w3.org/2000/svg"><polygon points="1,0,5,0,5,3,1,3"  fill="FILLCOLOR" /><polygon points="7,0,9,0,9,3,7,3"  fill="FILLCOLOR" /><polygon points="10,0,12,0,12,3,10,3"  fill="FILLCOLOR" /><polygon points="13,0,15,0,15,3,13,3"  fill="FILLCOLOR" /><polyline points="1,5,5,9"  stroke="FILLCOLOR" /><polyline points="1,9,5,5" stroke="FILLCOLOR" /><line x1="7" y1="7" x2="15" y2="7" stroke="FILLCOLOR" stroke-width="2" /><polyline points="1,11,5,15"  stroke="FILLCOLOR" /><polyline points="1,15,5,11"  stroke="FILLCOLOR" /><line x1="7" y1="13" x2="15" y2="13" stroke="FILLCOLOR" stroke-width="2" /></svg>',MOC:'<svg xmlns="http://www.w3.org/2000/svg"><polyline points="0.5,7,2.5,7,2.5,5,7,5,7,3,10,3,10,5,13,5,13,7,15,7,15,9,13,9,13,12,10,12,10,14,7,14,7,12,2.5,12,2.5,10,0.5,10,0.5,7" stroke-width="1" stroke="FILLCOLOR" fill="transparent" /><line x1="1" y1="10" x2="6" y2="5" stroke="FILLCOLOR" stroke-width="0.5" /><line x1="2" y1="12" x2="10" y2="4" stroke="FILLCOLOR" stroke-width="0.5" /><line x1="5" y1="12" x2="12" y2="5" stroke="FILLCOLOR" stroke-width="0.5" /><line x1="7" y1="13" x2="13" y2="7" stroke="FILLCOLOR" stroke-width="0.5" /><line x1="10" y1="13" x2="13" y2="10" stroke="FILLCOLOR" stroke-width="0.5" /></svg>',OVERLAY:'<svg xmlns="http://www.w3.org/2000/svg"><polygon points="10,5,10,1,14,1,14,14,2,14,2,9,6,9,6,5" fill="transparent" stroke="FILLCOLOR" stroke-width="2"/></svg>'}},D={};D.HTTPS_WHITELIST=["alasky.u-strasbg.fr","alaskybis.u-strasbg.fr","alasky.unistra.fr","alaskybis.unistra.fr","alasky.cds.unistra.fr","alaskybis.cds.unistra.fr","hips.astron.nl","jvo.nao.ac.jp","archive.cefca.es","cade.irap.omp.eu","skies.esac.esa.int"],D.cssScale=void 0,HTMLCanvasElement.prototype.relMouseCoords=function(e){if(e.offsetX)return{x:e.offsetX,y:e.offsetY};if(!D.cssScale){var t=window.getComputedStyle(document.body,null),n=(t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")).match(/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/);D.cssScale=n?parseFloat(n[1]):1}var i=e,a=(i.target,i.target||i.srcElement),o=a.currentStyle||window.getComputedStyle(a,null),r=parseInt(o.borderLeftWidth,10),l=parseInt(o.borderTopWidth,10),s=a.getBoundingClientRect(),c=i.clientX,u=i.clientY;i.originalEvent.changedTouches&&(c=i.originalEvent.changedTouches[0].clientX,u=i.originalEvent.changedTouches[0].clientY);var d=c-r-s.left,f=u-l-s.top;return{x:parseInt(d/D.cssScale),y:parseInt(f/D.cssScale)}},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=[].slice,n=t.call(arguments,1),i=this,a=function(){},o=function(){return i.apply(this instanceof a?this:e||{},n.concat(t.call(arguments)))};return o.prototype=this.prototype,o}),t().urlParam=function(e,t){return void 0===t&&(t=location.search),decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null},D.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},D.isInt=function(e){return D.isNumber(e)&&Math.floor(e)==e},D.debounce=function(e,t){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,a)}),t)}},D.throttle=function(e,t,n){var i,a;return t||(t=250),function(){var o=n||this,r=+new Date,l=arguments;i&&r<i+t?(clearTimeout(a),a=setTimeout((function(){i=r,e.apply(o,l)}),t)):(i=r,e.apply(o,l))}},D.LRUCache=function(e){this._keys=[],this._items={},this._expires={},this._size=0,this._maxsize=e||1024},D.LRUCache.prototype={set:function(e,t){var n=this._keys,i=this._items,a=this._expires,o=this._size;o>=this._maxsize&&(n.sort((function(e,t){return a[e]>a[t]?-1:a[e]<a[t]?1:0})),o--),n[o]=e,i[e]=t,a[e]=Date.now(),o++,this._keys=n,this._items=i,this._expires=a,this._size=o},get:function(e){var t=this._items[e];return t&&(this._expires[e]=Date.now()),t},keys:function(){return this._keys}},D.loadFromMirrors=function(e,t){var n=t&&t.contentType||"application/json",i=t&&t.data||void 0,a=t&&t.timeout||5e3;if(0===e.length)return Promise.reject("None of the urls given can be fetched!");var o=new AbortController,r=setTimeout((function(){return o.abort()}),a),l={method:"GET",headers:{"Content-Type":n},mode:"cors",cache:"default",redirect:"follow",signal:o.signal},s=e[0]+"?"+new URLSearchParams(i);return fetch(s,l).then((function(t){return clearTimeout(r),t.ok?t:Promise.reject("Url: ",e[0]," cannot be reached in some way.")})).catch((function(n){return D.loadFromMirrors(e.slice(1),t)}))},D.getAjaxObject=function(e,n,i,a){if(!1!==a&&(a=!0),!0===a)var o=jn.JSONP_PROXY+"?url="+encodeURIComponent(e);else o=e;return n=n||"GET",i=i||null,t().ajax({url:o,method:n,dataType:i})},D.isHttpsContext=function(){return"https:"===window.location.protocol},D.fixURLForHTTPS=function(e){return D.isHttpsContext()&&D.HTTPS_WHITELIST.some((function(t){return e.includes(t)}))?e.replace("http://","https://"):e},D.getAbsoluteURL=function(e){var t=document.createElement("a");return t.href=e,t.href},D.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},D.clone=function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),JSON.parse(JSON.stringify(e)))};var R=function(e,t,n){this.lon=e,this.lat=t,this.prec=n,this.frame=null,this.computeDirCos()};function E(e,t){this.string=z.trim(e,t),this.sep=t,this.pos=0}function z(){}function O(){}R.factor=[3600,60,1],R.prototype={setFrame:function(e){this.frame=e},computeDirCos:function(){var e=S.cosd(this.lat);this.x=e*S.cosd(this.lon),this.y=e*S.sind(this.lon),this.z=S.sind(this.lat)},computeLonLat:function(){var e=this.x*this.x+this.y*this.y;this.lon=0,0==e?0==this.z?(this.lon=NaN,this.lat=NaN):this.lat=this.z>0?90:-90:(this.lon=S.atan2d(this.y,this.x),this.lat=S.atan2d(this.z,Math.sqrt(e)),this.lon<0&&(this.lon+=360))},dist2:function(e){var t=e.x-this.x,n=t*t;return n+=(t=e.y-this.y)*t,n+=(t=e.z-this.z)*t},distance:function(e){return 0==e.x&&0==e.y&&0==e.z||0==this.x&&0==this.y&&0==this.z?NaN:2*S.asind(.5*Math.sqrt(this.dist2(e)))},convertTo:function(e){this.frame.equals(e)||(this.frame.toICRS(this.coo),e.fromICRS(this.coo),this.frame=e,this.lon=this.lat=NaN)},rotate:function(e){var t,n,i;e!=Umatrix3&&(t=e[0][0]*this.x+e[0][1]*this.y+e[0][2]*this.z,n=e[1][0]*this.x+e[1][1]*this.y+e[1][2]*this.z,i=e[2][0]*this.x+e[2][1]*this.y+e[2][2]*this.z,this.x=t,this.y=n,this.z=i,this.lon=this.lat=NaN)},rotate_1:function(e){var t,n,i;e!=Umatrix3&&(t=e[0][0]*this.x+e[1][0]*this.y+e[2][0]*this.z,n=e[0][1]*this.x+e[1][1]*this.y+e[2][1]*this.z,i=e[0][2]*this.x+e[1][2]*this.y+e[2][2]*this.z,this.x=t,this.y=n,this.z=i,this.lon=this.lat=NaN)},equals:function(e){return this.x==e.x&&this.y==e.y&&this.z==e.z},parse:function(e){var t=e.indexOf("+");if(t<0&&(t=e.indexOf("-")),t<0&&(t=e.indexOf(" ")),t<0)return this.lon=NaN,this.lat=NaN,this.prec=0,!1;var n=e.substring(0,t),i=e.substring(t);return this.lon=this.parseLon(n),this.lat=this.parseLat(i),!0},parseLon:function(e){if((e=(e=e.trim()).replace(/:/g," ")).indexOf(" ")<0){var t=e.indexOf(".");return this.prec=t<0?0:e.length-t-1,parseFloat(e)}for(var n=new E(e," "),i=0,a=0,o=0;n.hasMore();){var r=n.nextToken(),l=r.indexOf(".");switch(a+=parseFloat(r)*R.factor[i],i){case 0:o=l<0?1:2;break;case 1:o=l<0?3:4;break;case 2:o=l<0?5:4+r.length-l}i++}return this.prec=o,15*a/3600},parseLat:function(e){var t;if("-"==(e=(e=e.trim()).replace(/:/g," ")).charAt(0)?(t=-1,e=e.substring(1)):"-"==e.charAt(0)?(t=1,e=e.substring(1)):t=1,e.indexOf(" ")<0){var n=e.indexOf(".");return this.prec=n<0?0:e.length-n-1,parseFloat(e)*t}for(var i=new E(e," "),a=0,o=0,r=0;i.hasMore();){var l=i.nextToken(),s=l.indexOf(".");switch(o+=parseFloat(l)*R.factor[a],a){case 0:r=s<0?1:2;break;case 1:r=s<0?3:4;break;case 2:r=s<0?5:4+l.length-s}a++}return this.prec=r,o*t/3600},format:function(e){isNaN(this.lon)&&this.computeLonLat();var t="",n="";if(e.indexOf("d")>=0)t=O.format(this.lon,this.prec),n=O.format(this.lat,this.prec),0==t.indexOf("0")&&(t=t.substr(1)),0==n.indexOf("0")&&(n=n.substr(1));else{var i=this.lon/15;t=O.toSexagesimal(i,this.prec+1,!1),n=O.toSexagesimal(this.lat,this.prec,!1)}return this.lat>=0&&(n="+"+n),e.indexOf("/")>=0?t+" "+n:e.indexOf("2")>=0?[t,n]:t+n}},E.prototype={hasMore:function(){return this.pos<this.string.length},nextToken:function(){for(var e=this.pos;e<this.string.length&&this.string.charAt(e)==this.sep;)e++;for(var t=e;t<this.string.length&&this.string.charAt(t)!=this.sep;)t++;return this.pos=t,this.string.substring(e,t)}},z.trim=function(e,t){for(var n=0,i=e.length-1;n<e.length&&e.charAt(n)==t;)n++;if(n==e.length)return"";for(;i>n&&e.charAt(i)==t;)i--;return e.substring(n,i+1)},O.pow10=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14],O.rndval=[.5,.05,.005,5e-4,5e-5,5e-6,5e-7,5e-8,5e-9,5e-10,5e-11,5e-12,5e-13,5e-14,5e-14],O.format=function(e,t){if(t<=0)return Math.round(e).toString();var n=e.toString(),i=n.indexOf("."),a=i>=0?n.length-i-1:0;if(t>=a){i<0&&(n+="."),2==n.length&&(n="0"+n);for(var o=0;o<t-a;o++)n+="0";return n}return n=(e+O.rndval[t]).toString(),1==i&&(n="0"+n,i+=1),n.substr(0,i+t+1)},O.toSexagesimal=function(e,t,n){var i=e<0?"-":n?"+":"",a=Math.abs(e);switch(t){case 1:return i+(r=Math.round(a)).toString();case 2:default:return i+O.format(a,1);case 3:return i+(r=Math.floor(a))+" "+(o=Math.round(60*(a-r)));case 4:var o=60*(a-(r=Math.floor(a)));return i+r+" "+O.format(o,1);case 5:o=60*(a-(r=Math.floor(a)));return i+r+" "+(l=Math.floor(o))+" "+(s=Math.round(60*(o-l)));case 6:case 7:case 8:var r;(r=Math.floor(a))<10&&(r="0"+r);var l;o=60*(a-r);(l=Math.floor(o))<10&&(l="0"+l);var s=60*(o-l);return i+r+" "+l+" "+O.format(s,t-5)}};var P=function(){var e={MIRRORS:["https://alasky.u-strasbg.fr/cgi/simbad-flat/simbad-quick.py","https://alaskybis.u-strasbg.fr/cgi/simbad-flat/simbad-quick.py"],query:function(t,n,i,a){var o={Ident:new R(t,n,7).format("s/"),SR:i};D.loadFromMirrors(e.MIRRORS,{contentType:"text/plain",data:o}).then((function(e){return e.text()})).then((function(e){a.view.setCursor("pointer");var t=/(.*?)\/(.*?)\((.*?),(.*?)\)/g.exec(e);if(t){var n=new R;n.parse(t[1]);var i=t[2],o='<div class="aladin-sp-title"><a target="_blank" href="http://simbad.u-strasbg.fr/simbad/sim-id?Ident='+encodeURIComponent(i)+'">'+i+"</a></div>",r='<div class="aladin-sp-content">';r+="<em>Type: </em>"+t[4]+"<br>";var l=t[3];D.isNumber(l)&&(r+="<em>Mag: </em>"+l+"<br>"),r+='<br><a target="_blank" href="http://cdsportal.u-strasbg.fr/?target='+encodeURIComponent(i)+'">Query in CDS portal</a>',r+="</div>",a.showPopup(n.lon,n.lat,o,r)}else a.hidePopup()})).catch((function(e){a.view.setCursor("pointer"),a.hidePopup()}))}};return e}(),L=function(){function e(e,t,n){var i,a,o;for(a=0;a<30;a++)for(i=0;i<73;i++)e[o=4*(i+74*a)]=e[o+4],e[o+1]=e[o+5],e[o+2]=e[o+6];for(a=0;a<30;a++)o=4*(73+74*a),a<t?(e[o]=R[n].bg.r,e[o+1]=R[n].bg.g,e[o+2]=R[n].bg.b):(e[o]=R[n].fg.r,e[o+1]=R[n].fg.g,e[o+2]=R[n].fg.b)}var t,n,i,a,o,r,l,s,c,u,d,f,p,h,m=0,v=2,_=0,x=(new Date).getTime(),y=x,g=x,b=0,w=1e3,S=0,A=0,C=1e3,I=0,k=0,T=1e3,D=0,R={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mb:{bg:{r:48,g:16,b:26},fg:{r:255,g:0,b:128}}};(t=document.createElement("div")).style.cursor="pointer",t.style.width="80px",t.style.opacity="0.9",t.style.zIndex="10001",t.addEventListener("click",(function(){switch(++m==v&&(m=0),n.style.display="none",l.style.display="none",d.style.display="none",m){case 0:n.style.display="block";break;case 1:l.style.display="block";break;case 2:d.style.display="block"}}),!1),(n=document.createElement("div")).style.backgroundColor="rgb("+Math.floor(R.fps.bg.r/2)+","+Math.floor(R.fps.bg.g/2)+","+Math.floor(R.fps.bg.b/2)+")",n.style.padding="2px 0px 3px 0px",t.appendChild(n),(i=document.createElement("div")).style.fontFamily="Helvetica, Arial, sans-serif",i.style.textAlign="left",i.style.fontSize="9px",i.style.color="rgb("+R.fps.fg.r+","+R.fps.fg.g+","+R.fps.fg.b+")",i.style.margin="0px 0px 1px 3px",i.innerHTML='<span style="font-weight:bold">FPS</span>',n.appendChild(i),(a=document.createElement("canvas")).width=74,a.height=30,a.style.display="block",a.style.marginLeft="3px",n.appendChild(a),(o=a.getContext("2d")).fillStyle="rgb("+R.fps.bg.r+","+R.fps.bg.g+","+R.fps.bg.b+")",o.fillRect(0,0,a.width,a.height),r=o.getImageData(0,0,a.width,a.height),(l=document.createElement("div")).style.backgroundColor="rgb("+Math.floor(R.ms.bg.r/2)+","+Math.floor(R.ms.bg.g/2)+","+Math.floor(R.ms.bg.b/2)+")",l.style.padding="2px 0px 3px 0px",l.style.display="none",t.appendChild(l),(s=document.createElement("div")).style.fontFamily="Helvetica, Arial, sans-serif",s.style.textAlign="left",s.style.fontSize="9px",s.style.color="rgb("+R.ms.fg.r+","+R.ms.fg.g+","+R.ms.fg.b+")",s.style.margin="0px 0px 1px 3px",s.innerHTML='<span style="font-weight:bold">MS</span>',l.appendChild(s),(a=document.createElement("canvas")).width=74,a.height=30,a.style.display="block",a.style.marginLeft="3px",l.appendChild(a),(c=a.getContext("2d")).fillStyle="rgb("+R.ms.bg.r+","+R.ms.bg.g+","+R.ms.bg.b+")",c.fillRect(0,0,a.width,a.height),u=c.getImageData(0,0,a.width,a.height);try{performance&&performance.memory&&performance.memory.totalJSHeapSize&&(v=3)}catch(E){}return(d=document.createElement("div")).style.backgroundColor="rgb("+Math.floor(R.mb.bg.r/2)+","+Math.floor(R.mb.bg.g/2)+","+Math.floor(R.mb.bg.b/2)+")",d.style.padding="2px 0px 3px 0px",d.style.display="none",t.appendChild(d),(f=document.createElement("div")).style.fontFamily="Helvetica, Arial, sans-serif",f.style.textAlign="left",f.style.fontSize="9px",f.style.color="rgb("+R.mb.fg.r+","+R.mb.fg.g+","+R.mb.fg.b+")",f.style.margin="0px 0px 1px 3px",f.innerHTML='<span style="font-weight:bold">MB</span>',d.appendChild(f),(a=document.createElement("canvas")).width=74,a.height=30,a.style.display="block",a.style.marginLeft="3px",d.appendChild(a),(p=a.getContext("2d")).fillStyle="#301010",p.fillRect(0,0,a.width,a.height),h=p.getImageData(0,0,a.width,a.height),{domElement:t,update:function(){_++,x=(new Date).getTime(),A=x-y,C=Math.min(C,A),I=Math.max(I,A),e(u.data,Math.min(30,30-A/200*30),"ms"),s.innerHTML='<span style="font-weight:bold">'+A+" MS</span> ("+C+"-"+I+")",c.putImageData(u,0,0),y=x,x>g+1e3&&(b=Math.round(1e3*_/(x-g)),w=Math.min(w,b),S=Math.max(S,b),e(r.data,Math.min(30,30-b/100*30),"fps"),i.innerHTML='<span style="font-weight:bold">'+b+" FPS</span> ("+w+"-"+S+")",o.putImageData(r,0,0),3==v&&(k=954e-9*performance.memory.usedJSHeapSize,T=Math.min(T,k),D=Math.max(D,k),e(h.data,Math.min(30,30-k/2),"mb"),f.innerHTML='<span style="font-weight:bold">'+Math.round(k)+" MB</span> ("+Math.round(T)+"-"+Math.round(D)+")",p.putImageData(h,0,0)),g=x,_=0)}}},M=function(){var e=function(e){this.polygons=e,this.overlay=null,this.id="footprint-"+D.uuidv4(),this.isShowing=!0,this.isSelected=!1};return e.prototype.setOverlay=function(e){this.overlay=e},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},e.prototype.dispatchClickEvent=function(){this.overlay&&this.overlay.view.aladinDiv.dispatchEvent(new CustomEvent("footprintClicked",{detail:{footprintId:this.id,overlayName:this.overlay.name}}))},e.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},e.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},e}(),N=function(){var e=function(e,t,n){n=n||{},this.color=n.color||void 0,this.id="circle-"+D.uuidv4(),this.setCenter(e),this.setRadius(t),this.overlay=null,this.isShowing=!0,this.isSelected=!1};return e.prototype.setOverlay=function(e){this.overlay=e},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},e.prototype.dispatchClickEvent=function(){this.overlay&&this.overlay.view.aladinDiv.dispatchEvent(new CustomEvent("footprintClicked",{detail:{footprintId:this.id,overlayName:this.overlay.name}}))},e.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},e.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},e.prototype.setCenter=function(e){this.centerRaDec=e,this.overlay&&this.overlay.reportChange()},e.prototype.setRadius=function(e){this.radiusDegrees=e,this.overlay&&this.overlay.reportChange()},e.prototype.draw=function(e,t,n,i,a,o,r,l){if(this.isShowing){l=!0===l||!1;var s=T.radecToViewXy(this.centerRaDec[0],this.centerRaDec[1],t);if(s){var c=this.centerRaDec[0],u=this.centerRaDec[1]+(c>0?-this.radiusDegrees:this.radiusDegrees),d=T.radecToViewXy(c,u,t);if(d){var f=d[0]-s[0],p=d[1]-s[1],h=Math.sqrt(f*f+p*p),m=this.color;!m&&this.overlay&&(m=this.overlay.color),m||(m="#ff0000"),this.isSelected?e.strokeStyle=Overlay.increaseBrightness(m,50):e.strokeStyle=m,e.beginPath(),e.arc(s[0],s[1],h,0,2*Math.PI,!1),l||e.stroke()}}}},e}(),F=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,q=s(825),j=s.n(q),H=s(423),U=s.n(H),V=s(831),G=s.n(V),B=s(494),J=s.n(B),Y=s(892),Z=s.n(Y),W=s(610),X=s.n(W),K=s(418),Q=s.n(K),$=s(585),ee=s.n($),te=s(624),ne=s.n(te),ie=s(652),ae=s.n(ie),oe=s(820),re=s.n(oe),le=s(579),se=s.n(le),ce=s(371),ue=s.n(ce),de=s(783),fe=s.n(de),pe=s(935),he=s.n(pe),me=s(215),ve=s.n(me),_e=s(187),xe=s.n(_e),ye=s(757),ge=s.n(ye),be=s(726),we=s.n(be),Se=s(493),Ae=s.n(Se),Ce=s(90),Ie=s.n(Ce),ke=s(20),Te=s.n(ke),De=s(943),Re=s.n(De),Ee=s(627),ze=s.n(Ee),Oe=s(378),Pe=s.n(Oe),Le=s(258),Me=s.n(Le),Ne=s(593),Fe=s.n(Ne),qe=s(37),je=s.n(qe),He=s(567),Ue=s.n(He),Ve=s(594),Ge=s.n(Ve),Be=s(206),Je=s.n(Be),Ye=s(55),Ze=s.n(Ye),We=s(174),Xe=s.n(We),Ke=s(262),Qe=s.n(Ke),$e=s(749),et=s.n($e),tt=[{id:"CatalogAitoffVS",content:j()},{id:"CatalogHEALPixVS",content:X()},{id:"CatalogMercatVS",content:U()},{id:"CatalogArcVS",content:G()},{id:"CatalogTanVS",content:J()},{id:"CatalogMollVS",content:Z()},{id:"CatalogOrthoVS",content:Q()},{id:"CatalogOrthoFS",content:ee()},{id:"CatalogFS",content:ne()},{id:"ColormapCatalogVS",content:ae()},{id:"ColormapCatalogFS",content:re()},{id:"GridVS_CPU",content:se()},{id:"GridFS_CPU",content:ue()},{id:"RayTracerVS",content:fe()},{id:"RayTracerColorFS",content:he()},{id:"RayTracerGrayscale2ColorFS",content:ve()},{id:"RayTracerGrayscale2ColormapFS",content:xe()},{id:"RayTracerGrayscale2ColorIntegerFS",content:ge()},{id:"RayTracerGrayscale2ColormapIntegerFS",content:we()},{id:"RayTracerGrayscale2ColorUnsignedFS",content:Ae()},{id:"RayTracerGrayscale2ColormapUnsignedFS",content:Ie()},{id:"RayTracerFontVS",content:Te()},{id:"RayTracerFontFS",content:Re()},{id:"RasterizerVS",content:ze()},{id:"RasterizerColorFS",content:Pe()},{id:"RasterizerGrayscale2ColorFS",content:Me()},{id:"RasterizerGrayscale2ColormapFS",content:Fe()},{id:"RasterizerGrayscale2ColorIntegerFS",content:je()},{id:"RasterizerGrayscale2ColormapIntegerFS",content:Ue()},{id:"RasterizerGrayscale2ColorUnsignedFS",content:Ge()},{id:"RasterizerGrayscale2ColormapUnsignedFS",content:Je()},{id:"PostVS",content:Ze()},{id:"PostFS",content:Xe()},{id:"FitsVS",content:Qe()},{id:"FitsFS",content:et()}];function nt(){return tt}const it=s.p+"ccdb93d24585bd08a4261722b95e9e3d.png",at=s.p+"5e9c973e186349126dbb60d66890dbeb.png",ot=s.p+"7538bf853f9b14029f986310747a9aad.png",rt=JSON.parse('{"0":{"x_min":58,"x_max":67,"y_min":130,"y_max":143,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.6640625,"bound_ymin":-0.1953125},"1":{"x_min":99,"x_max":104,"y_min":105,"y_max":117,"x_advance":8,"y_advance":0,"w":5,"h":12,"bound_xmin":1.7421875,"bound_ymin":0},"2":{"x_min":67,"x_max":76,"y_min":0,"y_max":12,"x_advance":8,"y_advance":0,"w":9,"h":12,"bound_xmin":0.484375,"bound_ymin":0},"3":{"x_min":58,"x_max":67,"y_min":117,"y_max":130,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.671875,"bound_ymin":-0.203125},"4":{"x_min":67,"x_max":76,"y_min":12,"y_max":24,"x_advance":8,"y_advance":0,"w":9,"h":12,"bound_xmin":0.203125,"bound_ymin":0},"5":{"x_min":58,"x_max":67,"y_min":91,"y_max":104,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.6640625,"bound_ymin":-0.1953125},"6":{"x_min":58,"x_max":67,"y_min":13,"y_max":26,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.6015625,"bound_ymin":-0.1953125},"7":{"x_min":67,"x_max":76,"y_min":24,"y_max":36,"x_advance":8,"y_advance":0,"w":9,"h":12,"bound_xmin":0.7578125,"bound_ymin":0},"8":{"x_min":39,"x_max":48,"y_min":173,"y_max":186,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.6484375,"bound_ymin":-0.1953125},"9":{"x_min":49,"x_max":58,"y_min":182,"y_max":195,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.6640625,"bound_ymin":-0.1953125},"I":{"x_min":104,"x_max":107,"y_min":65,"y_max":77,"x_advance":4,"y_advance":0,"w":3,"h":12,"bound_xmin":1.4921875,"bound_ymin":0},"}":{"x_min":92,"x_max":97,"y_min":211,"y_max":227,"x_advance":5,"y_advance":0,"w":5,"h":16,"bound_xmin":0.3671875,"bound_ymin":-3.3671875},"+":{"x_min":67,"x_max":76,"y_min":115,"y_max":124,"x_advance":9,"y_advance":0,"w":9,"h":9,"bound_xmin":0.890625,"bound_ymin":1.8515625},"Â­":{"x_min":99,"x_max":104,"y_min":144,"y_max":146,"x_advance":5,"y_advance":0,"w":5,"h":2,"bound_xmin":0.5078125,"bound_ymin":3.4375},"z":{"x_min":84,"x_max":92,"y_min":120,"y_max":129,"x_advance":8,"y_advance":0,"w":8,"h":9,"bound_xmin":0.3125,"bound_ymin":0},"Â“":{"x_min":99,"x_max":103,"y_min":223,"y_max":235,"x_advance":4,"y_advance":0,"w":4,"h":12,"bound_xmin":0.2734375,"bound_ymin":0},"Â":{"x_min":84,"x_max":91,"y_min":227,"y_max":240,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"ÃŠ":{"x_min":39,"x_max":48,"y_min":144,"y_max":159,"x_advance":10,"y_advance":0,"w":9,"h":15,"bound_xmin":1.265625,"bound_ymin":0},"Â¤":{"x_min":67,"x_max":76,"y_min":97,"y_max":106,"x_advance":8,"y_advance":0,"w":9,"h":9,"bound_xmin":0.578125,"bound_ymin":1.8359375},"Ã·":{"x_min":67,"x_max":76,"y_min":124,"y_max":131,"x_advance":8,"y_advance":0,"w":9,"h":7,"bound_xmin":0.609375,"bound_ymin":2.4921875},"C":{"x_min":28,"x_max":39,"y_min":0,"y_max":13,"x_advance":11,"y_advance":0,"w":11,"h":13,"bound_xmin":0.796875,"bound_ymin":-0.1953125},"Â¯":{"x_min":28,"x_max":39,"y_min":61,"y_max":63,"x_advance":8,"y_advance":0,"w":11,"h":2,"bound_xmin":-0.2421875,"bound_ymin":12.234375},"\\u0004":{"x_min":84,"x_max":92,"y_min":110,"y_max":120,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã¶":{"x_min":39,"x_max":48,"y_min":186,"y_max":199,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Â":{"x_min":16,"x_max":28,"y_min":28,"y_max":42,"x_advance":10,"y_advance":0,"w":12,"h":14,"bound_xmin":-0.0234375,"bound_ymin":0},"Ãµ":{"x_min":58,"x_max":67,"y_min":182,"y_max":195,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Â£":{"x_min":49,"x_max":58,"y_min":130,"y_max":143,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.2109375,"bound_ymin":-0.21875},"":{"x_min":84,"x_max":92,"y_min":80,"y_max":90,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"f":{"x_min":99,"x_max":104,"y_min":81,"y_max":93,"x_advance":4,"y_advance":0,"w":5,"h":12,"bound_xmin":0.1484375,"bound_ymin":0},"G":{"x_min":16,"x_max":28,"y_min":95,"y_max":108,"x_advance":12,"y_advance":0,"w":12,"h":13,"bound_xmin":0.8515625,"bound_ymin":-0.1953125},"N":{"x_min":39,"x_max":49,"y_min":0,"y_max":12,"x_advance":11,"y_advance":0,"w":10,"h":12,"bound_xmin":1.21875,"bound_ymin":0},"Ã":{"x_min":16,"x_max":28,"y_min":146,"y_max":158,"x_advance":11,"y_advance":0,"w":12,"h":12,"bound_xmin":-0.0234375,"bound_ymin":0},"Ã«":{"x_min":49,"x_max":58,"y_min":156,"y_max":169,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"Â¨":{"x_min":99,"x_max":104,"y_min":141,"y_max":144,"x_advance":5,"y_advance":0,"w":5,"h":3,"bound_xmin":0.4765625,"bound_ymin":9.921875},"\\u0019":{"x_min":76,"x_max":84,"y_min":104,"y_max":114,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã‚":{"x_min":0,"x_max":12,"y_min":195,"y_max":210,"x_advance":10,"y_advance":0,"w":12,"h":15,"bound_xmin":-0.0234375,"bound_ymin":0},"D":{"x_min":39,"x_max":49,"y_min":24,"y_max":36,"x_advance":11,"y_advance":0,"w":10,"h":12,"bound_xmin":1.234375,"bound_ymin":0},"Ã€":{"x_min":0,"x_max":12,"y_min":165,"y_max":180,"x_advance":10,"y_advance":0,"w":12,"h":15,"bound_xmin":-0.0234375,"bound_ymin":0},"X":{"x_min":28,"x_max":39,"y_min":37,"y_max":49,"x_advance":10,"y_advance":0,"w":11,"h":12,"bound_xmin":0.0703125,"bound_ymin":0},"Â‡":{"x_min":58,"x_max":67,"y_min":78,"y_max":91,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"?":{"x_min":58,"x_max":67,"y_min":195,"y_max":207,"x_advance":8,"y_advance":0,"w":9,"h":12,"bound_xmin":0.703125,"bound_ymin":0},"Â":{"x_min":49,"x_max":58,"y_min":221,"y_max":234,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"\\f":{"x_min":76,"x_max":84,"y_min":124,"y_max":134,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"\\u0001":{"x_min":76,"x_max":84,"y_min":234,"y_max":244,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"-":{"x_min":99,"x_max":104,"y_min":146,"y_max":148,"x_advance":5,"y_advance":0,"w":5,"h":2,"bound_xmin":0.5078125,"bound_ymin":3.4375},"[":{"x_min":99,"x_max":103,"y_min":148,"y_max":164,"x_advance":4,"y_advance":0,"w":4,"h":16,"bound_xmin":1.0859375,"bound_ymin":-3.1796875}," ":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":4,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"Â²":{"x_min":92,"x_max":98,"y_min":175,"y_max":182,"x_advance":5,"y_advance":0,"w":6,"h":7,"bound_xmin":0.1953125,"bound_ymin":5.7265625},"Â‘":{"x_min":49,"x_max":58,"y_min":65,"y_max":78,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"Â‰":{"x_min":58,"x_max":67,"y_min":52,"y_max":65,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"\\u0015":{"x_min":76,"x_max":84,"y_min":214,"y_max":224,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"R":{"x_min":28,"x_max":39,"y_min":13,"y_max":25,"x_advance":11,"y_advance":0,"w":11,"h":12,"bound_xmin":1.2578125,"bound_ymin":0},"y":{"x_min":76,"x_max":84,"y_min":0,"y_max":13,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":0.2578125,"bound_ymin":-3.3671875},"Ã":{"x_min":0,"x_max":12,"y_min":180,"y_max":195,"x_advance":10,"y_advance":0,"w":12,"h":15,"bound_xmin":-0.0234375,"bound_ymin":0},"\\u0000":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":0,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"@":{"x_min":0,"x_max":16,"y_min":0,"y_max":16,"x_advance":16,"y_advance":0,"w":16,"h":16,"bound_xmin":0.8671875,"bound_ymin":-3.3671875},"\\\\":{"x_min":99,"x_max":104,"y_min":43,"y_max":56,"x_advance":4,"y_advance":0,"w":5,"h":13,"bound_xmin":0,"bound_ymin":-0.1953125},"ÃŽ":{"x_min":92,"x_max":98,"y_min":122,"y_max":137,"x_advance":4,"y_advance":0,"w":6,"h":15,"bound_xmin":-0.25,"bound_ymin":0},"Â¹":{"x_min":104,"x_max":108,"y_min":12,"y_max":19,"x_advance":5,"y_advance":0,"w":4,"h":7,"bound_xmin":0.8359375,"bound_ymin":5.7265625},"Q":{"x_min":16,"x_max":28,"y_min":121,"y_max":134,"x_advance":12,"y_advance":0,"w":12,"h":13,"bound_xmin":0.6875,"bound_ymin":-0.890625},"q":{"x_min":67,"x_max":75,"y_min":204,"y_max":217,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":0.5625,"bound_ymin":-3.1796875},"b":{"x_min":67,"x_max":75,"y_min":178,"y_max":191,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":1.046875,"bound_ymin":-0.1875},"\\u0017":{"x_min":76,"x_max":84,"y_min":114,"y_max":124,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"\\u0010":{"x_min":76,"x_max":84,"y_min":174,"y_max":184,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"L":{"x_min":76,"x_max":84,"y_min":52,"y_max":64,"x_advance":8,"y_advance":0,"w":8,"h":12,"bound_xmin":1.171875,"bound_ymin":0},"=":{"x_min":67,"x_max":76,"y_min":137,"y_max":143,"x_advance":9,"y_advance":0,"w":9,"h":6,"bound_xmin":0.890625,"bound_ymin":3.2578125},"Â¶":{"x_min":39,"x_max":48,"y_min":36,"y_max":52,"x_advance":8,"y_advance":0,"w":9,"h":16,"bound_xmin":0.0078125,"bound_ymin":-3.1796875},"\\u0018":{"x_min":84,"x_max":92,"y_min":30,"y_max":40,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã¼":{"x_min":84,"x_max":91,"y_min":188,"y_max":201,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"Ã¬":{"x_min":99,"x_max":103,"y_min":235,"y_max":247,"x_advance":4,"y_advance":0,"w":4,"h":12,"bound_xmin":0.2734375,"bound_ymin":0},"Â·":{"x_min":104,"x_max":107,"y_min":108,"y_max":111,"x_advance":4,"y_advance":0,"w":3,"h":3,"bound_xmin":1.4453125,"bound_ymin":4.8359375},"Ã´":{"x_min":58,"x_max":67,"y_min":169,"y_max":182,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"ÂŽ":{"x_min":49,"x_max":58,"y_min":234,"y_max":247,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"Ã¾":{"x_min":67,"x_max":75,"y_min":146,"y_max":162,"x_advance":8,"y_advance":0,"w":8,"h":16,"bound_xmin":1.0546875,"bound_ymin":-3.1796875},"Â¢":{"x_min":39,"x_max":48,"y_min":68,"y_max":84,"x_advance":8,"y_advance":0,"w":9,"h":16,"bound_xmin":0.8359375,"bound_ymin":-3.1953125},"\\u0003":{"x_min":84,"x_max":92,"y_min":50,"y_max":60,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã±":{"x_min":92,"x_max":99,"y_min":39,"y_max":51,"x_advance":8,"y_advance":0,"w":7,"h":12,"bound_xmin":1.0546875,"bound_ymin":0},"Âœ":{"x_min":84,"x_max":91,"y_min":240,"y_max":253,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"|":{"x_min":104,"x_max":106,"y_min":129,"y_max":145,"x_advance":4,"y_advance":0,"w":2,"h":16,"bound_xmin":1.46875,"bound_ymin":-3.3671875},"Â½":{"x_min":0,"x_max":14,"y_min":79,"y_max":92,"x_advance":13,"y_advance":0,"w":14,"h":13,"bound_xmin":0.8359375,"bound_ymin":-0.4453125},"\\n":{"x_min":84,"x_max":92,"y_min":90,"y_max":100,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã":{"x_min":16,"x_max":27,"y_min":220,"y_max":235,"x_advance":10,"y_advance":0,"w":11,"h":15,"bound_xmin":0.046875,"bound_ymin":0},"Â”":{"x_min":92,"x_max":98,"y_min":149,"y_max":161,"x_advance":4,"y_advance":0,"w":6,"h":12,"bound_xmin":-0.1328125,"bound_ymin":0},"l":{"x_min":104,"x_max":106,"y_min":145,"y_max":157,"x_advance":3,"y_advance":0,"w":2,"h":12,"bound_xmin":1.0234375,"bound_ymin":0},"\\u0002":{"x_min":84,"x_max":92,"y_min":40,"y_max":50,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Â¬":{"x_min":67,"x_max":76,"y_min":131,"y_max":137,"x_advance":9,"y_advance":0,"w":9,"h":6,"bound_xmin":0.890625,"bound_ymin":3.3125},"E":{"x_min":58,"x_max":67,"y_min":231,"y_max":243,"x_advance":10,"y_advance":0,"w":9,"h":12,"bound_xmin":1.265625,"bound_ymin":0},"Ã³":{"x_min":58,"x_max":67,"y_min":156,"y_max":169,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"\\u000e":{"x_min":76,"x_max":84,"y_min":134,"y_max":144,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"ÃŒ":{"x_min":99,"x_max":103,"y_min":196,"y_max":211,"x_advance":4,"y_advance":0,"w":4,"h":15,"bound_xmin":0.421875,"bound_ymin":0},"Ã²":{"x_min":58,"x_max":67,"y_min":143,"y_max":156,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Ã":{"x_min":104,"x_max":107,"y_min":25,"y_max":40,"x_advance":4,"y_advance":0,"w":3,"h":15,"bound_xmin":1.1015625,"bound_ymin":0},"a":{"x_min":67,"x_max":76,"y_min":48,"y_max":58,"x_advance":8,"y_advance":0,"w":9,"h":10,"bound_xmin":0.578125,"bound_ymin":-0.1875},"Ãº":{"x_min":92,"x_max":99,"y_min":13,"y_max":26,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"^":{"x_min":84,"x_max":92,"y_min":155,"y_max":162,"x_advance":7,"y_advance":0,"w":8,"h":7,"bound_xmin":0.421875,"bound_ymin":5.390625},"ÂŒ":{"x_min":58,"x_max":67,"y_min":0,"y_max":13,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"Ã¥":{"x_min":49,"x_max":58,"y_min":26,"y_max":39,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"s":{"x_min":76,"x_max":84,"y_min":244,"y_max":254,"x_advance":8,"y_advance":0,"w":8,"h":10,"bound_xmin":0.4921875,"bound_ymin":-0.1875},"\\u001b":{"x_min":76,"x_max":84,"y_min":194,"y_max":204,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Â±":{"x_min":67,"x_max":76,"y_min":68,"y_max":78,"x_advance":8,"y_advance":0,"w":9,"h":10,"bound_xmin":0.609375,"bound_ymin":0},"{":{"x_min":99,"x_max":104,"y_min":0,"y_max":16,"x_advance":5,"y_advance":0,"w":5,"h":16,"bound_xmin":0.4453125,"bound_ymin":-3.3671875},"Â":{"x_min":49,"x_max":58,"y_min":208,"y_max":221,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"(":{"x_min":92,"x_max":97,"y_min":195,"y_max":211,"x_advance":5,"y_advance":0,"w":5,"h":16,"bound_xmin":0.96875,"bound_ymin":-3.3671875},":":{"x_min":104,"x_max":107,"y_min":89,"y_max":98,"x_advance":4,"y_advance":0,"w":3,"h":9,"bound_xmin":1.4453125,"bound_ymin":0},"A":{"x_min":16,"x_max":28,"y_min":134,"y_max":146,"x_advance":10,"y_advance":0,"w":12,"h":12,"bound_xmin":-0.0234375,"bound_ymin":0},"o":{"x_min":67,"x_max":76,"y_min":58,"y_max":68,"x_advance":8,"y_advance":0,"w":9,"h":10,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Ã£":{"x_min":49,"x_max":58,"y_min":169,"y_max":182,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"g":{"x_min":76,"x_max":84,"y_min":26,"y_max":39,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":0.515625,"bound_ymin":-3.3671875},"Â˜":{"x_min":49,"x_max":58,"y_min":0,"y_max":13,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"\\u000b":{"x_min":76,"x_max":84,"y_min":84,"y_max":94,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Â³":{"x_min":92,"x_max":98,"y_min":168,"y_max":175,"x_advance":5,"y_advance":0,"w":6,"h":7,"bound_xmin":0.2578125,"bound_ymin":5.5859375},"Ã ":{"x_min":49,"x_max":58,"y_min":143,"y_max":156,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"Ã˜":{"x_min":16,"x_max":28,"y_min":69,"y_max":82,"x_advance":12,"y_advance":0,"w":12,"h":13,"bound_xmin":0.6484375,"bound_ymin":-0.4609375},"w":{"x_min":16,"x_max":28,"y_min":170,"y_max":179,"x_advance":11,"y_advance":0,"w":12,"h":9,"bound_xmin":0.046875,"bound_ymin":0},"H":{"x_min":39,"x_max":49,"y_min":12,"y_max":24,"x_advance":11,"y_advance":0,"w":10,"h":12,"bound_xmin":1.28125,"bound_ymin":0},"Z":{"x_min":28,"x_max":38,"y_min":197,"y_max":209,"x_advance":9,"y_advance":0,"w":10,"h":12,"bound_xmin":0.3203125,"bound_ymin":0},"<":{"x_min":67,"x_max":76,"y_min":106,"y_max":115,"x_advance":9,"y_advance":0,"w":9,"h":9,"bound_xmin":0.875,"bound_ymin":1.765625},".":{"x_min":104,"x_max":107,"y_min":111,"y_max":113,"x_advance":4,"y_advance":0,"w":3,"h":2,"bound_xmin":1.453125,"bound_ymin":0},"\\u0016":{"x_min":76,"x_max":84,"y_min":154,"y_max":164,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ãƒ":{"x_min":0,"x_max":12,"y_min":240,"y_max":254,"x_advance":10,"y_advance":0,"w":12,"h":14,"bound_xmin":-0.0234375,"bound_ymin":0},"Â¿":{"x_min":67,"x_max":75,"y_min":217,"y_max":230,"x_advance":9,"y_advance":0,"w":8,"h":13,"bound_xmin":1.234375,"bound_ymin":-3.3515625},"Âˆ":{"x_min":58,"x_max":67,"y_min":65,"y_max":78,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"ÂŠ":{"x_min":58,"x_max":67,"y_min":39,"y_max":52,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"Ã»":{"x_min":92,"x_max":99,"y_min":26,"y_max":39,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"Â•":{"x_min":99,"x_max":104,"y_min":69,"y_max":81,"x_advance":4,"y_advance":0,"w":5,"h":12,"bound_xmin":0.0703125,"bound_ymin":0},"Ã¸":{"x_min":84,"x_max":92,"y_min":10,"y_max":20,"x_advance":9,"y_advance":0,"w":8,"h":10,"bound_xmin":1.0078125,"bound_ymin":-0.6171875},"\\u0006":{"x_min":84,"x_max":92,"y_min":20,"y_max":30,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã’":{"x_min":0,"x_max":12,"y_min":118,"y_max":134,"x_advance":12,"y_advance":0,"w":12,"h":16,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"Ã°":{"x_min":58,"x_max":67,"y_min":104,"y_max":117,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5703125,"bound_ymin":-0.1953125},"Ãš":{"x_min":28,"x_max":38,"y_min":81,"y_max":97,"x_advance":11,"y_advance":0,"w":10,"h":16,"bound_xmin":1.2578125,"bound_ymin":-0.1953125},"h":{"x_min":92,"x_max":99,"y_min":63,"y_max":75,"x_advance":8,"y_advance":0,"w":7,"h":12,"bound_xmin":1.0546875,"bound_ymin":0},",":{"x_min":104,"x_max":107,"y_min":98,"y_max":103,"x_advance":4,"y_advance":0,"w":3,"h":5,"bound_xmin":1.328125,"bound_ymin":-2.265625},"Âž":{"x_min":84,"x_max":91,"y_min":214,"y_max":227,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"Â¸":{"x_min":99,"x_max":104,"y_min":136,"y_max":141,"x_advance":5,"y_advance":0,"w":5,"h":5,"bound_xmin":0.8359375,"bound_ymin":-3.2890625},"Ã½":{"x_min":67,"x_max":75,"y_min":162,"y_max":178,"x_advance":8,"y_advance":0,"w":8,"h":16,"bound_xmin":0.2578125,"bound_ymin":-3.3671875},"Â¦":{"x_min":104,"x_max":106,"y_min":113,"y_max":129,"x_advance":4,"y_advance":0,"w":2,"h":16,"bound_xmin":1.46875,"bound_ymin":-3.3671875},"Â»":{"x_min":92,"x_max":99,"y_min":114,"y_max":122,"x_advance":8,"y_advance":0,"w":7,"h":8,"bound_xmin":1.09375,"bound_ymin":0.5625},"Ã":{"x_min":99,"x_max":104,"y_min":16,"y_max":30,"x_advance":4,"y_advance":0,"w":5,"h":14,"bound_xmin":0.03125,"bound_ymin":0},"Â°":{"x_min":99,"x_max":104,"y_min":126,"y_max":131,"x_advance":6,"y_advance":0,"w":5,"h":5,"bound_xmin":1,"bound_ymin":7.3125},"Ã¦":{"x_min":0,"x_max":14,"y_min":92,"y_max":102,"x_advance":14,"y_advance":0,"w":14,"h":10,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Ã¤":{"x_min":39,"x_max":48,"y_min":225,"y_max":238,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"Ã“":{"x_min":0,"x_max":12,"y_min":134,"y_max":150,"x_advance":12,"y_advance":0,"w":12,"h":16,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"\\b":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":0,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"p":{"x_min":67,"x_max":75,"y_min":230,"y_max":243,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":1.0546875,"bound_ymin":-3.1796875},"Â":{"x_min":67,"x_max":75,"y_min":191,"y_max":204,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":0.625,"bound_ymin":-3.1328125},"Â„":{"x_min":28,"x_max":38,"y_min":143,"y_max":157,"x_advance":11,"y_advance":0,"w":10,"h":14,"bound_xmin":1.21875,"bound_ymin":0},"Ã¯":{"x_min":99,"x_max":104,"y_min":93,"y_max":105,"x_advance":4,"y_advance":0,"w":5,"h":12,"bound_xmin":0.0703125,"bound_ymin":0},"%":{"x_min":0,"x_max":14,"y_min":40,"y_max":53,"x_advance":14,"y_advance":0,"w":14,"h":13,"bound_xmin":0.9296875,"bound_ymin":-0.421875},"\\"":{"x_min":99,"x_max":104,"y_min":131,"y_max":136,"x_advance":5,"y_advance":0,"w":5,"h":5,"bound_xmin":0.734375,"bound_ymin":7.3984375},"k":{"x_min":92,"x_max":99,"y_min":51,"y_max":63,"x_advance":8,"y_advance":0,"w":7,"h":12,"bound_xmin":1.0625,"bound_ymin":0},"U":{"x_min":28,"x_max":38,"y_min":171,"y_max":184,"x_advance":11,"y_advance":0,"w":10,"h":13,"bound_xmin":1.2578125,"bound_ymin":-0.1953125},"Â©":{"x_min":16,"x_max":28,"y_min":82,"y_max":95,"x_advance":11,"y_advance":0,"w":12,"h":13,"bound_xmin":0.0234375,"bound_ymin":-0.140625},"\\u0011":{"x_min":76,"x_max":84,"y_min":184,"y_max":194,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Y":{"x_min":28,"x_max":39,"y_min":49,"y_max":61,"x_advance":10,"y_advance":0,"w":11,"h":12,"bound_xmin":0.046875,"bound_ymin":0},"\\u000f":{"x_min":76,"x_max":84,"y_min":144,"y_max":154,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"~":{"x_min":67,"x_max":76,"y_min":143,"y_max":146,"x_advance":9,"y_advance":0,"w":9,"h":3,"bound_xmin":0.6796875,"bound_ymin":4.3515625},"\\u001c":{"x_min":76,"x_max":84,"y_min":204,"y_max":214,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"V":{"x_min":28,"x_max":39,"y_min":25,"y_max":37,"x_advance":10,"y_advance":0,"w":11,"h":12,"bound_xmin":0.0703125,"bound_ymin":0},"\\u001a":{"x_min":76,"x_max":84,"y_min":164,"y_max":174,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"]":{"x_min":99,"x_max":103,"y_min":180,"y_max":196,"x_advance":4,"y_advance":0,"w":4,"h":16,"bound_xmin":0.3046875,"bound_ymin":-3.1796875},"Â™":{"x_min":39,"x_max":48,"y_min":238,"y_max":251,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"\\t":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":4,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"Â¥":{"x_min":28,"x_max":38,"y_min":221,"y_max":233,"x_advance":8,"y_advance":0,"w":10,"h":12,"bound_xmin":-0.0234375,"bound_ymin":0},"Ã¢":{"x_min":49,"x_max":58,"y_min":104,"y_max":117,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"Ãˆ":{"x_min":39,"x_max":48,"y_min":84,"y_max":99,"x_advance":10,"y_advance":0,"w":9,"h":15,"bound_xmin":1.265625,"bound_ymin":0},"M":{"x_min":16,"x_max":28,"y_min":158,"y_max":170,"x_advance":13,"y_advance":0,"w":12,"h":12,"bound_xmin":1.1875,"bound_ymin":0},"Ã›":{"x_min":28,"x_max":38,"y_min":65,"y_max":81,"x_advance":11,"y_advance":0,"w":10,"h":16,"bound_xmin":1.2578125,"bound_ymin":-0.1953125},"n":{"x_min":92,"x_max":99,"y_min":97,"y_max":106,"x_advance":8,"y_advance":0,"w":7,"h":9,"bound_xmin":1.0546875,"bound_ymin":0},"i":{"x_min":104,"x_max":106,"y_min":157,"y_max":169,"x_advance":3,"y_advance":0,"w":2,"h":12,"bound_xmin":1.0625,"bound_ymin":0},"Âƒ":{"x_min":39,"x_max":48,"y_min":114,"y_max":129,"x_advance":10,"y_advance":0,"w":9,"h":15,"bound_xmin":1.265625,"bound_ymin":0},"Ã•":{"x_min":0,"x_max":12,"y_min":225,"y_max":240,"x_advance":12,"y_advance":0,"w":12,"h":15,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"Â§":{"x_min":39,"x_max":48,"y_min":52,"y_max":68,"x_advance":8,"y_advance":0,"w":9,"h":16,"bound_xmin":0.6328125,"bound_ymin":-3.3671875},")":{"x_min":92,"x_max":97,"y_min":227,"y_max":243,"x_advance":5,"y_advance":0,"w":5,"h":16,"bound_xmin":0.96875,"bound_ymin":-3.3671875},">":{"x_min":67,"x_max":76,"y_min":88,"y_max":97,"x_advance":9,"y_advance":0,"w":9,"h":9,"bound_xmin":0.875,"bound_ymin":1.765625},"j":{"x_min":99,"x_max":103,"y_min":164,"y_max":180,"x_advance":3,"y_advance":0,"w":4,"h":16,"bound_xmin":-0.734375,"bound_ymin":-3.3671875},"B":{"x_min":58,"x_max":67,"y_min":207,"y_max":219,"x_advance":10,"y_advance":0,"w":9,"h":12,"bound_xmin":1.171875,"bound_ymin":0},"Ã…":{"x_min":16,"x_max":28,"y_min":0,"y_max":14,"x_advance":10,"y_advance":0,"w":12,"h":14,"bound_xmin":-0.0234375,"bound_ymin":0},"W":{"x_min":0,"x_max":15,"y_min":28,"y_max":40,"x_advance":15,"y_advance":0,"w":15,"h":12,"bound_xmin":0.1953125,"bound_ymin":0},"\\u0007":{"x_min":84,"x_max":92,"y_min":0,"y_max":10,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Â¾":{"x_min":0,"x_max":14,"y_min":53,"y_max":66,"x_advance":13,"y_advance":0,"w":14,"h":13,"bound_xmin":0.2578125,"bound_ymin":-0.4453125},"\\u0013":{"x_min":84,"x_max":92,"y_min":70,"y_max":80,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Â¼":{"x_min":0,"x_max":14,"y_min":66,"y_max":79,"x_advance":13,"y_advance":0,"w":14,"h":13,"bound_xmin":0.8359375,"bound_ymin":-0.4453125},"K":{"x_min":28,"x_max":38,"y_min":209,"y_max":221,"x_advance":10,"y_advance":0,"w":10,"h":12,"bound_xmin":1.171875,"bound_ymin":0},"!":{"x_min":104,"x_max":107,"y_min":53,"y_max":65,"x_advance":4,"y_advance":0,"w":3,"h":12,"bound_xmin":1.375,"bound_ymin":0},"v":{"x_min":84,"x_max":92,"y_min":138,"y_max":147,"x_advance":8,"y_advance":0,"w":8,"h":9,"bound_xmin":0.203125,"bound_ymin":0},"Â‚":{"x_min":16,"x_max":27,"y_min":204,"y_max":220,"x_advance":11,"y_advance":0,"w":11,"h":16,"bound_xmin":0.796875,"bound_ymin":-3.2890625},"c":{"x_min":76,"x_max":84,"y_min":94,"y_max":104,"x_advance":8,"y_advance":0,"w":8,"h":10,"bound_xmin":0.625,"bound_ymin":-0.1875},"Â¡":{"x_min":104,"x_max":107,"y_min":40,"y_max":53,"x_advance":5,"y_advance":0,"w":3,"h":13,"bound_xmin":1.8125,"bound_ymin":-3.15625},"Â—":{"x_min":49,"x_max":58,"y_min":13,"y_max":26,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Ã†":{"x_min":0,"x_max":16,"y_min":16,"y_max":28,"x_advance":16,"y_advance":0,"w":16,"h":12,"bound_xmin":0.0078125,"bound_ymin":0},"Ã”":{"x_min":0,"x_max":12,"y_min":102,"y_max":118,"x_advance":12,"y_advance":0,"w":12,"h":16,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"Ã„":{"x_min":16,"x_max":28,"y_min":14,"y_max":28,"x_advance":10,"y_advance":0,"w":12,"h":14,"bound_xmin":-0.0234375,"bound_ymin":0},"Ã©":{"x_min":49,"x_max":58,"y_min":78,"y_max":91,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"P":{"x_min":67,"x_max":76,"y_min":36,"y_max":48,"x_advance":10,"y_advance":0,"w":9,"h":12,"bound_xmin":1.234375,"bound_ymin":0},"_":{"x_min":28,"x_max":39,"y_min":63,"y_max":65,"x_advance":8,"y_advance":0,"w":11,"h":2,"bound_xmin":-0.2421875,"bound_ymin":-3.1796875},"Ã‘":{"x_min":28,"x_max":38,"y_min":157,"y_max":171,"x_advance":11,"y_advance":0,"w":10,"h":14,"bound_xmin":1.21875,"bound_ymin":0},"Ã®":{"x_min":92,"x_max":98,"y_min":137,"y_max":149,"x_advance":4,"y_advance":0,"w":6,"h":12,"bound_xmin":-0.1328125,"bound_ymin":0},"Â†":{"x_min":28,"x_max":38,"y_min":128,"y_max":143,"x_advance":11,"y_advance":0,"w":10,"h":15,"bound_xmin":1.2578125,"bound_ymin":-0.1953125},"Ã­":{"x_min":104,"x_max":108,"y_min":0,"y_max":12,"x_advance":4,"y_advance":0,"w":4,"h":12,"bound_xmin":1.4765625,"bound_ymin":0},"t":{"x_min":99,"x_max":104,"y_min":56,"y_max":69,"x_advance":4,"y_advance":0,"w":5,"h":13,"bound_xmin":0.28125,"bound_ymin":-0.109375},"Ã™":{"x_min":28,"x_max":38,"y_min":97,"y_max":113,"x_advance":11,"y_advance":0,"w":10,"h":16,"bound_xmin":1.2578125,"bound_ymin":-0.1953125},"S":{"x_min":28,"x_max":38,"y_min":184,"y_max":197,"x_advance":10,"y_advance":0,"w":10,"h":13,"bound_xmin":0.71875,"bound_ymin":-0.1953125},"`":{"x_min":104,"x_max":108,"y_min":22,"y_max":25,"x_advance":5,"y_advance":0,"w":4,"h":3,"bound_xmin":0.6953125,"bound_ymin":9.328125},"$":{"x_min":39,"x_max":48,"y_min":99,"y_max":114,"x_advance":8,"y_advance":0,"w":9,"h":15,"bound_xmin":0.5703125,"bound_ymin":-1.6484375},"\'":{"x_min":104,"x_max":107,"y_min":103,"y_max":108,"x_advance":3,"y_advance":0,"w":3,"h":5,"bound_xmin":0.703125,"bound_ymin":7.3984375},"\\u0012":{"x_min":76,"x_max":84,"y_min":64,"y_max":74,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"\\u001d":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":0,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"\\u0014":{"x_min":84,"x_max":92,"y_min":100,"y_max":110,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã–":{"x_min":0,"x_max":12,"y_min":150,"y_max":165,"x_advance":12,"y_advance":0,"w":12,"h":15,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"Ã—":{"x_min":84,"x_max":92,"y_min":147,"y_max":155,"x_advance":9,"y_advance":0,"w":8,"h":8,"bound_xmin":1.2578125,"bound_ymin":2.25},"x":{"x_min":84,"x_max":92,"y_min":129,"y_max":138,"x_advance":8,"y_advance":0,"w":8,"h":9,"bound_xmin":0.1171875,"bound_ymin":0},"#":{"x_min":49,"x_max":58,"y_min":39,"y_max":52,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.1640625,"bound_ymin":-0.1953125},"*":{"x_min":92,"x_max":98,"y_min":189,"y_max":195,"x_advance":6,"y_advance":0,"w":6,"h":6,"bound_xmin":0.5,"bound_ymin":6.7734375},"\\u0005":{"x_min":84,"x_max":92,"y_min":60,"y_max":70,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Â’":{"x_min":99,"x_max":103,"y_min":211,"y_max":223,"x_advance":4,"y_advance":0,"w":4,"h":12,"bound_xmin":1.4765625,"bound_ymin":0},"O":{"x_min":16,"x_max":28,"y_min":108,"y_max":121,"x_advance":12,"y_advance":0,"w":12,"h":13,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"Â€":{"x_min":16,"x_max":28,"y_min":42,"y_max":56,"x_advance":10,"y_advance":0,"w":12,"h":14,"bound_xmin":-0.0234375,"bound_ymin":0},"Ãž":{"x_min":58,"x_max":67,"y_min":219,"y_max":231,"x_advance":10,"y_advance":0,"w":9,"h":12,"bound_xmin":1.234375,"bound_ymin":0},"r":{"x_min":99,"x_max":104,"y_min":117,"y_max":126,"x_advance":5,"y_advance":0,"w":5,"h":9,"bound_xmin":1.0390625,"bound_ymin":0},";":{"x_min":104,"x_max":107,"y_min":77,"y_max":89,"x_advance":4,"y_advance":0,"w":3,"h":12,"bound_xmin":1.328125,"bound_ymin":-2.265625},"e":{"x_min":67,"x_max":76,"y_min":78,"y_max":88,"x_advance":8,"y_advance":0,"w":9,"h":10,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"Â®":{"x_min":16,"x_max":28,"y_min":56,"y_max":69,"x_advance":11,"y_advance":0,"w":12,"h":13,"bound_xmin":0.0234375,"bound_ymin":-0.140625},"d":{"x_min":76,"x_max":84,"y_min":39,"y_max":52,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":0.546875,"bound_ymin":-0.1875},"Â´":{"x_min":104,"x_max":108,"y_min":19,"y_max":22,"x_advance":5,"y_advance":0,"w":4,"h":3,"bound_xmin":1.734375,"bound_ymin":9.328125},"Ã‰":{"x_min":39,"x_max":48,"y_min":129,"y_max":144,"x_advance":10,"y_advance":0,"w":9,"h":15,"bound_xmin":1.265625,"bound_ymin":0},"Âª":{"x_min":92,"x_max":98,"y_min":182,"y_max":189,"x_advance":5,"y_advance":0,"w":6,"h":7,"bound_xmin":0.3671875,"bound_ymin":5.828125},"F":{"x_min":58,"x_max":67,"y_min":243,"y_max":255,"x_advance":9,"y_advance":0,"w":9,"h":12,"bound_xmin":1.3125,"bound_ymin":0},"Â ":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":4,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"Ãœ":{"x_min":28,"x_max":38,"y_min":113,"y_max":128,"x_advance":11,"y_advance":0,"w":10,"h":15,"bound_xmin":1.2578125,"bound_ymin":-0.1953125},"Ã¨":{"x_min":49,"x_max":58,"y_min":52,"y_max":65,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"\\u001e":{"x_min":76,"x_max":84,"y_min":74,"y_max":84,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Ã¡":{"x_min":49,"x_max":58,"y_min":117,"y_max":130,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"/":{"x_min":99,"x_max":104,"y_min":30,"y_max":43,"x_advance":4,"y_advance":0,"w":5,"h":13,"bound_xmin":0,"bound_ymin":-0.1953125},"T":{"x_min":28,"x_max":38,"y_min":233,"y_max":245,"x_advance":9,"y_advance":0,"w":10,"h":12,"bound_xmin":0.375,"bound_ymin":0},"Â›":{"x_min":39,"x_max":48,"y_min":199,"y_max":212,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"Âš":{"x_min":39,"x_max":48,"y_min":212,"y_max":225,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.53125,"bound_ymin":-0.1875},"ÂŸ":{"x_min":84,"x_max":91,"y_min":201,"y_max":214,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"Âµ":{"x_min":84,"x_max":91,"y_min":175,"y_max":188,"x_advance":9,"y_advance":0,"w":7,"h":13,"bound_xmin":1.25,"bound_ymin":-3.1796875},"Ã‡":{"x_min":16,"x_max":27,"y_min":188,"y_max":204,"x_advance":11,"y_advance":0,"w":11,"h":16,"bound_xmin":0.796875,"bound_ymin":-3.2890625},"J":{"x_min":92,"x_max":99,"y_min":0,"y_max":13,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":0.4609375,"bound_ymin":-0.1953125},"Â…":{"x_min":0,"x_max":12,"y_min":210,"y_max":225,"x_advance":12,"y_advance":0,"w":12,"h":15,"bound_xmin":0.7734375,"bound_ymin":-0.1953125},"&":{"x_min":16,"x_max":27,"y_min":235,"y_max":248,"x_advance":10,"y_advance":0,"w":11,"h":13,"bound_xmin":0.6875,"bound_ymin":-0.265625},"Â‹":{"x_min":58,"x_max":67,"y_min":26,"y_max":39,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.578125,"bound_ymin":-0.1875},"m":{"x_min":16,"x_max":28,"y_min":179,"y_max":188,"x_advance":13,"y_advance":0,"w":12,"h":9,"bound_xmin":1.0546875,"bound_ymin":0},"Ãª":{"x_min":49,"x_max":58,"y_min":91,"y_max":104,"x_advance":8,"y_advance":0,"w":9,"h":13,"bound_xmin":0.5859375,"bound_ymin":-0.1875},"\\u001f":{"x_min":76,"x_max":84,"y_min":224,"y_max":234,"x_advance":12,"y_advance":0,"w":8,"h":10,"bound_xmin":2,"bound_ymin":0},"Âº":{"x_min":92,"x_max":98,"y_min":161,"y_max":168,"x_advance":5,"y_advance":0,"w":6,"h":7,"bound_xmin":0.3515625,"bound_ymin":5.78125},"Ã‹":{"x_min":39,"x_max":48,"y_min":159,"y_max":173,"x_advance":10,"y_advance":0,"w":9,"h":14,"bound_xmin":1.265625,"bound_ymin":0},"Ã§":{"x_min":76,"x_max":84,"y_min":13,"y_max":26,"x_advance":8,"y_advance":0,"w":8,"h":13,"bound_xmin":0.625,"bound_ymin":-3.1328125},"Â–":{"x_min":92,"x_max":99,"y_min":75,"y_max":87,"x_advance":8,"y_advance":0,"w":7,"h":12,"bound_xmin":1.0546875,"bound_ymin":0},"Â«":{"x_min":92,"x_max":99,"y_min":106,"y_max":114,"x_advance":8,"y_advance":0,"w":7,"h":8,"bound_xmin":1.046875,"bound_ymin":0.5625},"\\r":{"x_min":104,"x_max":104,"y_min":169,"y_max":169,"x_advance":4,"y_advance":0,"w":0,"h":0,"bound_xmin":0,"bound_ymin":0},"ÃŸ":{"x_min":49,"x_max":58,"y_min":195,"y_max":208,"x_advance":9,"y_advance":0,"w":9,"h":13,"bound_xmin":1.1953125,"bound_ymin":-0.1953125},"Ã¹":{"x_min":84,"x_max":91,"y_min":162,"y_max":175,"x_advance":8,"y_advance":0,"w":7,"h":13,"bound_xmin":1.0234375,"bound_ymin":-0.1875},"u":{"x_min":92,"x_max":99,"y_min":87,"y_max":97,"x_advance":8,"y_advance":0,"w":7,"h":10,"bound_xmin":1.0234375,"bound_ymin":-0.1875}}');var lt=function(e,t){var n=nt(),i=JSON.stringify(rt);this.webclient=new e.WebClient(t,n,{kernel:it,colormaps:at,letters:ot,letters_metadata:i})},st={};function ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}st.log=function(e,n){try{var i="";n&&(i=JSON.stringify(n)),t().ajax({url:"//alasky.unistra.fr/cgi/AladinLiteLogger/log.py",data:{action:e,params:i,pageUrl:window.location.href,referer:document.referrer?document.referrer:""},method:"GET",dataType:"json"})}catch(a){window.console&&console.log("Exception: "+a)}};var dt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}var t,n,i;return t=e,n=[{key:"dispatchedTo",value:function(e,t){t?e.dispatchEvent(new CustomEvent(this.name,{detail:t})):e.dispatchEvent(new CustomEvent(this.name))}},{key:"listenedBy",value:function(e,t){e.addEventListener(this.name,t)}},{key:"remove",value:function(e,t){e.removeEventListener(this.name,t)}}],n&&ct(t.prototype,n),i&&ct(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();ut(dt,"COO_GRID_ENABLED",new dt("AL:cooGrid.enabled")),ut(dt,"COO_GRID_DISABLED",new dt("AL:cooGrid.disabled")),ut(dt,"COO_GRID_UPDATED",new dt("AL:cooGrid.updated")),ut(dt,"PROJECTION_CHANGED",new dt("AL:projection.changed")),ut(dt,"HIPS_LAYER_ADDED",new dt("AL:HiPSLayer.added")),ut(dt,"HIPS_LAYER_REMOVED",new dt("AL:HiPSLayer.removed")),ut(dt,"HIPS_LAYER_CHANGED",new dt("AL:HiPSLayer.changed")),ut(dt,"GRAPHIC_OVERLAY_LAYER_ADDED",new dt("AL:GraphicOverlayLayer.added")),ut(dt,"GRAPHIC_OVERLAY_LAYER_REMOVED",new dt("AL:GraphicOverlayLayer.removed")),ut(dt,"GRAPHIC_OVERLAY_LAYER_CHANGED",new dt("AL:GraphicOverlayLayer.changed"));var ft=function(){function e(e){this.properties=e,this.id=this.getID(),this.obsTitle=e.obs_title,this.frame=e.hips_frame,this.order=parseInt(e.hips_order),this.clientSortKey=e.client_sort_key,this.tileFormats=e.hasOwnProperty("hips_tile_format")&&e.hips_tile_format.split(" "),this.urls=[],this.urls.push(e.hips_service_url);for(var t=1;e.hasOwnProperty("hips_service_url_"+t);)this.urls.push(e["hips_service_url_"+t]),t++;this.clientApplications=e.client_application}return e.prototype={getServiceURLs:function(e){e=!0===e},getID:function(){if(this.properties.hasOwnProperty("ID"))return this.properties.ID;var e=null;return this.properties.hasOwnProperty("creator_did")&&(e=this.properties.creator_did),null==e&&this.properties.hasOwnProperty("publisher_did")&&(e=this.properties.publisher_did),null!=e&&("ivo://"===e.slice(0,6)&&(e=e.slice(6)),e=e.replace(/\?/g,"/")),e}},e.parseHiPSProperties=function(e){if(null==e)return null;for(var n={},i=(e=e.replace(/[\r]/g,"")).split("\n"),a=0;a<i.length;a++){var o=t().trim(i[a]);if("#"!==o.slice(0,1)){var r=o.indexOf("=");if(!(r<0)){var l=t().trim(o.slice(0,r)),s=t().trim(o.slice(r+1));n[l]=s}}}return n},e.fromURL=function(t,n){var i,a;"properties"===t.slice(-10)?i=(a=t).slice(0,-11):("/"===t.slice(-1)&&(t=t.slice(0,-1)),a=(i=t)+"/properties");var o=function(t){var a=e.parseHiPSProperties(t);a.hasOwnProperty("hips_service_url")||(a.hips_service_url=i),"function"==typeof n&&n(new e(a))};D.getAjaxObject(a,"GET","text",!1).done((function(e){o(e)})).fail((function(){D.getAjaxObject(a,"GET","text",!0).done((function(e){o(e)})).fail((function(){"function"==typeof n&&n(null)}))}))},e.fromProperties=function(t){return new e(t)},e}();function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ht(){ht=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",r=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),r=new S(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var r=n.delegate;if(r){var l=g(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=c(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function f(){}function p(){}var h={};l(h,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(A([])));v&&v!==t&&n.call(v,a)&&(h=v);var _=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(a,o,r,l){var s=c(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==pt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,r,l)}),(function(e){i("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return i("throw",e,r,l)}))}l(s.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,l(_,"constructor",p),l(p,"constructor",f),f.displayName=l(p,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,r,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,a,o){void 0===o&&(o=Promise);var r=new y(s(t,n,i,a),o);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},x(_),l(_,r,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function mt(e,t,n,i,a,o,r){try{var l=e[o](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){mt(o,i,a,r,l,"next",e)}function l(e){mt(o,i,a,r,l,"throw",e)}r(void 0)}))}}function _t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getAllHiPSes",value:function(){var t=this;return void 0===this._allHiPSes&&vt(ht().mark((function n(){var i;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={expr:"dataproduct_type=image||dataproduct_type=cube",get:"record",fmt:"json",fields:"ID,hips_initial_fov,hips_initial_ra,hips_initial_dec,hips_pixel_bitpix,hips_creator,hips_copyright,hips_frame,hips_order,hips_order_min,hips_tile_width,hips_tile_format,hips_pixel_cut,obs_title,obs_description,obs_copyright,obs_regime,hips_data_range,hips_service_url"},n.next=3,D.loadFromMirrors(e.MIRRORS_HTTPS,{data:i}).then((function(e){return e.json()}));case 3:t._allHiPSes=n.sent;case 4:case"end":return n.stop()}}),n)})))(),this._allHiPSes}},{key:"getAllCatalogHiPSes",value:function(){var t=this;return void 0===this._allCatalogHiPSes&&vt(ht().mark((function n(){var i;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={expr:"dataproduct_type=catalog",get:"record",fmt:"json",fields:"ID,hips_copyright,hips_order,hips_order_min,obs_title,obs_description,obs_copyright,obs_regime,cs_service_url,hips_service_url"},n.next=3,D.loadFromMirrors(e.MIRRORS_HTTPS,{data:i}).then((function(e){return e.json()}));case 3:t._allCatalogHiPSes=n.sent;case 4:case"end":return n.stop()}}),n)})))(),this._allCatalogHiPSes}}],(n=null)&&_t(t.prototype,n),i&&_t(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(){At=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",r=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),r=new S(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var r=n.delegate;if(r){var l=g(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=c(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function f(){}function p(){}var h={};l(h,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(A([])));v&&v!==t&&n.call(v,a)&&(h=v);var _=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(a,o,r,l){var s=c(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==gt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,r,l)}),(function(e){i("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return i("throw",e,r,l)}))}l(s.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,l(_,"constructor",p),l(p,"constructor",f),f.displayName=l(p,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,r,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,a,o){void 0===o&&(o=Promise);var r=new y(s(t,n,i,a),o);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},x(_),l(_,r,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ct(e,t,n,i,a,o,r){try{var l=e[o](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){Ct(o,i,a,r,l,"next",e)}function l(e){Ct(o,i,a,r,l,"throw",e)}r(void 0)}))}}function kt(e){return Tt.apply(this,arguments)}function Tt(){return Tt=It(At().mark((function e(t){var n,i,a,o,r,l,s,c,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw"An hosting survey URL or an ID (i.e. DSS2/red) must be given";case 2:if(n=!1,t.includes("http")&&(n=!0),function(){var e=It(At().mark((function e(t){var n,i;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i={},n){e.next=35;break}return o={get:"record",fmt:"json",ID:"*"+(a=t)+"*"},e.next=11,D.loadFromMirrors(yt.MIRRORS_HTTPS,{data:o}).then((function(e){return e.json()}));case 11:if((i=e.sent)&&0!=i.length){e.next=16;break}throw"No surveys matching have been found for the id: "+a;case 16:if(!(i.length>1)){e.next=32;break}r=[],l=!1,s=0;case 20:if(!(s<i.length)){e.next=29;break}if(r.push(i[s].ID),i[s].ID!==a){e.next=26;break}return i=i[s],l=!0,e.abrupt("break",29);case 26:s++,e.next=20;break;case 29:l||(i=i[0],console.warn(r+" surveys are matching. Please use one from this list. The chosen one is: "+i)),e.next=33;break;case 32:i=i[0];case 33:e.next=47;break;case 35:return"/"===(c=t).slice(-1)&&(c=c.substr(0,c.length-1)),c=D.getAbsoluteURL(c),c=D.fixURLForHTTPS(c),u=c+"/properties",e.next=42,fetch(u).then((function(e){return e.text()}));case 42:if(i=e.sent,i=ft.parseHiPSProperties(i)){e.next=46;break}throw"No surveys matching at this url: "+c;case 46:i.hips_service_url=t;case 47:return e.abrupt("return",i);case 48:case"end":return e.stop()}}),e)}))),Tt.apply(this,arguments)}xt(yt,"MIRRORS_HTTP",["http://alaskybis.unistra.fr/MocServer/query","http://alasky.unistra.fr/MocServer/query"]),xt(yt,"MIRRORS_HTTPS",["https://alaskybis.unistra.fr/MocServer/query","https://alasky.unistra.fr/MocServer/query"]),xt(yt,"_allHiPSes",void 0),xt(yt,"_allCatalogHiPSes",void 0);var Dt=function(){function e(t,n,i,a,o){var r=this;this.backend=a,this.orderIdx=null,this.ready=!1,this.layer=null,this.added=!1,this.id=t,this.name=n,this.options=o||{},this.options.imgFormat&&(this.options.imgFormat=this.options.imgFormat.toLowerCase(),"jpg"===this.options.imgFormat&&(this.options.imgFormat="jpeg")),"fits"===this.options.imgFormat?this.fits=!0:(this.options.imgFormat,this.fits=!1),void 0===this.options.longitudeReversed&&(this.options.longitudeReversed=!1),void 0===this.options.opacity&&(this.options.opacity=1);var l=0;e.SURVEYS.some((function(e){var t=r.id.endsWith(e.id);return t||(l+=1),t}))?e.SURVEYS[l].options=this.options:e.SURVEYS.push({id:this.id,name:this.name,options:this.options});this.updateMeta();var s=this;It(At().mark((function n(){var o,r,l,c,u,d,f,p,h,m,v,_,x,y,g,b,w,S,A;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,kt(i||t);case 3:if(o=n.sent,s.name=s.name||o.obs_title,s.searchForValidSurveyUrl(o),r=o.hips_service_url){n.next=9;break}throw"no valid service URL for retrieving the tiles";case 9:if(r=D.fixURLForHTTPS(r),l=+o.hips_order,c=o.hips_tile_format||"jpeg",u=c.split(" ").map((function(e){return e.toLowerCase()})),!s.options.imgFormat){n.next=22;break}if(!("fits"===s.options.imgFormat&&u.indexOf("fits")<0)){n.next=16;break}throw s.name+" does not provide fits tiles";case 16:if(!("png"===s.options.imgFormat&&u.indexOf("png")<0)){n.next=18;break}throw s.name+" does not provide png tiles";case 18:if(!("jpeg"===s.options.imgFormat&&u.indexOf("jpeg")<0)){n.next=20;break}throw s.name+" does not provide jpeg tiles";case 20:n.next=38;break;case 22:if(!(u.indexOf("png")>=0)){n.next=27;break}s.options.imgFormat="png",s.fits=!1,n.next=38;break;case 27:if(!(u.indexOf("jpeg")>=0)){n.next=32;break}s.options.imgFormat="jpeg",s.fits=!1,n.next=38;break;case 32:if(!(u.indexOf("fits")>=0)){n.next=37;break}s.options.imgFormat="fits",s.fits=!0,n.next=38;break;case 37:throw"Unsupported format(s) found in the metadata: "+u;case 38:if(d=void 0===(d=o.hips_order_min)?3:+d,f=null,(f=void 0===o.hips_tile_width?512:+o.hips_tile_width)&f-1!=0&&(f=512),p=+o.moc_sky_fraction||0,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},!1,void 0!==o.hips_body&&(!0,s.options.cooFrame="ICRSd",s.options.longitudeReversed=!0),s.options.cooFrame=s.options.cooFrame||o.hips_frame,h=null,"ICRS"==s.options.cooFrame||"ICRSd"==s.options.cooFrame||"equatorial"==s.options.cooFrame||"j2000"==s.options.cooFrame?h="ICRSJ2000":"galactic"==s.options.cooFrame?h="GAL":void 0===s.options.cooFrame?(h="ICRSJ2000",console.warn('No cooframe given. Coordinate systems supported: "ICRS", "ICRSd", "j2000" or "galactic". ICRS is chosen by default')):(h="ICRSd",console.warn("Invalid cooframe given: "+s.options.cooFrame+'. Coordinate systems supported: "ICRS", "ICRSd", "j2000" or "galactic". ICRS is chosen by default')),s.colored=!1,o.dataproduct_subtype&&(o.dataproduct_subtype.includes("color")||o.dataproduct_subtype[0].includes("color"))&&(s.colored=!0),m=+o.hips_initial_fov,v=+o.hips_initial_ra,_=+o.hips_initial_dec,m<2777777e-11&&(m=360),s.colored?s.properties={url:r,maxOrder:l,frame:h,tileSize:f,formats:u,skyFraction:p,minOrder:d,hipsInitialFov:m,hipsInitialRa:v,hipsInitialDec:_}:(x=o.hips_pixel_cut&&o.hips_pixel_cut.split(" ")||void 0,y=void 0,g=void 0,x&&(y=parseFloat(x[0]),g=parseFloat(x[1])),b=+o.hips_pixel_bitpix,s.properties={url:r,maxOrder:l,frame:h,tileSize:f,formats:u,minCutout:y,maxCutout:g,bitpix:b,skyFraction:p,minOrder:d,hipsInitialFov:m,hipsInitialRa:v,hipsInitialDec:_}),s.options.stretch=s.options.stretch||"linear",s.fits?(s.options.minCut=s.options.minCut||s.properties.minCutout,s.options.maxCut=s.options.maxCut||s.properties.maxCutout):(s.options.minCut=s.options.minCut||0,s.options.maxCut=s.options.maxCut||1),!(s.orderIdx<s.backend.imageSurveysIdx.get(s.layer))){n.next=61;break}return n.abrupt("return");case 61:if(void 0!==o.hips_body?s.backend.options.showFrame&&(s.backend.aladin.setFrame("J2000d"),document.querySelectorAll(".aladin-location > .aladin-frameChoice")[0].innerHTML='<option value="'+k.J2000d.label+'" selected="selected">J2000d</option>'):s.backend.options.showFrame&&(w=k.fromString(s.backend.options.cooFrame,k.J2000),document.querySelectorAll(".aladin-location > .aladin-frameChoice")[0].innerHTML='<option value="'+k.J2000.label+'" '+(w==k.J2000?'selected="selected"':"")+'>J2000</option><option value="'+k.J2000d.label+'" '+(w==k.J2000d?'selected="selected"':"")+'>J2000d</option><option value="'+k.GAL.label+'" '+(w==k.GAL?'selected="selected"':"")+">GAL</option>"),s.updateMeta(),s.updateColor(),s.ready=!0,S=0,e.SURVEYS.some((function(e){var t=s.id.endsWith(e.id);return t||(S+=1),t}))){n.next=71;break}throw"Should have been found!";case 71:(A=e.SURVEYS[S]).options=s.options,A.maxOrder=s.properties.maxOrder,A.url=s.properties.url;case 75:s.added&&s.backend.commitSurveysToBackend(s,s.layer),n.next=87;break;case 78:if(n.prev=78,n.t0=n.catch(0),!a.aladin.empty||"base"!==s.layer){n.next=86;break}console.error(n.t0),console.warn("DSS2/color is chosen by default."),a.aladin.setBaseImageLayer(jn.DEFAULT_OPTIONS.survey),n.next=87;break;case 86:throw n.t0;case 87:case"end":return n.stop()}}),n,null,[[0,78]])})))()}return e.prototype.searchForValidSurveyUrl=function(){var e=It(At().mark((function e(t){var n,i,a,o,r,l,s,c,u;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this,i=function(e){var t=new AbortController,n=Date.now(),i=2e3,a=setTimeout((function(){return t.abort()}),i);return fetch(e+"/properties",{cache:"no-store",signal:t.signal,mode:"cors"}).then((function(t){var i=Date.now()-n;return clearTimeout(a),{duration:i,baseUrl:e,validRequest:!0}})).catch((function(t){return a>=i&&e+" responding very slowly.",{duration:i,baseUrl:e,validRequest:!1}}))},(a=new Array).push(i(t.hips_service_url)),o=1;t.hasOwnProperty("hips_service_url_"+o.toString());)r="hips_service_url_"+o.toString(),l=t[r],a.push(i(l)),o+=1;return e.next=8,Promise.all(a).then((function(e){var t,n,i=e.filter((function(e){return!0===e.validRequest}));return i.sort((function(e,t){return e.duration-t.duration})),i.length>=2&&(i[1].duration-i[0].duration)/i[0].duration<.2?i[(t=0,n=1,t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t)].baseUrl:i[0].baseUrl}));case 8:if(s=e.sent,c=function(e){D.isHttpsContext()&&(D.HTTPS_WHITELIST.some((function(t){return e.includes(t)}))&&(e=e.replace("http://","https://")));return e},s=c(s),(u=c(t.hips_service_url))===s){e.next=18;break}if(console.info("Change url of ",n.id," from ",u," to ",s),!(n.orderIdx<n.backend.imageSurveysIdx.get(n.layer))){e.next=16;break}return e.abrupt("return");case 16:n.properties.url=s,n.added&&n.backend.setHiPSUrl(u,s);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.updateMeta=function(){var e={srcColorFactor:"SrcAlpha",dstColorFactor:"OneMinusSrcAlpha",func:"FuncAdd"};this.options.additive&&(e={srcColorFactor:"SrcAlpha",dstColorFactor:"One",func:"FuncAdd"}),this.meta=this.meta||{},this.meta.blendCfg=e,this.meta.opacity=this.options.opacity,this.meta.longitudeReversed=this.options.longitudeReversed},e.prototype.updateColor=function(){var t=this.options.minCut,n=this.options.maxCut,i=this.options.stretch;i&&(i=i.toLowerCase());var a=this.options.color,o=this.options.colormap;if(a)this.meta.color={grayscale:{stretch:i,minCut:t,maxCut:n,color:{color:a}}},this.options.minCut=t,this.options.maxCut=n,this.options.stretch=i,this.options.color=a;else if(o||!this.colored){if(o||(o="grayscale"),"native"===o){if(this.colored)return void(this.meta.color="color");o="grayscale"}o=o.toLowerCase(),e.COLORMAPS.includes(o)||(console.warn("The colormap '"+o+"' does not exist. You should use one of the following: "+e.COLORMAPS+"\n'grayscale' has been chosen by default."),o="grayscale");var r=this.options.reversed;void 0===r&&(r=!1),this.meta.color={grayscale:{stretch:i,minCut:t,maxCut:n,color:{colormap:{reversed:r,name:o}}}},this.options.minCut=t,this.options.maxCut=n,this.options.stretch=i,this.options.reversed=r,this.options.colormap=o}else this.colored&&(this.meta.color="color")},e.prototype.setOpacity=function(e){var t=this.options;if(this.prevOpacity=this.options.opacity,e=+e,this.options.opacity=Math.max(0,Math.min(e,1)),this.updateMeta(),this.ready&&this.added)try{this.backend.aladin.webglAPI.setImageSurveyMeta(this.layer,this.meta),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(n){console.error(n),this.options=t,this.updateMeta()}},e.prototype.toggle=function(){0!=this.options.opacity?this.setOpacity(0):this.setOpacity(this.prevOpacity)},e.prototype.setAlpha=e.prototype.setOpacity,e.prototype.getOpacity=function(){return this.options.opacity},e.prototype.setBlendingConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.options;if(this.options.additive=e,this.updateMeta(),this.ready&&this.added)try{this.backend.aladin.webglAPI.setImageSurveyMeta(this.layer,this.meta),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(n){console.error(n),this.options=t,this.updateMeta()}},e.prototype.setColor=function(e,t){var n=this.options;if(this.options=wt(wt({},this.options),t),this.options.colormap&&delete this.options.colormap,this.options.color=e,this.updateColor(),this.ready&&this.added)try{this.backend.aladin.webglAPI.setImageSurveyMeta(this.layer,this.meta),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(i){console.error(i),this.options=n,this.updateColor()}},e.prototype.setColormap=function(e,t){var n=this.options;if(this.options=wt(wt({},this.options),t),this.options.color&&delete this.options.color,this.options.colormap=e,this.updateColor(),this.ready&&this.added)try{this.backend.aladin.webglAPI.setImageSurveyMeta(this.layer,this.meta),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(i){console.error(i),this.options=n,this.updateColor()}},e.prototype.setCuts=function(e){var t=this.options;if(this.options.minCut=e[0],this.options.maxCut=e[1],this.updateColor(),this.ready&&this.added)try{this.backend.aladin.webglAPI.setImageSurveyMeta(this.layer,this.meta),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(n){console.error(n),this.options=t,this.updateColor()}},e.prototype.setOptions=function(e){var t=this.options;if(this.options=wt(wt({},this.options),e),this.updateMeta(),this.updateColor(),this.ready&&this.added)try{this.backend.aladin.webglAPI.setImageSurveyMeta(this.layer,this.meta),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(n){console.error(n),this.options=t,this.updateMeta(),this.updateColor()}},e.prototype.changeImageFormat=function(e){var t=this.options.imgFormat,n=e.toLowerCase();if("fits"!==n&&"png"!==n&&"jpg"!==n&&"jpeg"!==n)throw'Formats must lie in ["fits", "png", "jpg"]';if("jpg"===n&&(n="jpeg"),this.properties){var i=this.properties.formats,a=this.properties.id;if("fits"===n&&i.indexOf("fits")<0)throw a+" does not provide fits tiles";if("png"===n&&i.indexOf("png")<0)throw a+" does not provide png tiles";if("jpeg"===n&&i.indexOf("jpeg")<0)throw a+" does not provide jpeg tiles"}if(this.options.imgFormat!==n&&(this.options.imgFormat=n,this.fits="fits"===this.options.imgFormat,this.ready&&this.added))try{this.backend.aladin.webglAPI.setImageSurveyImageFormat(this.layer,n),dt.HIPS_LAYER_CHANGED.dispatchedTo(this.backend.aladinDiv,{survey:this})}catch(o){console.error(o),this.options.imgFormat=t,this.fits="fits"===this.options.imgFormat}},e.prototype.getMeta=function(){return this.meta},e.prototype.getAlpha=function(){return this.meta.opacity},e.prototype.readPixel=function(e,t){return this.backend.aladin.webglAPI.readPixel(e,t,this.layer)},e.DEFAULT_SURVEY_ID="P/DSS2/color",e.COLORMAPS=[],e.SURVEYS_OBJECTS={},e.SURVEYS=[{id:"P/2MASS/color",name:"2MASS colored",url:"https://alasky.cds.unistra.fr/2MASS/Color",maxOrder:9},{id:"P/DSS2/color",name:"DSS colored",url:"https://alasky.cds.unistra.fr/DSS/DSSColor",maxOrder:9},{id:"P/DSS2/red",name:"DSS2 Red (F+R)",url:"https://alasky.cds.unistra.fr/DSS/DSS2Merged",maxOrder:9,options:{minCut:1e3,maxCut:1e4,imgFormat:"fits",colormap:"magma",stretch:"Linear"}},{id:"P/DM/I/350/gaiaedr3",name:"Density map for Gaia EDR3 (I/350/gaiaedr3)",url:"https://alasky.cds.unistra.fr/ancillary/GaiaEDR3/density-map",maxOrder:7,options:{minCut:0,maxCut:12e3,stretch:"asinh",colormap:"rdyibu",imgFormat:"fits"}},{id:"P/PanSTARRS/DR1/g",name:"PanSTARRS DR1 g",url:"https://alasky.cds.unistra.fr/Pan-STARRS/DR1/g",maxOrder:11,options:{minCut:-34,maxCut:7e3,stretch:"asinh",colormap:"redtemperature",imgFormat:"fits"}},{id:"P/PanSTARRS/DR1/color-z-zg-g",name:"PanSTARRS DR1 color",url:"https://alasky.cds.unistra.fr/Pan-STARRS/DR1/color-z-zg-g",maxOrder:11},{id:"P/DECaPS/DR1/color",name:"DECaPS DR1 color",url:"https://alasky.cds.unistra.fr/DECaPS/DR1/color",maxOrder:11},{id:"P/Fermi/color",name:"Fermi color",url:"https://alasky.cds.unistra.fr/Fermi/Color",maxOrder:3},{id:"P/Finkbeiner",name:"Halpha",url:"https://alasky.cds.unistra.fr/FinkbeinerHalpha",maxOrder:3,options:{minCut:-10,maxCut:800,colormap:"rdbu",imgFormat:"fits"}},{id:"P/GALEXGR6_7/NUV",name:"GALEXGR6_7 NUV",url:"http://alasky.cds.unistra.fr/GALEX/GALEXGR6_7_NUV/",maxOrder:8},{id:"P/IRIS/color",name:"IRIS colored",url:"https://alasky.cds.unistra.fr/IRISColor",maxOrder:3},{id:"P/Mellinger/color",name:"Mellinger colored",url:"https://alasky.cds.unistra.fr/MellingerRGB",maxOrder:4},{id:"P/SDSS9/color",name:"SDSS9 colored",url:"https://alasky.cds.unistra.fr/SDSS/DR9/color",maxOrder:10},{id:"P/SDSS9/g",name:"SDSS9 band-g",url:"https://alasky.cds.unistra.fr/SDSS/DR9/band-g",maxOrder:10,options:{stretch:"asinh",colormap:"redtemperature",imgFormat:"fits"}},{id:"P/SPITZER/color",name:"IRAC color I1,I2,I4 - (GLIMPSE, SAGE, SAGE-SMC, SINGS)",url:"https://alasky.cds.unistra.fr/SpitzerI1I2I4color",maxOrder:9},{id:"P/VTSS/Ha",name:"VTSS-Ha",url:"https://alasky.cds.unistra.fr/VTSS/Ha",maxOrder:3,options:{minCut:-10,maxCut:100,colormap:"grayscale",imgFormat:"fits"}},{id:"xcatdb/P/XMM/PN/color",name:"XMM PN colored",url:"https://alasky.cds.unistra.fr/cgi/JSONProxy?url=https://saada.unistra.fr/PNColor",maxOrder:7},{id:"P/allWISE/color",name:"AllWISE color",url:"https://alasky.cds.unistra.fr/AllWISE/RGB-W4-W2-W1/",maxOrder:8}],e.getAvailableSurveys=function(){return e.SURVEYS},e}();function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(s){l=!0,a=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ot(){Ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",r=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),r=new S(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var r=n.delegate;if(r){var l=g(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=c(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function f(){}function p(){}var h={};l(h,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(A([])));v&&v!==t&&n.call(v,a)&&(h=v);var _=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(a,o,r,l){var s=c(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==Rt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,r,l)}),(function(e){i("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return i("throw",e,r,l)}))}l(s.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,l(_,"constructor",p),l(p,"constructor",f),f.displayName=l(p,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,r,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,a,o){void 0===o&&(o=Promise);var r=new y(s(t,n,i,a),o);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},x(_),l(_,r,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Pt(e,t,n,i,a,o,r){try{var l=e[o](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}var Lt=function(){function e(t,a,o,l,s){this.aladin=t,this.options=t.options,this.aladinDiv=this.aladin.aladinDiv,this.popup=new n(this.aladinDiv,this),this.createCanvases();try{var c=new lt(jn.wasmLibs.webgl,this.aladinDiv.id);this.aladin.webglAPI=c.webclient,Dt.COLORMAPS=this.aladin.webglAPI.getAvailableColormapList()}catch(m){console.error(m),alert("Problem initializing Aladin Lite. Please contact the support by contacting Matthieu Baumann (baumannmatthieu0@gmail.com) or Thomas Boch (thomas.boch@astro.unistra.fr). You can also open an issue on the Aladin Lite github repository here: https://github.com/cds-astro/aladin-lite. Message error:"+m)}var u;this.location=a,this.fovDiv=o,this.mustClearCatalog=!0,this.mode=e.PAN,this.minFOV=this.maxFOV=null,this.healpixGrid=new i,this.then=Date.now(),u=0,this.projection=r,this.prev=0,this.zoomFactor=this.aladin.webglAPI.getClipZoomFactor(),this.viewCenter={lon:u,lat:0},this.cooFrame=l||k.GAL,this.changeFrame(this.cooFrame);this.fovLimit=void 0;var d=s||180;this.pinchZoomParameters={isPinching:!1,initialFov:void 0,initialDistance:void 0,initialAccDelta:Math.pow(5e5/d,1/40)},this.setZoom(d),this.imageSurveys=new Map,this.imageSurveysWaitingList=new Map,this.imageSurveysIdx=new Map,this.overlayLayers=[],this.catalogs=[];var f=document.createElement("canvas");f.width=f.height=24;var p=f.getContext("2d");p.lineWidth=6,p.beginPath(),p.strokeStyle="#eee",p.arc(12,12,8,0,2*Math.PI,!0),p.stroke(),p.lineWidth=3,p.beginPath(),p.strokeStyle="#c38",p.arc(12,12,8,0,2*Math.PI,!0),p.stroke(),this.catalogForPopup=A.catalog({shape:f,sourceSize:24}),this.catalogForPopup.hide(),this.catalogForPopup.setView(this),this.overlays=[],this.mocs=[],this.allOverlayLayers=[],this.firstHiPS=!0,this.curNorder=1,this.realNorder=1,this.dragging=!1,this.dragx=null,this.dragy=null,this.rightclickx=null,this.rightclicky=null,this.selectedSurveyLayer="base",this.needRedraw=!0,this.fingersRotationParameters={initialViewAngleFromCenter:void 0,initialFingerAngle:void 0,rotationInitiated:!1},this.fadingLatestUpdate=null,this.dateRequestRedraw=null,w(this),this.resizeTimer=null;var h=this;new ResizeObserver((function(){h.fixLayoutDimensions(),h.requestRedraw()})).observe(this.aladinDiv),h.fixLayoutDimensions(),h.requestRedraw()}e.PAN=0,e.SELECT=1,e.TOOL_SIMBAD_POINTER=2,e.DRAW_SOURCES_WHILE_DRAGGING=!0,e.DRAW_MOCS_WHILE_DRAGGING=!0,e.CALLBACKS_THROTTLE_TIME_MS=100,e.prototype.createCanvases=function(){var e=t()(this.aladinDiv);e.find(".aladin-imageCanvas").remove(),e.find(".aladin-catalogCanvas").remove(),this.imageCanvas=t()("<canvas class='aladin-imageCanvas'></canvas>").appendTo(this.aladinDiv)[0],this.catalogCanvas=t()("<canvas class='aladin-catalogCanvas'></canvas>").appendTo(this.aladinDiv)[0]},e.prototype.fixLayoutDimensions=function(){D.cssScale=void 0;var e=t()(this.aladinDiv).width(),n=t()(this.aladinDiv).height();this.width=Math.max(e,1),this.height=Math.max(n,1),this.cx=this.width/2,this.cy=this.height/2,this.largestDim=Math.max(this.width,this.height),this.smallestDim=Math.min(this.width,this.height),this.ratio=this.largestDim/this.smallestDim,this.mouseMoveIncrement=160/this.largestDim,this.imageCtx=this.imageCanvas.getContext("webgl2"),this.aladin.webglAPI.resize(this.width,this.height),this.catalogCtx=this.catalogCanvas.getContext("2d"),this.catalogCtx.canvas.width=this.width,this.catalogCtx.canvas.height=this.height,s(this.imageCtx,this.aladin.options.pixelateCanvas),this.logoDiv||(this.logoDiv=t()(this.aladinDiv).find(".aladin-logo")[0]),this.width>800?(t()(this.logoDiv).removeClass("aladin-logo-small"),t()(this.logoDiv).addClass("aladin-logo-large"),t()(this.logoDiv).css("width","90px")):(t()(this.logoDiv).addClass("aladin-logo-small"),t()(this.logoDiv).removeClass("aladin-logo-large"),t()(this.logoDiv).css("width","32px")),this.computeNorder(),this.redraw()};var s=function(e,t){var n=!t;e.imageSmoothingEnabled=n,e.webkitImageSmoothingEnabled=n,e.mozImageSmoothingEnabled=n,e.msImageSmoothingEnabled=n,e.oImageSmoothingEnabled=n};e.prototype.setMode=function(n){this.mode=n,this.mode==e.SELECT?this.setCursor("crosshair"):this.mode==e.TOOL_SIMBAD_POINTER?(this.popup.hide(),this.catalogCanvas.style.cursor="",t()(this.catalogCanvas).addClass("aladin-sp-cursor")):this.setCursor("default")},e.prototype.setCursor=function(t){this.catalogCanvas.style.cursor!=t&&this.mode!=e.TOOL_SIMBAD_POINTER&&(this.catalogCanvas.style.cursor=t)},e.prototype.getCanvasDataURL=function(){var e,t=(e=Ot().mark((function e(t,n,i){var a,o=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return new Promise((function(t,n){var i=new Image;i.src=e,i.onload=function(){return t(i)},i.onerror=function(){return n(new Error("could not load image"))}}))}("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI4AAABTCAMAAAB+g8/LAAACx1BMVEVMaXGBYYSWk5i7ur1fGUW0Fzbi4OP////Qz9K2s7f////qyseffX7TxczMytBXU1ndrahOWXi0o7RaH0v///+1GjfYkY29srb///+1GTe0Fzajn6RgFkFdHkni3+GLV3PU0dXMubr6+vpmIktUJVKiGDqGcX7p5ujLwMJgFkFgFkFNOWnp1tZaHUi0FzaEZohkX2VVKVXUwcvy8vI4U4tQMWBXIk+NGT9ZIEx+Wn5vF0EUYqF3c3lgFkL5+PkUYqH///////9lFkG0FzYUYqFeNF/BwMs2WpP6+vrBv8JSJ1TNy85TJlO0FzaJhYsUYqF5GEEUYqF2Zo60FzazFza0FzYUYqGWdIsrWpWTGj6jGDp3Kk58Y4S0FzZgFkFXIU2OiY+vmqVhGENlGEJqQ2z///9SKFJTJlP///9pF0GOjpd0Ol6rFzi9sbm0Fza0FzYUYqGXmLp3TXJmHkhLSXy/jJBVK1ivrLDu7e7l5OYLCw6AYYRpFkGCIUYVYqGAZoqJfofez9hZPGtcW4phFkIUYqGVbG1BToTFw8ZqZGr4+PmIGkAWYqD6+vpaHUoUYqGEZoh5ZH2ceYAbGyCmFzmgGjsUYqGAYIOuiJJ3SW1PZJlNM0OliJ+MQF5uF0Gcmp8kXZpSKFWEZojDwcXq1tQzVY9pN2CyFzbZlZFHbKOZgpWjnaRlMlsUYqGHGD9FRElaHUiZfpfW1dddW2HMtsJ3k8NTJlPDT1WlMElcGkY6UYjMa2tDSH3IpKOEZoiFTWqni54DAwQsLDGsqa3Pu8cUFBnEtr8gHyU4Nz3cwsMKDA/GV1tGRUtCKjDczM7NfXzMvcza1Nv///+9PUmhfZRxY2y2KT/15eLo4ud5fKXCXmTnu7ekZ3pgFkFTJlOEZoiUGT5aHkp8GEBzF0G0FzadGDtKQnNeJ1JqJk5fGEReGkaDGT8UYqGlSw8iAAAAwXRSTlMA87vu8R/SwN6iQP7+/vf9/J75s4DT/v0gokr33vzj++7+9/Hz8/3u1tFw9P4f5nP9cvl0/vb+/vL79HH9++WPMFA7s1r++vRhscXEiWT9PvLQ+Ffzih/9/vb+9z3Enn7N/cWI/RDWPND+9/38gTx6uPj5/fn+/efauu7k8fnl0+ro/f33wvj7meDU2PeaZquWH9jJ1O0QrPfC0vXo+uHj+J7ETZvkpfzI+6e44qCorUr22cpX3xDd9VdUvtb6V9z+sGF5dwAACP1JREFUeF7s011r01AcBvATON8gFCgkV+2AFrKSm5MGCEKlDIqCgEgpXYUaOkanQLrtpupgCxTY8A3EDWToYBNlgFeiIOIX+f/z0pe96IcwSZtRxY0ByXaT3204nIfnPCHXLJFIJBKJgoe8LLyp/+fbPXJ16mvW3k7XsjiOs3xGd+1FoVAn12Hh1g7HqcYqMsdxGAZ0K8B15avOUkGPQymFvm0Plb6InrKOuqEbqoHVd1vPSfxk+fvT/VZRpBQ0aoLPtRW7VptRKD0VGTKcmNva/0biJPmVjDZUtXN8egKBXIM3IeC64NEohHlGvV6WxOcTj4hHhmq015dHyASh0ciXSKjUhAka5in21AMSi0ev3v7UEfEEjM5Rtbd+mPssSeQfz8JEIgZoR7VIHB6ubFvj4WqQ4xvnTqIkgE+j6KPQiSHOe54vlx0Krj38BYJ08bp27UUAcZyHQibiOJIsV9DXV4a1mrKYk8jFSndn+qCJwXuJZmYt2mKy6HvyemlJ8Zd7iSO3Bx8ANKCITDONQpTVtNCzam2vfHVBOK+OvLek/FRpmy4ABWBIob0X5TsF1Th6FY/NHC9NN5BOzadvzg5m06ldmGiSiQYAOCYwBpmNHyQaX+QW+ljbPDjkH5CJheCnnx+MDZU7j+FMcyqOSDU0Ye5jNL1UshhwaNvwo4SK4mYqNQjZGvzl/lkck1GKsPz7xiUu+0Nq2b+2VYVx/NDZJTYmnV2TpuvMsiJNhbSUZmMwSpssENJl7XSmrrDNpkpn3dqO4eraoqXFMmddBWcVncImDpgOMKiiImJu3t+Wl9a54UiccOxA8keY+5xzc25ugiTx+9s5fHL55D7nPM9dk5FY6NpO1wVgJ8g0pVIpv793mWLP31JEeiMKiCa5yeu8CRIeP8STySzLIMv5VSrl+e1YLne0Ap3BMMcnNE/XdV5Ybyer+lcOZyGeIsyKn+AxSDR8qcVwq9X6Lj+sDuwlm8FMJsiJ4o2fSX9fyeeXuY2D6MrpvDz1KEtylmIG/uh2Y6ZDlOomGxBaxx86CzovybniRG12VEEMUaCXLGV03svSPPaMXsBG8jKCDssHc3aE1BgLOj9OCzoshoYKdExxYL3zpTpuODZbo6+f7hKw0A5e5sBDqQ63MGcfwkxnHZXqeL+pQEd7kbpLdY5kwebt0f1HeGwbwYy8zsGMC7Ain9UfmE5va32pDqfXVuCjCwB73Vys0wUy+0f3fV6EeWLqkRn0U13QR9MTEOql4HXI5nZE304Ilo2E6KmkWnYCh9eKdMhI2LpxwU2xaYp10lZsdWKsbj138klVD/X55Q+Mnc/mOyC0bKLjvf3c4sBJB7mX8ekKdCb0rFpMh7ThrcPCNJhRK9kVrG/txkKGkMvHQe48wOpdu1dop6Q6j6N8Glxs8R9pgNAyXDSLdIJZyE4B+zkWS4QE7Fw33oyRYKxGyEWLYVTXmz/5jn+kGY0FRQYT8kp0tJPNfDb6AI6bpDrURtt/U6PRzArYTX5IaXZo+NzDGI+g99NE5/ivu5ebIbKxv1rEBhXpmL6F0yYn1YrqpDpjFHsHsCaKJUR9JwI66Dp5cY2fHaL3SZ75p3qd1QV4yLSDlkEr0mE2XcYQYF9RbHyzSMeaR66SpnS6GcmFrvzIVq2OthMgn9YyTP6cSawj2LhPJGCnrYAlxTrOeoROXSKH52umc2FfVTqsCFE9QgagAw6RztNuavNG8i7s5DE9wSIiHesuNNONP/ZKdFS5RXm1Oqtwo8KDhbGun0DIRXUKNlNGKab8HXRo8x5xYkyP8m1LQWcAVauj1QEz/AVC5jOkDHbk7mAzi9hsklr1ibAk04GBOksb4by2y8bRn1elw2rFqWACwLwOda6/WqTjXpnCyR6GGQAL7FWfuspuFk7aomRK9L+40lKzzhwUIQBNfzAOvOpgRqxzaOVvjCMi7HJc6N91gs7DE+M+OrWW9mSequ3tsFo19svymWwjFdlT0OF3dRGFIpkog1kEnZag0hfmSO4YX9u6UrOOqYcrSWic6LB4H5TDHENwdooSMB6/AfepNh2olTTpEh1jOUyJS3QCCU/uygCqUQfmeGmGz0p0wvfLYjGpTih9/ti1F1CtOvCVU5qwR/KZd7etLDbbIcHaz+euIVS7jiPAlYsKziiLr688tsSwhU877tu+XDyK/ofOxIZMHH3KD4m0D6q2QVpINu4p8lHyiQCRUCh6lYb2tUkZRJdI+5v+fCs38BGCyGgQaofHqC7DtrD4tx07aGkbDAM4/hTmB5gFhqAILAFs0SHYpqaMwkwRhtBWtmp0FobFURqw1uJlaQdO6SVMB0zZmNCeelLmbd1p32CXIjj2BNNkZUnyIZa0tKlujAFtveR3ed/b++fhvbwv/JcvDVFDmaSQg7YzSrkhile6MjW3OQQt4Ekkxp/PhsPJmRgDvZQp3mdlXVE4Bdo8tP36pqI0z/MP8d1T6FIdVWeXxEDW9TICPRUXfFwFzRzliZ0T/UnV63XqyhqL5Y77EXR58D5dW/KryUXXIfTY6TzBss2cNTsHdVlOIVIcRSPi3vq1lmNXdrx2guF548NbgJ4PR02lsG7mjEDHKCJP0/wen5hITEK3Y5crvY1oxRRC0HMHMyparudA1T0x0SmxTbqzaTTtzhvCaRx6blLwYTtnCv5paHPkbNSKGcuVDCF4BH1QXg50cuzx/GlzZO3iG5nO1jBcNIxCEPpjoyFhE0WSCgd/88IzZ/26kT++tq6MEItAv2yI2u4YoqZpiKR+8x+9ulB+TIiSTHKsjL+aVybGHEH/lEXMhRElUULUFZ1f94DlzfT0gntjJ5kVTX5JRZ0lKyclI8NAX00TGiKqhN9cUmSF06Mpmq7L2wHRxq5UFOXzyetMKA79RgQQ0TycCEgqpnRdJ/NsXkaU8kvnH4fvnSe9Oe9qfnXZ2I/DAHwq5cY0QrT4Ec0d4feLor5y8X14a+vycnExFotlQgwMSkQo+cRWD2EuLTve3LIh7L86fAaDFr/rbRgzXsuOz+fzFnNFo3AQZODWMJmCYdsPReDWMXEm2NTd4nA4HA6H4zc5mbo+QO8AVQAAAABJRU5ErkJggg==").then((function(e){t=t||"image/png";var a=document.createElement("canvas");n=n||o.width,i=i||o.height,a.width=n,a.height=i;var r=a.getContext("2d"),l=o.aladin.webglAPI.canvas();r.drawImage(l,0,0,a.width,a.height),r.drawImage(o.catalogCanvas,0,0,a.width,a.height);var s=a.width-e.width,c=a.height-e.height;return r.drawImage(e,s,c),a.toDataURL(t)})),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){Pt(o,i,a,r,l,"next",e)}function l(e){Pt(o,i,a,r,l,"throw",e)}r(void 0)}))});return function(e,n,i){return t.apply(this,arguments)}}(),e.prototype.setActiveHiPSLayer=function(e){if(!this.imageSurveys.has(e))throw e+" does not exists. So cannot be selected";this.selectedSurveyLayer=e};var c=function(n){var i=!1;"ontouchstart"in window&&(i=!0);i||t()(n.catalogCanvas).dblclick((function(e){var t=n.imageCanvas.relMouseCoords(e);try{var i=n.aladin.webglAPI.screenToWorld(t.x,t.y),a=n.aladin.webglAPI.viewToICRSJ2000CooSys(i[0],i[1]);n.pointTo(a[0],a[1],{forceAnimation:!0})}catch(o){return}})),t()(n.catalogCanvas).bind("contextmenu",(function(e){e.preventDefault()}),!1);var a,o=null,r=null;t()(n.catalogCanvas).bind("mousedown touchstart",(function(t){t.preventDefault(),t.stopPropagation();var i=n.imageCanvas.relMouseCoords(t);if(3!==t.which&&2!==t.button){if("touchstart"===t.type&&t.originalEvent&&t.originalEvent.targetTouches&&2==t.originalEvent.targetTouches.length){n.dragging=!1,n.pinchZoomParameters.isPinching=!0;var a=n.aladin.webglAPI.getFieldOfView();return n.pinchZoomParameters.initialFov=a,n.pinchZoomParameters.initialDistance=Math.sqrt(Math.pow(t.originalEvent.targetTouches[0].clientX-t.originalEvent.targetTouches[1].clientX,2)+Math.pow(t.originalEvent.targetTouches[0].clientY-t.originalEvent.targetTouches[1].clientY,2)),n.fingersRotationParameters.initialViewAngleFromCenter=n.aladin.webglAPI.getRotationAroundCenter(),void(n.fingersRotationParameters.initialFingerAngle=180*Math.atan2(t.originalEvent.targetTouches[1].clientY-t.originalEvent.targetTouches[0].clientY,t.originalEvent.targetTouches[1].clientX-t.originalEvent.targetTouches[0].clientX)/Math.PI)}return n.dragx=i.x,n.dragy=i.y,n.dragging=!0,n.mode==e.PAN?n.setCursor("move"):n.mode==e.SELECT&&(n.selectStartCoo={x:n.dragx,y:n.dragy}),n.aladin.webglAPI.pressLeftMouseButton(n.dragx,n.dragy),!1}n.rightClick=!0,n.rightclickx=i.x,n.rightclicky=i.y;var l=n.imageSurveys.get(n.selectedSurveyLayer);l&&(l.fits?(o=l.properties.minCutout||l.options.minCut,r=l.properties.maxCutout||l.options.maxCut):(o=l.options.minCut,r=l.options.maxCut))})),t()(n.catalogCanvas).bind("mouseup",(function(e){if(n.rightClick)return n.rightClick=!1,n.rightclickx=null,void(n.rightclicky=null)})),t()(n.catalogCanvas).bind("click mouseout touchend",(function(t){if("touchend"===t.type&&n.pinchZoomParameters.isPinching)return n.pinchZoomParameters.isPinching=!1,void(n.pinchZoomParameters.initialFov=n.pinchZoomParameters.initialDistance=void 0);if("touchend"===t.type&&n.fingersRotationParameters.rotationInitiated)return n.fingersRotationParameters.initialViewAngleFromCenter=void 0,n.fingersRotationParameters.initialFingerAngle=void 0,void(n.fingersRotationParameters.rotationInitiated=!1);var i=!0===n.realDragging,a=n.mode===e.SELECT&&n.dragging;if(n.dragging&&(n.setCursor("default"),n.dragging=!1,i)){n.realDragging=!1;var o=n.aladin.callbacksByEventName.positionChanged;if("function"==typeof o)void 0!==(d=n.aladin.pix2world(n.width/2,n.height/2))&&o({ra:d[0],dec:d[1],dragging:!1})}if(a)return n.aladin.fire("selectend",n.getObjectsInBBox(n.selectStartCoo.x,n.selectStartCoo.y,n.dragx-n.selectStartCoo.x,n.dragy-n.selectStartCoo.y)),void n.requestRedraw();n.mustClearCatalog=!0,n.dragx=n.dragy=null;var r=n.imageCanvas.relMouseCoords(t);if("mouseout"!==t.type&&"touchend"!==t.type||(n.updateLocation(r.x,r.y,!0),"mouseout"!==t.type)){if(n.mode==e.TOOL_SIMBAD_POINTER){var l=n.aladin.pix2world(r.x,r.y);return l=n.aladin.webglAPI.viewToICRSJ2000CooSys(l[0],l[1]),n.setMode(e.PAN),n.setCursor("wait"),void(l?P.query(l[0],l[1],Math.min(1,15*n.fov/n.largestDim),n.aladin):console.log("Cannot unproject at the location you clicked on"))}var s=n.closestObjects(r.x,r.y,5);if(!i&&s){var c=s[0];c instanceof M||c instanceof N?c.dispatchClickEvent():c.marker?(n.popup.setTitle(c.popupTitle),n.popup.setText(c.popupDesc),n.popup.setSource(c),n.popup.show()):(n.lastClickedObject&&n.lastClickedObject.actionOtherObjectClicked&&n.lastClickedObject.actionOtherObjectClicked(),c.actionClicked()),n.lastClickedObject=c,"function"==typeof(u=n.aladin.callbacksByEventName.objectClicked)&&u(c)}else{var u;if(n.lastClickedObject&&!i)n.aladin.measurementTable.hide(),n.popup.hide(),n.lastClickedObject instanceof M||n.lastClickedObject.actionOtherObjectClicked(),n.lastClickedObject=null,"function"==typeof(u=n.aladin.callbacksByEventName.objectClicked)&&u(null)}var d,f=n.aladin.callbacksByEventName.click;if("function"==typeof f)void 0!==(d=n.aladin.pix2world(r.x,r.y))&&f({ra:d[0],dec:d[1],x:r.x,y:r.y,isDragging:i});n.refreshProgressiveCats(),n.aladin.webglAPI.releaseLeftButtonMouse()}else n.mode===e.TOOL_SIMBAD_POINTER&&n.setMode(e.PAN)}));var l=null;t()(n.catalogCanvas).bind("mousemove touchmove",(function(t){t.preventDefault();var s=n.imageCanvas.relMouseCoords(t);if(n.rightClick&&n.selectedSurveyLayer){var c=n.imageSurveys.get(n.selectedSurveyLayer),u={x:.5*n.catalogCanvas.clientWidth,y:.5*n.catalogCanvas.clientHeight},d=(s.x-u.x)/n.catalogCanvas.clientWidth,f=-(s.y-u.y)/n.catalogCanvas.clientHeight,p=(r-o)*d,h=p+(1-2*f)*o,m=p+(1+2*f)*r;h<=m&&c.setCuts([h,m])}else if("touchmove"===t.type&&n.pinchZoomParameters.isPinching&&t.originalEvent&&t.originalEvent.touches&&2==t.originalEvent.touches.length){var v=180*Math.atan2(t.originalEvent.targetTouches[1].clientY-t.originalEvent.targetTouches[0].clientY,t.originalEvent.targetTouches[1].clientX-t.originalEvent.targetTouches[0].clientX)/Math.PI,_=n.fingersRotationParameters.initialFingerAngle-v;if(!n.fingersRotationParameters.rotationInitiated&&Math.abs(_)>=7&&(n.fingersRotationParameters.rotationInitiated=!0,n.fingersRotationParameters.initialFingerAngle=v,_=0),n.fingersRotationParameters.rotationInitiated){var x=n.fingersRotationParameters.initialViewAngleFromCenter;n.aladin.webglAPI.getLongitudeReversed()?x-=_:x+=_,n.aladin.webglAPI.setRotationAroundCenter(x)}var y=Math.sqrt(Math.pow(t.originalEvent.touches[0].clientX-t.originalEvent.touches[1].clientX,2)+Math.pow(t.originalEvent.touches[0].clientY-t.originalEvent.touches[1].clientY,2)),g=Math.min(Math.max(n.pinchZoomParameters.initialFov*n.pinchZoomParameters.initialDistance/y,2777777e-11),n.fovLimit);n.setZoom(g)}else{if(!n.dragging||i){n.updateLocation(s.x,s.y,!1);var b=n.aladin.callbacksByEventName.mouseMove;if("function"==typeof b){var w=n.aladin.pix2world(s.x,s.y);void 0!==w?b({ra:w[0],dec:w[1],x:s.x,y:s.y}):null!=l&&b({ra:null,dec:null,x:s.x,y:s.y}),l=w}if(!n.dragging&&!n.mode==e.SELECT){var S=n.closestObjects(s.x,s.y,5);if(S){if(n.setCursor("pointer"),"function"==typeof(A=n.aladin.callbacksByEventName.objectHovered)&&S[0]!=a)A(S[0]);a=S[0]}else{var A;if(n.setCursor("default"),"function"==typeof(A=n.aladin.callbacksByEventName.objectHovered)&&a){a=null;A(null)}}}if(!i)return}var C,I;if(n.dragging)if(C={x:n.dragx,y:n.dragy},I={x:s.x,y:s.y},n.dragx=s.x,n.dragy=s.y,n.mode!=e.SELECT){n.realDragging=!0,n.aladin.webglAPI.goFromTo(C.x,C.y,I.x,I.y);var k=Et(n.aladin.webglAPI.getCenter(),2),T=k[0],D=k[1];n.viewCenter.lon=T,n.viewCenter.lat=D,n.viewCenter.lon<0&&(n.viewCenter.lon+=360)}else n.requestRedraw()}})),t()(n.aladinDiv).onselectstart=function(){return!1};var s,c,u=0,d=0;t()(n.catalogCanvas).on("wheel",(function(e){if(e.preventDefault(),e.stopPropagation(),!n.rightClick){var t=e.deltaY;e.hasOwnProperty("originalEvent")&&(t=-e.originalEvent.deltaY);var i=c||void 0!==c;i||(0===u&&(s=(new Date).getTime()),u++,(new Date).getTime()-s>100&&(c=u>10,i=!0));var a=function(e){t>0?n.increaseZoom(e):n.decreaseZoom(e)};if(i&&(c?(new Date).getTime()-d>20&&(a(.003),d=(new Date).getTime()):a(.007)),!n.debounceProgCatOnZoom){var o=n;n.debounceProgCatOnZoom=D.debounce((function(){o.refreshProgressiveCats(),o.drawAllOverlays()}),300)}return n.debounceProgCatOnZoom(),!1}}))},w=function(n){var i=new L;i.domElement.style.top="50px",t()("#aladin-statsDiv").length>0&&t()("#aladin-statsDiv")[0].appendChild(i.domElement),n.stats=i,c(n),n.executeCallbacksThrottled=D.throttle((function(){var e=n.aladin.pix2world(n.width/2,n.height/2),t=n.fov;if(void 0!==e&&void 0!==t){var i=e[0],a=e[1];if(i!==this.ra||a!==this.dec){var o=n.aladin.callbacksByEventName.positionChanged;"function"==typeof o&&o({ra:i,dec:a,dragging:!0}),this.ra=i,this.dec=a}if(t!==this.old_fov){var r=n.aladin.callbacksByEventName.zoomChanged;"function"==typeof r&&r(t),this.old_fov=t}}}),e.CALLBACKS_THROTTLE_TIME_MS),n.displayHpxGrid=!1,n.displaySurvey=!0,n.displayCatalog=!1,n.displayReticle=!0};return e.prototype.updateLocation=function(e,t,n){if(n)this.location.update(this.viewCenter.lon,this.viewCenter.lat,this.cooFrame,!0);else{var i=this.aladin.webglAPI.screenToWorld(e,t);i&&(i[0]<0&&(i=[i[0]+360,i[1]]),this.location.update(i[0],i[1],this.cooFrame,!1))}},e.prototype.requestRedrawAtDate=function(e){this.dateRequestDraw=e},e.prototype.getViewParams=function(){var e=this.width>this.height?this.fov/this.width:this.fov/this.height;return{fov:[this.width*e,this.height*e],width:this.width,height:this.height}},e.FPS_INTERVAL=10,e.prototype.redraw=function(){F(this.redraw.bind(this));var t=Date.now(),n=t-this.then;if(n>=e.FPS_INTERVAL){this.then=t-n%e.FPS_INTERVAL;try{this.aladin.webglAPI.update(n)}catch(i){console.warn(i)}(this.aladin.webglAPI.isRendering()||this.needRedraw)&&this.drawAllOverlays(),this.needRedraw=!1,this.dragging||this.updateObjectsLookup(),this.executeCallbacksThrottled()}},e.prototype.drawAllOverlays=function(){var t=this.catalogCtx,n=!1;if(this.mustClearCatalog&&(t.clearRect(0,0,this.width,this.height),n=!0,this.mustClearCatalog=!1),this.catalogs&&this.catalogs.length>0&&this.displayCatalog&&(!this.dragging||e.DRAW_SOURCES_WHILE_DRAGGING)){n||(t.clearRect(0,0,this.width,this.height),n=!0);for(var i=0;i<this.catalogs.length;i++){this.catalogs[i].draw(t,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor)}}this.catalogForPopup.isShowing&&this.catalogForPopup.sources.length>0&&(n||(t.clearRect(0,0,this.width,this.height),n=!0),this.catalogForPopup.draw(t,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor));var a=this.catalogCtx;if(this.overlays&&this.overlays.length>0&&(!this.dragging||e.DRAW_SOURCES_WHILE_DRAGGING)){n||(t.clearRect(0,0,this.width,this.height),n=!0);for(i=0;i<this.overlays.length;i++)this.overlays[i].draw(a,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor)}var o=t;if(this.displayHpxGrid){n||(t.clearRect(0,0,this.width,this.height),n=!0);var l=this.getVisibleCells(3),s=null;this.curNorder>=3&&(s=3==this.curNorder?l:this.getVisibleCells(this.curNorder)),s&&this.curNorder>3?this.healpixGrid.redraw(o,s,this.fov,this.curNorder):this.healpixGrid.redraw(o,l,this.fov,3)}var c=t;if(this.mode==e.SELECT){if(this.dragging){n||(c.clearRect(0,0,this.width,this.height),n=!0),c.fillStyle="rgba(100, 240, 110, 0.25)";var u=this.dragx-this.selectStartCoo.x,d=this.dragy-this.selectStartCoo.y;c.fillRect(this.selectStartCoo.x,this.selectStartCoo.y,u,d)}}else if(this.displayReticle){if(n||(t.clearRect(0,0,this.width,this.height),n=!0),!this.reticleCache){var f=document.createElement("canvas"),p=this.options.reticleSize;f.width=p,f.height=p;var h=f.getContext("2d");h.lineWidth=2,h.strokeStyle=this.options.reticleColor,h.beginPath(),h.moveTo(p/2,p/2+(p/2-1)),h.lineTo(p/2,p/2+2),h.moveTo(p/2,p/2-(p/2-1)),h.lineTo(p/2,p/2-2),h.moveTo(p/2+(p/2-1),p/2),h.lineTo(p/2+2,p/2),h.moveTo(p/2-(p/2-1),p/2),h.lineTo(p/2-2,p/2),h.stroke(),this.reticleCache=f}c.drawImage(this.reticleCache,this.width/2-this.reticleCache.width/2,this.height/2-this.reticleCache.height/2)}if(this.projection==r&&this.fov>=60&&!0===this.aladin.options.showAllskyRing){n||(c.clearRect(0,0,this.width,this.height),n=!0),c.strokeStyle=this.aladin.options.allskyRingColor;var m=this.aladin.options.allskyRingWidth;c.lineWidth=m,c.beginPath();var v=(this.cy-m/2+1)/this.zoomFactor;c.arc(this.cx,this.cy,v,0,2*Math.PI,!0),c.stroke()}},e.prototype.refreshProgressiveCats=function(){if(this.catalogs)for(var e=0;e<this.catalogs.length;e++)"progressivecat"==this.catalogs[e].type&&this.catalogs[e].loadNeededTiles()},e.prototype.getVisiblePixList=function(e){var t=[],n=this.aladin.webglAPI.screenToWorld(this.cx,this.cy),i=Et(this.aladin.webglAPI.viewToICRSJ2000CooSys(n[0],n[1]),2),a=i[0],o=i[1],r=.5*this.fov*this.ratio;return this.aladin.webglAPI.queryDisc(e,a,o,r).forEach((function(e){return t.push(Number(e))})),t},e.prototype.setAngleRotation=function(e){},e.prototype.getVisibleCells=function(e){return this.aladin.webglAPI.getVisibleCells(e)},e.prototype.setZoom=function(e){this.aladin.webglAPI.setFieldOfView(e),this.updateZoomState()},e.prototype.increaseZoom=function(e){var t=this.pinchZoomParameters.initialAccDelta+e,n=5e5/Math.pow(t,40);n<2777777e-11&&(n=2777777e-11),this.pinchZoomParameters.initialAccDelta=t,this.setZoom(n)},e.prototype.decreaseZoom=function(e){var t=this.pinchZoomParameters.initialAccDelta-e;t<=0&&(t=.001);var n=5e5/Math.pow(t,40);n>=this.fovLimit&&(n=this.fovLimit),this.pinchZoomParameters.initialAccDelta=t,this.setZoom(n)},e.prototype.setRotation=function(e){this.aladin.webglAPI.setRotationAroundCenter(e)},e.prototype.setGridConfig=function(e){this.aladin.webglAPI.setGridConfig(e),e&&(e.hasOwnProperty("enabled")&&(this.showCooGrid=!0,!0===e.enabled?dt.COO_GRID_ENABLED.dispatchedTo(this.aladinDiv):dt.COO_GRID_DISABLED.dispatchedTo(this.aladinDiv)),e.color&&dt.COO_GRID_UPDATED.dispatchedTo(this.aladinDiv,{color:e.color,opacity:e.opacity})),this.requestRedraw()},e.prototype.updateZoomState=function(){this.zoomFactor=this.aladin.webglAPI.getClipZoomFactor();var e,t=this.aladin.webglAPI.getFieldOfView();(this.pinchZoomParameters.initialAccDelta=Math.pow(5e5/t,1/40),this.fov=t,this.computeNorder(),isNaN(this.fov))?this.fovDiv.html("FoV:"):(this.projection.fov<=t&&(t=this.projection.fov),e=t>1?Math.round(100*t)/100+"Â°":60*t>1?Math.round(60*t*100)/100+"'":Math.round(3600*t*100)/100+'"',this.fovDiv.html("FoV: "+e))},e.prototype.computeNorder=function(){var e=this.aladin.webglAPI.getNOrder();this.realNorder=e,this.fov<=50&&e<=2&&(e=3),this.imageSurvey&&e<=2&&this.imageSurvey.minOrder>2&&(e=this.imageSurvey.minOrder),this.imageSurvey&&e>this.imageSurvey.maxOrder&&(e=this.imageSurvey.maxOrder),e>29&&(e=29),this.curNorder=e},e.prototype.untaintCanvases=function(){this.createCanvases(),c(this),this.fixLayoutDimensions()},e.prototype.setBaseImageLayer=function(e){this.setOverlayImageSurvey(e,"base")},e.prototype.setOverlayImageSurvey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"overlay",n=this.imageSurveysIdx.get(t)||0,i=n+1;this.imageSurveysIdx.set(t,i),e.orderIdx=i;var a=this.overlayLayers.findIndex((function(e){return e==t}));-1==a?"base"===t?this.overlayLayers.splice(0,0,t):this.overlayLayers.push(t):this.overlayLayers[a]=t,this.options.log&&e.properties&&st.log("setImageLayer",e.properties.url),e.added=!0,e.layer=t,e.existedBefore=!1;var o=this.imageSurveys.get(t);o&&o.ready&&o.added&&(e.existedBefore=!0),this.imageSurveys.set(t,e),e.ready&&this.commitSurveysToBackend(e,t)},e.prototype.buildSortedImageSurveys=function(){var e=this,t=[];return this.overlayLayers.forEach((function(n){t.push(e.imageSurveys.get(n))})),t},e.prototype.updateImageLayerStack=function(){var e=this.buildSortedImageSurveys().filter((function(e){return void 0!==e&&e.properties})).map((function(e){return{layer:e.layer,properties:e.properties,meta:e.meta,imgFormat:e.options.imgFormat}}));this.aladin.empty=!1,this.aladin.webglAPI.setImageSurveys(e),this.setZoom(this.aladin.webglAPI.getFieldOfView())},e.prototype.removeImageSurvey=function(e){this.imageSurveys.delete(e);var t=this.overlayLayers.findIndex((function(t){return t==e}));-1!=t&&(this.overlayLayers.splice(t,1),this.updateImageLayerStack(),this.selectedSurveyLayer===e&&(this.selectedSurveyLayer=null),dt.HIPS_LAYER_REMOVED.dispatchedTo(this.aladinDiv,{layer:e}))},e.prototype.commitSurveysToBackend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";try{this.updateImageLayerStack(),e.existedBefore?dt.HIPS_LAYER_CHANGED.dispatchedTo(this.aladinDiv,{survey:e}):(e.existedBefore=!0,dt.HIPS_LAYER_ADDED.dispatchedTo(this.aladinDiv,{survey:e}))}catch(i){this.imageSurveys.delete(t),e.added=!1;var n=this.overlayLayers.findIndex((function(e){return e==t}));throw n>=0&&this.overlayLayers.splice(n,1),"base"===t&&(this.aladin.empty=!0),"Error loading the HiPS "+e.id+":\n"+i}},e.prototype.setHiPSUrl=function(e,t){try{this.aladin.webglAPI.setHiPSUrl(e,t)}catch(n){console.error(n)}},e.prototype.getImageSurvey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base",t=this.imageSurveys.get(e);return t},e.prototype.getImageSurveyMeta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base";try{return this.aladin.webglAPI.getImageSurveyMeta(e)}catch(t){console.error(t)}},e.prototype.setImageSurveyMeta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base",t=arguments.length>1?arguments[1]:void 0;try{this.aladin.webglAPI.setImageSurveyMeta(e,t)}catch(n){console.error(n)}},e.prototype.requestRedraw=function(){this.needRedraw=!0},e.prototype.setProjection=function(e){switch(this.fovLimit=1e3,e){case"TAN":this.projection=a,this.fovLimit=180;break;case"STG":this.projection=o;break;case"SIN":this.projection=r;break;case"ZEA":case"ZEA":this.projection=l;break;case"FEYE":this.projection=u;break;case"AIR":this.projection=d;break;case"ARC":case"ARC":this.projection=f;break;case"NCP":this.projection=p;break;case"MOL":this.projection=y;break;case"AIT":this.projection=x;break;case"MER":this.projection=h,this.fovLimit=360;break;case"CAR":this.projection=m,this.fovLimit=360;break;case"CEA":this.projection=v,this.fovLimit=360;break;case"CYP":this.projection=_,this.fovLimit=360;break;case"COD":this.projection=g;break;case"HPX":this.projection=b,this.fovLimit=360}this.aladin.webglAPI.setProjection(e),this.updateZoomState(),this.requestRedraw()},e.prototype.changeFrame=function(e){this.cooFrame=e,this.cooFrame.system==k.SYSTEMS.GAL?this.aladin.webglAPI.setCooSystem(jn.wasmLibs.webgl.CooSystem.GAL):this.cooFrame.system==k.SYSTEMS.J2000&&this.aladin.webglAPI.setCooSystem(jn.wasmLibs.webgl.CooSystem.ICRSJ2000);var t=Et(this.aladin.webglAPI.getCenter(),2),n=t[0],i=t[1];this.viewCenter.lon=n,this.viewCenter.lat=i,this.viewCenter.lon<0&&(this.viewCenter.lon+=360),this.location.update(this.viewCenter.lon,this.viewCenter.lat,this.cooFrame,!0),this.requestRedraw()},e.prototype.showHealpixGrid=function(e){this.displayHpxGrid=e,this.displayHpxGrid||(this.mustClearCatalog=!0),this.requestRedraw()},e.prototype.showSurvey=function(e){this.displaySurvey=e,this.requestRedraw()},e.prototype.showCatalog=function(e){this.displayCatalog=e,this.displayCatalog||(this.mustClearCatalog=!0),this.requestRedraw()},e.prototype.showReticle=function(e){this.displayReticle=e,this.displayReticle||(this.mustClearCatalog=!0),this.requestRedraw()},e.prototype.pointTo=function(e,t,n){if(n=n||{},e=parseFloat(e),t=parseFloat(t),!isNaN(e)&&!isNaN(t)){this.viewCenter.lon=e,this.viewCenter.lat=t,this.viewCenter.lon<0&&(this.viewCenter.lon+=360),this.location.update(this.viewCenter.lon,this.viewCenter.lat,this.cooFrame,!0),this.aladin.webglAPI.setCenter(this.viewCenter.lon,this.viewCenter.lat),this.requestRedraw();var i=this;setTimeout((function(){i.refreshProgressiveCats()}),1e3)}},e.prototype.makeUniqLayerName=function(e){if(!this.layerNameExists(e))return e;for(var t=1;;++t){var n=e+"_"+t;if(!this.layerNameExists(n))return n}},e.prototype.layerNameExists=function(e){for(var t=this.allOverlayLayers,n=0;n<t.length;n++)if(e==t[n].name)return!0;return!1},e.prototype.removeLayers=function(){this.catalogs=[],this.overlays=[],this.mocs=[],this.allOverlayLayers=[],this.requestRedraw()},e.prototype.removeLayer=function(e){var t=this.allOverlayLayers.indexOf(e);if(this.allOverlayLayers.splice(t,1),"catalog"==e.type||"progressivecat"==e.type)t=this.catalogs.indexOf(e),this.catalogs.splice(t,1);else if("moc"==e.type){t=this.mocs.indexOf(e),this.mocs.splice(t,1)[0].delete()}else"overlay"==e.type&&(t=this.overlays.indexOf(e),this.overlays.splice(t,1));dt.GRAPHIC_OVERLAY_LAYER_REMOVED.dispatchedTo(this.aladinDiv,{layer:e}),this.requestRedraw()},e.prototype.addCatalog=function(e){e.name=this.makeUniqLayerName(e.name),this.allOverlayLayers.push(e),this.catalogs.push(e),"catalog"==e.type?e.setView(this):"progressivecat"==e.type&&e.init(this)},e.prototype.addOverlay=function(e){e.name=this.makeUniqLayerName(e.name),this.overlays.push(e),this.allOverlayLayers.push(e),e.setView(this)},e.prototype.addMOC=function(e){e.name=this.makeUniqLayerName(e.name),e.setView(this)},e.prototype.getObjectsInBBox=function(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i);var a,o,r,l=[];if(this.catalogs)for(var s=0;s<this.catalogs.length;s++)if((a=this.catalogs[s]).isShowing){o=a.getSources();for(var c=0;c<o.length;c++)(r=o[c]).isShowing&&r.x&&r.y&&r.x>=e&&r.x<=e+n&&r.y>=t&&r.y<=t+i&&l.push(r)}return l},e.prototype.updateObjectsLookup=function(){var e,t,n,i,a;if(this.objLookup=[],this.catalogs)for(var o=0;o<this.catalogs.length;o++)if((e=this.catalogs[o]).isShowing){t=e.getSources();for(var r=0;r<t.length;r++)(n=t[r]).isShowing&&n.x&&n.y&&(i=Math.round(n.x),a=Math.round(n.y),void 0===this.objLookup[i]&&(this.objLookup[i]=[]),void 0===this.objLookup[i][a]&&(this.objLookup[i][a]=[]),this.objLookup[i][a].push(n))}},e.prototype.closestObjects=function(e,t,n){var i,a,o,r=this.catalogCanvas.getContext("2d");if(r.lineWidth=6,this.overlays)for(var l=0;l<this.overlays.length;l++){i=this.overlays[l];for(var s=0;s<i.overlays.length;s++){for(var c=i.overlays[s],u=[],d=0;d<c.polygons.length;d++){var f=T.radecToViewXy(c.polygons[d][0],c.polygons[d][1],this);f&&u.push({x:f[0],y:f[1]})}for(var p=0;p<u.length-1;p++)if(r.beginPath(),r.moveTo(u[p].x,u[p].y),r.lineTo(u[p+1].x,u[p+1].y),r.isPointInStroke(e,t))return[a=c]}for(s=0;s<i.overlay_items.length;s++)if(i.overlay_items[s]instanceof N&&(i.overlay_items[s].draw(r,this,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor,!0),r.isPointInStroke(e,t)))return[a=i.overlay_items[s]]}if(!this.objLookup)return null;for(var h=0;h<=n;h++){a=o=null;for(var m=-n;m<=n;m++)if(this.objLookup[e+m])for(var v=-n;v<=n;v++)if(this.objLookup[e+m][t+v]){var _=m*m+v*v;a?_<o&&(o=_,a=this.objLookup[e+m][t+v]):(a=this.objLookup[e+m][t+v],o=_)}if(a)return a}return null},e}(),Mt=s(756),Nt=function(){var e=function(e){this.uuid=D.uuidv4(),this.type="moc",e=e||{},this.name=e.name||"MOC",this.color=e.color||Mt.I.getNextColor(),this.color=Mt.I.standardizeColor(this.color),this.opacity=e.opacity||1,this.opacity=Math.max(0,Math.min(1,this.opacity)),this.lineWidth=e.lineWidth||1,this.adaptativeDisplay=!1!==e.adaptativeDisplay,this.isShowing=!0,this.ready=!1,this.skyFrac=void 0};return e.prototype.skyFraction=function(){return this.skyFrac},e.prototype.dataFromJSON=function(e){this.dataJSON=e},e.prototype.dataFromFITSURL=function(e,t){this.dataURL=e,this.promiseFetchData=fetch(this.dataURL).then((function(e){return e.arrayBuffer()})),this.successCallback=t},e.prototype.setView=function(e){var t=this,n=this;this.view=e,this.mocParams=new jn.wasmLibs.webgl.MOC(this.uuid,this.opacity,this.lineWidth,this.isShowing,this.color,this.adaptativeDisplay),this.dataURL?this.promiseFetchData.then((function(e){n.view.aladin.webglAPI.addFITSMoc(n.mocParams,new Uint8Array(e)),n.ready=!0,n.successCallback&&n.successCallback(n),n.skyFrac=n.view.aladin.webglAPI.mocSkyFraction(t.mocParams),n.view.mocs.push(n),n.view.allOverlayLayers.push(n),dt.GRAPHIC_OVERLAY_LAYER_ADDED.dispatchedTo(n.view.aladinDiv,{layer:n}),n.view.requestRedraw()})):this.dataFromJSON&&(n.view.aladin.webglAPI.addJSONMoc(n.mocParams,n.dataJSON),n.ready=!0,n.skyFrac=n.view.aladin.webglAPI.mocSkyFraction(n.mocParams),n.view.mocs.push(n),n.view.allOverlayLayers.push(n),dt.GRAPHIC_OVERLAY_LAYER_ADDED.dispatchedTo(n.view.aladinDiv,{layer:n}),n.view.requestRedraw())},e.prototype.reportChange=function(){this.view&&(this.mocParams=new jn.wasmLibs.webgl.MOC(this.uuid,this.opacity,this.lineWidth,this.isShowing,this.color,this.adaptativeDisplay),this.view.aladin.webglAPI.setMocParams(this.mocParams),this.view.requestRedraw())},e.prototype.delete=function(){this.view&&(this.view.aladin.webglAPI.removeMoc(this.mocParams),this.view.requestRedraw())},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.reportChange())},e.prototype.contains=function(e,t){if(!this.ready)throw this.name+" is not yet ready, either because it has not been downloaded yet or because it has not been added to the aladin instance.";return this.view.aladin.webglAPI.mocContains(this.mocParams,e,t)},e}(),Ft=function(){var e=function(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i};return e.prototype.isInsideView=function(t,n){if(this.x1>=0&&this.x1<=t&&this.y1>=0&&this.y1<=n)return!0;if(this.x2>=0&&this.x2<=t&&this.y2>=0&&this.y2<=n)return!0;var i=e.intersectLine(this.x1,this.y1,this.x2,this.y2,0,0,0,n),a=e.intersectLine(this.x1,this.y1,this.x2,this.y2,t,0,t,n),o=e.intersectLine(this.x1,this.y1,this.x2,this.y2,0,0,t,0),r=e.intersectLine(this.x1,this.y1,this.x2,this.y2,0,n,t,n);return!!(i||a||o||r)},e.prototype.draw=function(e){e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2)},e.intersectLine=function(e,t,n,i,a,o,r,l){var s=((r-a)*(t-o)-(l-o)*(e-a))/((l-o)*(n-e)-(r-a)*(i-t)),c=((n-e)*(t-o)-(i-t)*(e-a))/((l-o)*(n-e)-(r-a)*(i-t));return s>=0&&s<=1&&c>=0&&c<=1},e}(),qt=function(){var e=function(e){e=e||{},this.uuid=D.uuidv4(),this.type="overlay",this.name=e.name||"overlay",this.color=e.color||Color.getNextColor(),this.lineWidth=e.lineWidth||2,this.overlays=[],this.overlay_items=[],this.isShowing=!0};return e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.reportChange())},e.parseSTCS=function(e){for(var t=[],n=e.match(/\S+/g),i=0,a=n.length;i<a;){var o=n[i].toLowerCase();if("polygon"==o){var r=[];if("icrs"==(c=n[++i].toLowerCase())||"j2000"==c||"fk5"==c){for(;i+2<a;){var l=parseFloat(n[i+1]);if(isNaN(l))break;var s=parseFloat(n[i+2]);r.push([l,s]),i+=2}r.push(r[0]),t.push(new M(r))}}else if("circle"==o){var c,u;if("icrs"==(c=n[++i].toLowerCase())||"j2000"==c||"fk5"==c)l=parseFloat(n[i+1]),s=parseFloat(n[i+2]),u=parseFloat(n[i+3]),t.push(A.circle(l,s,u)),i+=3}i++}return t},e.prototype.addFootprints=function(e){for(var t=0,n=e.length;t<n;t++)this.add(e[t],!1);this.view.requestRedraw()},e.prototype.add=function(e,t){t=void 0===t||t,e instanceof M?this.overlays.push(e):this.overlay_items.push(e),e.setOverlay(this),t&&this.view.requestRedraw()},e.prototype.getFootprint=function(e){return e<this.footprints.length?this.footprints[e]:null},e.prototype.setView=function(e){this.view=e},e.prototype.removeAll=function(){this.overlays=[],this.overlay_items=[]},e.prototype.draw=function(t,n,i,a,o,r){if(this.isShowing){t.strokeStyle=this.color,t.lineWidth=this.lineWidth,t.beginPath();for(var l=[],s=0,c=this.overlays.length;s<c;s++)l.push(this.drawFootprint(this.overlays[s],t,n,i,a,o,r));t.stroke(),t.strokeStyle=e.increaseBrightness(this.color,50),t.beginPath();for(s=0,c=this.overlays.length;s<c;s++)this.overlays[s].isSelected&&this.drawFootprintSelected(t,l[s]);t.stroke();for(s=0;s<this.overlay_items.length;s++)this.overlay_items[s].draw(t,this.view,n,i,a,o,r)}},e.increaseBrightness=function(e,t){3==(e=e.replace(/^\s*#|\s*$/g,"")).length&&(e=e.replace(/(.)/g,"$1$1"));var n=parseInt(e.substr(0,2),16),i=parseInt(e.substr(2,2),16),a=parseInt(e.substr(4,2),16);return"#"+(0|256+n+(256-n)*t/100).toString(16).substr(1)+(0|256+i+(256-i)*t/100).toString(16).substr(1)+(0|256+a+(256-a)*t/100).toString(16).substr(1)},e.prototype.drawFootprint=function(e,t,n,i,a,o,r){if(!e.isShowing)return null;for(var l=[],s=e.polygons,c=!0,u=0,d=s.length;u<d;u++){var f=T.radecToViewXy(s[u][0],s[u][1],this.view);if(!f)return null;if(l.push(f),l.length>=2)new Ft(l[u-1][0],l[u-1][1],l[u][0],l[u][1]).isInsideView(i,a)?(c&&(c=!1,t.moveTo(l[u-1][0],l[u-1][1])),t.lineTo(l[u][0],l[u][1])):(c=!1,t.moveTo(l[u][0],l[u][1]))}return l},e.prototype.drawFootprintSelected=function(e,t){if(t){var n=t;e.moveTo(n[0][0],n[0][1]);for(var i=0,a=n.length-1;i<a;i++){new Ft(n[i][0],n[i][1],n[i+1][0],n[i+1][1]).isInsideView(width,height)?e.lineTo(n[i+1][0],n[i+1][1]):e.moveTo(n[i+1][0],n[i+1][1])}}},e.prototype.reportChange=function(){this.view.requestRedraw()},e}(),jt=function(){var e=function(e,t,n,i,a){a=a||{},this.color=a.color||void 0,this.id="ellipse-"+D.uuidv4(),this.setCenter(e),this.setRadiuses(t,n),this.setRotation(i),this.overlay=null,this.isShowing=!0,this.isSelected=!1};return e.prototype.setOverlay=function(e){this.overlay=e},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},e.prototype.dispatchClickEvent=function(){this.overlay&&this.overlay.view.aladinDiv.dispatchEvent(new CustomEvent("footprintClicked",{detail:{footprintId:this.id,overlayName:this.overlay.name}}))},e.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},e.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},e.prototype.setCenter=function(e){this.centerRaDec=e,this.overlay&&this.overlay.reportChange()},e.prototype.setRotation=function(e){var t=e*Math.PI/180;this.rotation=t,this.overlay&&this.overlay.reportChange()},e.prototype.setRadiuses=function(e,t){this.radiusXDegrees=e,this.radiusYDegrees=t,this.overlay&&this.overlay.reportChange()},e.prototype.draw=function(e,t,n,i,a,o,r,l){if(this.isShowing){l=!0===l||!1;var s=T.radecToViewXy(this.centerRaDec[0],this.centerRaDec[1],t);if(s){var c=T.radecToViewXy(this.centerRaDec[0]+this.radiusXDegrees,this.centerRaDec[1],t),u=T.radecToViewXy(this.centerRaDec[0],this.centerRaDec[1]+this.radiusYDegrees,t);if(c&&u){var d=c[0]-s[0],f=c[1]-s[1],p=Math.sqrt(d*d+f*f),h=u[0]-s[0],m=u[1]-s[1],v=Math.sqrt(h*h+m*m);if(!(d*m-h*f<=0)){var _=this.color;!_&&this.overlay&&(_=this.overlay.color),_||(_="#ff0000"),this.isSelected?e.strokeStyle=Overlay.increaseBrightness(_,50):e.strokeStyle=_;var x=this.centerRaDec,y=[this.centerRaDec[0],this.centerRaDec[1]+.001],g=this.overlay.view.aladin.webglAPI.worldToScreen(x[0],x[1]),b=this.overlay.view.aladin.webglAPI.worldToScreen(y[0],y[1]),w=[b[0]-g[0],b[1]-g[1]],S=Math.sqrt(w[0]*w[0]+w[1]*w[1]);w=[w[0]/S,w[1]/S];var A=[1,0],C=A[0],I=A[1],k=w[0],D=w[1],R=Math.atan2(C*D-I*k,C*k+I*D),E=-this.rotation+R;e.beginPath(),e.ellipse(s[0],s[1],p,v,E,0,2*Math.PI,!1),l||e.stroke()}}}}},e}(),Ht=function(){var e=function(e,t){t=t||{},this.color=t.color||void 0,this.radecArray=e,this.overlay=null,this.isShowing=!0,this.isSelected=!1};return e.prototype.setOverlay=function(e){this.overlay=e},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},e.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},e.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},e.prototype.draw=function(e,t,n,i,a,o,r){if(this.isShowing&&this.radecArray&&!(this.radecArray.length<2)){this.color&&(e.strokeStyle=this.color);for(var l=[],s=0,c=this.radecArray.length;s<c;s++){var u=T.radecToViewXy(this.radecArray[s][0],this.radecArray[s][1],t);if(!u)return;l.push(u)}e.lineWidth=this.lineWidth,e.beginPath(),e.moveTo(l[0][0],l[0][1]);for(s=0,c=l.length-1;s<c;s++){new Ft(l[s][0],l[s][1],l[s+1][0],l[s+1][1]).isInsideView(i,a)?e.lineTo(l[s+1][0],l[s+1][1]):e.moveTo(l[s+1][0],l[s+1][1])}e.stroke()}},e}(),Ut=function(){var e=function(e,t,n,i){this.ra=e,this.dec=t,this.data=n,this.catalog=null,this.marker=i&&i.marker||!1,this.marker&&(this.popupTitle=i&&i.popupTitle?i.popupTitle:"",this.popupDesc=i&&i.popupDesc?i.popupDesc:"",this.useMarkerDefaultIcon=!i||void 0===i.useMarkerDefaultIcon||i.useMarkerDefaultIcon),this.isShowing=!0,this.isSelected=!1};return e.prototype.setCatalog=function(e){this.catalog=e},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.catalog&&this.catalog.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.catalog&&this.catalog.reportChange())},e.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.catalog&&this.catalog.reportChange())},e.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.catalog&&this.catalog.reportChange())},e.prototype.actionClicked=function(){if(this.catalog&&this.catalog.onClick){var e=this.catalog.view;if("showTable"==this.catalog.onClick)e.aladin.measurementTable.showMeasurement(this),this.select();else if("showPopup"==this.catalog.onClick){e.popup.setTitle("<br><br>");var t='<div class="aladin-marker-measurement">';for(var n in t+="<table>",this.data)t+="<tr><td>"+n+"</td><td>"+this.data[n]+"</td></tr>";t+="</table>",t+="</div>",e.popup.setText(t),e.popup.setSource(this),e.popup.show()}else"function"==typeof this.catalog.onClick&&(this.catalog.onClick(this),e.lastClickedObject=this)}},e.prototype.actionOtherObjectClicked=function(){this.catalog&&this.catalog.onClick&&this.deselect()},e}(),Vt=function(){function e(e){e=e||{},this.uuid=D.uuidv4(),this.type="catalog",this.name=e.name||"catalog",this.color=e.color||Mt.I.getNextColor(),this.sourceSize=e.sourceSize||8,this.markerSize=e.sourceSize||12,this.shape=e.shape||"square",this.maxNbSources=e.limit||void 0,this.onClick=e.onClick||void 0,this.raField=e.raField||void 0,this.decField=e.decField||void 0,this.indexationNorder=5,this.sources=[],this.displayLabel=e.displayLabel||!1,this.labelColor=e.labelColor||this.color,this.labelFont=e.labelFont||"10px sans-serif",this.displayLabel&&(this.labelColumn=e.labelColumn,this.labelColumn||(this.displayLabel=!1)),(this.shape instanceof Image||this.shape instanceof HTMLCanvasElement)&&(this.sourceSize=this.shape.width),this._shapeIsFunction=!1,t().isFunction(this.shape)&&(this._shapeIsFunction=!0),this.selectionColor="#00ff00",this.updateShape(e),this.cacheMarkerCanvas=document.createElement("canvas"),this.cacheMarkerCanvas.width=this.markerSize,this.cacheMarkerCanvas.height=this.markerSize;var n=this.cacheMarkerCanvas.getContext("2d");n.fillStyle=this.color,n.beginPath();var i=this.markerSize/2;n.arc(i,i,i-2,0,2*Math.PI,!1),n.fill(),n.lineWidth=2,n.strokeStyle="#ccc",n.stroke(),this.isShowing=!0}function n(e,n,i){var a,o;if(a=o=null,n)for(var r=0,l=e.length;r<l;r++){var s=e[r];if(D.isInt(n)&&n<e.length){a=n;break}if(s.ID&&s.ID===n||s.name&&s.name===n){a=r;break}}if(i)for(r=0,l=e.length;r<l;r++){s=e[r];if(D.isInt(i)&&i<e.length){o=i;break}if(s.ID&&s.ID===i||s.name&&s.name===i){o=r;break}}for(r=0,l=e.length;r<l&&(null==a||null==o);r++){var c;s=e[r];a||!s.ucd||0!=(c=t().trim(s.ucd.toLowerCase())).indexOf("pos.eq.ra")&&0!=c.indexOf("pos_eq_ra")?o||!s.ucd||0!=(c=t().trim(s.ucd.toLowerCase())).indexOf("pos.eq.dec")&&0!=c.indexOf("pos_eq_dec")||(o=r):a=r}if(null==a&&null==o)for(r=0,l=e.length;r<l;r++){var u=(s=e[r]).name||s.ID||"";u=u.toLowerCase(),a||0!=u.indexOf("ra")&&0!=u.indexOf("_ra")&&0!=u.indexOf("ra(icrs)")&&0!=u.indexOf("_ra")&&0!=u.indexOf("alpha")?o||0!=u.indexOf("dej2000")&&0!=u.indexOf("_dej2000")&&0!=u.indexOf("de")&&0!=u.indexOf("de(icrs)")&&0!=u.indexOf("_de")&&0!=u.indexOf("delta")||(o=r):a=r}return null!=a&&null!=o||(a=0,o=1),[a,o]}return e.createShape=function(e,t,n){if(e instanceof Image||e instanceof HTMLCanvasElement)return e;var i=document.createElement("canvas");i.width=i.height=n;var a=i.getContext("2d");return a.beginPath(),a.strokeStyle=t,a.lineWidth=2,"plus"==e?(a.moveTo(n/2,0),a.lineTo(n/2,n),a.stroke(),a.moveTo(0,n/2),a.lineTo(n,n/2),a.stroke()):"cross"==e?(a.moveTo(0,0),a.lineTo(n-1,n-1),a.stroke(),a.moveTo(n-1,0),a.lineTo(0,n-1),a.stroke()):"rhomb"==e?(a.moveTo(n/2,0),a.lineTo(0,n/2),a.lineTo(n/2,n),a.lineTo(n,n/2),a.lineTo(n/2,0),a.stroke()):"triangle"==e?(a.moveTo(n/2,0),a.lineTo(0,n-1),a.lineTo(n-1,n-1),a.lineTo(n/2,0),a.stroke()):"circle"==e?(a.arc(n/2,n/2,n/2-1,0,2*Math.PI,!0),a.stroke()):(a.moveTo(1,0),a.lineTo(1,n-1),a.lineTo(n-1,n-1),a.lineTo(n-1,1),a.lineTo(1,1),a.stroke()),i},e.parseVOTable=function(e,i,a,o,r,l){D.getAjaxObject(e,"GET","text",o).done((function(e){!function(e,i){e=e.replace(/^\s+/g,"");var o=["name","ID","ucd","utype","unit","datatype","arraysize","width","precision"],s=[],c=0,u=t()(t().parseXML(e)),d=function(e){var t;if(e.find("RESOURCE").length>0)t="";else{if(0==(t=e.find("*").first()).length)return"";var n=(t=t.prop("tagName")).indexOf(":");t=t.substring(0,n)+"\\:"}return t}(u);u.find(d+"FIELD").each((function(){for(var e={},n=0;n<o.length;n++){var i=o[n];t()(this).attr(i)&&(e[i]=t()(this).attr(i))}e.ID||(e.ID="col_"+c),s.push(e),c++}));var f,p,h=n(s,r,l);f=h[0],p=h[1];var m,v,_=[],x=new R;u.find(d+"TR").each((function(){var e={},n=0;t()(this).find(d+"TD").each((function(){var i=s[n].name?s[n].name:s[n].id;e[i]=t()(this).text(),n++}));var i=s[f].name?s[f].name:s[f].id,o=s[p].name?s[p].name:s[p].id;if(D.isNumber(e[i])&&D.isNumber(e[o])?(m=parseFloat(e[i]),v=parseFloat(e[o])):(x.parse(e[i]+" "+e[o]),m=x.lon,v=x.lat),_.push(new Ut(m,v,e)),a&&_.length==a)return!1})),i&&i(_)}(e,i)}))},e.prototype.updateShape=function(t){t=t||{},this.color=t.color||this.color||Mt.I.getNextColor(),this.sourceSize=t.sourceSize||this.sourceSize||6,this.shape=t.shape||this.shape||"square",this.selectSize=this.sourceSize+2,this.cacheCanvas=e.createShape(this.shape,this.color,this.sourceSize),this.cacheSelectCanvas=e.createShape("square",this.selectionColor,this.selectSize),this.reportChange()},e.prototype.addSources=function(e){e=[].concat(e),this.sources=this.sources.concat(e);for(var t=0,n=e.length;t<n;t++)e[t].setCatalog(this);this.reportChange()},e.prototype.addSourcesAsArray=function(e,t){for(var i=[],a=0;a<e.length;a++)i.push({name:e[a]});var o,r,l=n(i,this.raField,this.decField);o=l[0],r=l[1];for(var s,c,u,d,f=[],p=new R,h=0;h<t.length;h++){u=t[h],D.isNumber(u[o])&&D.isNumber(u[r])?(s=parseFloat(u[o]),c=parseFloat(u[r])):(p.parse(u[o]+" "+u[r]),s=p.lon,c=p.lat),d={};for(a=0;a<e.length;a++)d[e[a]]=u[a];f.push(A.source(s,c,d))}this.addSources(f)},e.prototype.getSources=function(){return this.sources},e.prototype.selectAll=function(){if(this.sources)for(var e=0;e<this.sources.length;e++)this.sources[e].select()},e.prototype.deselectAll=function(){if(this.sources)for(var e=0;e<this.sources.length;e++)this.sources[e].deselect()},e.prototype.getSource=function(e){return e<this.sources.length?this.sources[e]:null},e.prototype.setView=function(e){this.view=e,this.reportChange()},e.prototype.remove=function(e){var t=this.sources.indexOf(e);t<0||(this.sources[t].deselect(),this.sources.splice(t,1),this.reportChange())},e.prototype.removeAll=e.prototype.clear=function(){this.sources=[]},e.prototype.draw=function(t,n,i,a,o,r){if(this.isShowing){this._shapeIsFunction&&t.save();var l,s=e.drawSources(this,this.sources,t,i,a);this._shapeIsFunction&&t.restore(),t.strokeStyle=this.selectionColor;for(var c=0,u=s.length;c<u;c++)(l=s[c]).isSelected&&e.drawSourceSelection(this,l,t);if(this.displayLabel){t.fillStyle=this.labelColor,t.font=this.labelFont;for(c=0,u=s.length;c<u;c++)e.drawSourceLabel(this,s[c],t)}}},e.drawSources=function(e,t,n,i,a){for(var o,r=e.sourceSize,l=[],s=0;s<t.length;s++){o=t[s];var c=T.radecToViewXy(o.ra,o.dec,e.view);if(c){var u={vx:c[0],vy:c[1]},d=o.popup?100:o.sourceSize;u&&(u.vx>i+d||u.vx<0-d||u.vy>a+d||u.vy<0-d?o.x=o.y=void 0:(o.x=u.vx,o.y=u.vy,e._shapeIsFunction?e.shape(o,n,e.view.getViewParams()):o.marker&&o.useMarkerDefaultIcon?n.drawImage(e.cacheMarkerCanvas,o.x-r/2,o.y-r/2):n.drawImage(e.cacheCanvas,o.x-e.cacheCanvas.width/2,o.y-e.cacheCanvas.height/2),o.popup&&o.popup.setPosition(o.x,o.y))),l.push(o)}}return l},e.drawSource=function(e,t,n,i,a){if(!t.isShowing)return!1;var o=e.sourceSize,r=T.radecToViewXy(t.ra,t.dec,e.view);if(r){var l={vx:r[0],vy:r[1]},s=t.popup?100:t.sourceSize;if(l){if(l.vx>i+s||l.vx<0-s||l.vy>a+s||l.vy<0-s)return t.x=t.y=void 0,!1;t.x=l.vx,t.y=l.vy,e._shapeIsFunction?e.shape(t,n,e.view.getViewParams()):t.marker&&t.useMarkerDefaultIcon?n.drawImage(e.cacheMarkerCanvas,t.x-o/2,t.y-o/2):n.drawImage(e.cacheCanvas,t.x-e.cacheCanvas.width/2,t.y-e.cacheCanvas.height/2),t.popup&&t.popup.setPosition(t.x,t.y)}return!0}return!1},e.drawSourceSelection=function(e,t,n){if(t&&t.isShowing&&t.x&&t.y){var i=e.selectSize;n.drawImage(e.cacheSelectCanvas,t.x-i/2,t.y-i/2)}},e.drawSourceLabel=function(e,t,n){if(t&&t.isShowing&&t.x&&t.y){var i=t.data[e.labelColumn];i&&n.fillText(i,t.x,t.y)}},e.prototype.reportChange=function(){this.view&&this.view.requestRedraw()},e.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.reportChange())},e.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.view&&this.view.popup&&this.view.popup.source&&this.view.popup.source.catalog==this&&this.view.popup.hide(),this.reportChange())},e}();var Gt=function(){var e=function(e,t,n,i){i=i||{},this.uuid=D.uuidv4(),this.type="progressivecat",this.rootUrl=e,D.isHttpsContext()&&(/u-strasbg.fr/i.test(this.rootUrl)||/unistra.fr/i.test(this.rootUrl))&&(this.rootUrl=this.rootUrl.replace("http://","https://")),this.frameStr=t,this.frame=k.fromString(t)||k.J2000,this.maxOrder=n,this.isShowing=!0,this.name=i.name||"progressive-cat",this.color=i.color||Mt.I.getNextColor(),this.shape=i.shape||"square",this.sourceSize=i.sourceSize||6,this.selectSize=this.sourceSize+2,this.selectionColor="#00ff00",this.filterFn=i.filter||void 0,this.onClick=i.onClick||void 0,this.sourcesCache=new D.LRUCache(256),this.updateShape(i),this.maxOrderAllsky=2,this.isReady=!1};function n(e,n){var i=["name","ID","ucd","utype","unit","datatype","arraysize","width","precision"],a=[],o=0;return e.keyRa=e.keyDec=null,t()(n).find("FIELD").each((function(){for(var n={},r=0;r<i.length;r++){var l=i[r];t()(this).attr(l)&&(n[l]=t()(this).attr(l))}n.ID||(n.ID="col_"+o),e.keyRa||!n.ucd||0!=n.ucd.indexOf("pos.eq.ra")&&0!=n.ucd.indexOf("POS_EQ_RA")||(n.name?e.keyRa=n.name:e.keyRa=n.ID),e.keyDec||!n.ucd||0!=n.ucd.indexOf("pos.eq.dec")&&0!=n.ucd.indexOf("POS_EQ_DEC")||(n.name?e.keyDec=n.name:e.keyDec=n.ID),a.push(n),o++})),a}function i(e,t,n){if(!e.keyRa||!e.keyDec)return[];for(var i=t.split("\n"),a=[],o=0;o<n.length;o++)n[o].name?a.push(n[o].name):a.push(n[o].ID);for(var r,l=[],s=new R,c=2;c<i.length;c++){var u={},d=i[c].split("\t");if(!(d.length<a.length)){for(var f=0;f<a.length;f++)u[a[f]]=d[f];var p,h;D.isNumber(u[e.keyRa])&&D.isNumber(u[e.keyDec])?(p=parseFloat(u[e.keyRa]),h=parseFloat(u[e.keyDec])):(s.parse(u[e.keyRa]+" "+u[e.keyDec]),p=s.lon,h=s.lat),r=new Ut(p,h,u),l.push(r),r.setCatalog(e)}}return l}return e.readProperties=function(e,n,i){if(n){var a=e+"/properties";t().ajax({url:a,method:"GET",dataType:"text",success:function(e){for(var i={},a=e.split("\n"),o=0;o<a.length;o++){var r=a[o],l=r.indexOf("="),s=t().trim(r.substring(0,l)),c=t().trim(r.substring(l+1));i[s]=c}n(i)},error:function(e){i&&i(e)}})}},e.prototype=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({init:function(t){var n=this;this.view=t,this.maxOrder&&this.frameStr?this._loadMetadata():e.readProperties(n.rootUrl,(function(e){n.properties=e,n.maxOrder=n.properties.hips_order,n.frame=k.fromString(n.properties.hips_frame),n._loadMetadata()}),(function(e){console.log("Could not find properties for HiPS "+n.rootUrl)}))},updateShape:Vt.prototype.updateShape,_loadMetadata:function(){var e=this;t().ajax({url:e.rootUrl+"/Metadata.xml",method:"GET",success:function(t){e.fields=n(e,t),e._loadAllskyNewMethod()},error:function(t){e._loadAllskyOldMethod()}})},_loadAllskyNewMethod:function(){var e=this;t().ajax({url:e.rootUrl+"/Norder1/Allsky.tsv",method:"GET",success:function(t){e.order1Sources=i(e,t,e.fields),e.order2Sources&&(e.isReady=!0,e._finishInitWhenReady())},error:function(e){console.log("Something went wrong: "+e)}}),t().ajax({url:e.rootUrl+"/Norder2/Allsky.tsv",method:"GET",success:function(t){e.order2Sources=i(e,t,e.fields),e.order1Sources&&(e.isReady=!0,e._finishInitWhenReady())},error:function(e){console.log("Something went wrong: "+e)}})},_loadAllskyOldMethod:function(){this.maxOrderAllsky=3,this._loadLevel2Sources(),this._loadLevel3Sources()},_loadLevel2Sources:function(){var e=this;t().ajax({url:e.rootUrl+"/Norder2/Allsky.xml",method:"GET",success:function(a){e.fields=n(e,a),e.order2Sources=i(e,t()(a).find("CSV").text(),e.fields),e.order3Sources&&(e.isReady=!0,e._finishInitWhenReady())},error:function(e){console.log("Something went wrong: "+e)}})},_loadLevel3Sources:function(){var e=this;t().ajax({url:e.rootUrl+"/Norder3/Allsky.xml",method:"GET",success:function(n){e.order3Sources=i(e,t()(n).find("CSV").text(),e.fields),e.order2Sources&&(e.isReady=!0,e._finishInitWhenReady())},error:function(e){console.log("Something went wrong: "+e)}})},_finishInitWhenReady:function(){this.view.requestRedraw(),this.loadNeededTiles()},draw:function(e,t,n,i,a,o){if(this.isShowing&&this.isReady&&(this.drawSources(this.order1Sources,e,n,i),this.drawSources(this.order2Sources,e,n,i),this.drawSources(this.order3Sources,e,n,i),this.tilesInView))for(var r,l,s,c=0;c<this.tilesInView.length;c++)l=(s=this.tilesInView[c])[0]+"-"+s[1],(r=this.sourcesCache.get(l))&&this.drawSources(r,e,n,i)},drawSources:function(e,t,n,i){if(e){for(var a,o=0,r=e.length;o<r;o++)a=e[o],this.filterFn&&!this.filterFn(a)||Vt.drawSource(this,a,t,n,i);for(o=0,r=e.length;o<r;o++)(a=e[o]).isSelected&&(this.filterFn&&!this.filterFn(a)||Vt.drawSourceSelection(this,a,t))}},getSources:function(){var e=[];if(this.order1Sources&&(e=e.concat(this.order1Sources)),this.order2Sources&&(e=e.concat(this.order2Sources)),this.order3Sources&&(e=e.concat(this.order3Sources)),this.tilesInView)for(var t,n,i,a=0;a<this.tilesInView.length;a++)n=(i=this.tilesInView[a])[0]+"-"+i[1],(t=this.sourcesCache.get(n))&&(e=e.concat(t));return e},deselectAll:function(){if(this.order1Sources)for(var e=0;e<this.order1Sources.length;e++)this.order1Sources[e].deselect();if(this.order2Sources)for(e=0;e<this.order2Sources.length;e++)this.order2Sources[e].deselect();if(this.order3Sources)for(e=0;e<this.order3Sources.length;e++)this.order3Sources[e].deselect();var t=this.sourcesCache.keys();for(key in t)if(this.sourcesCache[key]){var n=this.sourcesCache[key];for(e=0;e<n.length;e++)n[e].deselect()}},show:function(){this.isShowing||(this.isShowing=!0,this.loadNeededTiles(),this.reportChange())},hide:function(){this.isShowing&&(this.isShowing=!1,this.reportChange())},reportChange:function(){this.view.requestRedraw()},getTileURL:function(e,t){var n=1e4*Math.floor(t/1e4);return this.rootUrl+"/Norder"+e+"/Dir"+n+"/Npix"+t+".tsv"},loadNeededTiles:function(){if(this.isShowing){this.tilesInView=[];var e=this.view.realNorder;if(e>this.maxOrder&&(e=this.maxOrder),!(e<=this.maxOrderAllsky)){for(var n,a,o,r,l=this.view.getVisibleCells(e),s=3;s<=e;s++){n=[];for(var c=0;c<l.length;c++)a=Math.floor(l[c].ipix/Math.pow(4,e-s)),n.indexOf(a)<0&&n.push(a);for(var u=0;u<n.length;u++)this.tilesInView.push([s,n[u]])}for(c=0;c<this.tilesInView.length;c++)r=(o=this.tilesInView[c])[0]+"-"+o[1],this.sourcesCache.get(r)||function(e,n,a){var o=n+"-"+a;t().ajax({url:e.getTileURL(n,a),method:"GET",success:function(t){e.sourcesCache.set(o,i(e,t,e.fields)),e.view.requestRedraw()},error:function(){e.sourcesCache.set(o,[])}})}(this,o[0],o[1])}}}},"reportChange",(function(){this.view&&this.view.requestRedraw()})),e}(),Bt=function(){var e={cache:{},SESAME_URL:"http://cds.u-strasbg.fr/cgi-bin/nph-sesame.jsonp",getTargetRADec:function(t,n,i){if(n)if(/[a-zA-Z]/.test(t))e.resolve(t,(function(e){n({ra:e.Target.Resolver.jradeg,dec:e.Target.Resolver.jdedeg})}),(function(e){i&&i()}));else{var a=new Coo;a.parse(t),n&&n({ra:a.lon,dec:a.lat})}},resolve:function(n,i,a){var o=e.SESAME_URL;D.isHttpsContext()&&(o=o.replace("http://","https://")),t().ajax({url:o,data:{object:n},method:"GET",dataType:"jsonp",success:function(e){e.Target&&e.Target.Resolver&&e.Target.Resolver?i(e):a(e)},error:a})}};return e}(),Jt=function(){function e(e){this.isShowing=!1,this.divEl=t()('<div class="aladin-measurement-div"></div>'),t()(e).append(this.divEl)}return e.prototype.showMeasurement=function(e){this.divEl.empty();var t="<thead><tr>",n="<tr>";for(var i in e.data)t+="<th>"+i+"</th>",n+="<td>"+e.data[i]+"</td>";t+="</tr></thead>",n+="</tr>",this.divEl.append("<table>"+t+n+"</table>"),this.show()},e.prototype.show=function(){this.divEl.show()},e.prototype.hide=function(){this.divEl.hide()},e}(),Yt=function(){function e(e){this.$div=t()(e)}return e.prototype.update=function(e,t,n,i){var a=new R(e,t,7);n==k.J2000?this.$div.html(a.format("s/")):(k.J2000d,this.$div.html(a.format("d/"))),this.$div.toggleClass("aladin-reticleColor",i)},e}(),Zt=function(){var e={GALACTIC_TO_J2000:[-.0548755604024359,.4941094279435681,-.867666148981161,-.8734370902479237,-.4448296299195045,-.1980763734646737,-.4838350155267381,.7469822444763707,.4559837762325372],J2000_TO_GALACTIC:[-.0548755604024359,-.873437090247923,-.4838350155267381,.4941094279435681,-.4448296299195045,.7469822444763707,-.867666148981161,-.1980763734646737,.4559837762325372],Transform:function(e,t){e[0]=e[0]*Math.PI/180,e[1]=e[1]*Math.PI/180;var n=new Array(Math.cos(e[0])*Math.cos(e[1]),Math.sin(e[0])*Math.cos(e[1]),Math.sin(e[1])),i=new Array(n[0]*t[0]+n[1]*t[1]+n[2]*t[2],n[0]*t[3]+n[1]*t[4]+n[2]*t[5],n[0]*t[6]+n[1]*t[7]+n[2]*t[8]),a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]),o=new Array(0,0);o[1]=Math.asin(i[2]/a);var r=i[0]/a/Math.cos(o[1]),l=i[1]/a/Math.cos(o[1]);return o[0]=Math.atan2(l,r),o[0]<0&&(o[0]=o[0]+2*Math.PI),o[0]=180*o[0]/Math.PI,o[1]=180*o[1]/Math.PI,o},GalacticToJ2000:function(t){return e.Transform(t,e.GALACTIC_TO_J2000)},J2000ToGalactic:function(t){return e.Transform(t,e.J2000_TO_GALACTIC)}};return e}();function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}var Xt=function(){var e={buildSimbadCSURL:function(e,t){e&&"object"===Wt(e)&&("ra"in e&&"dec"in e&&(e=new R(e.ra,e.dec,7).format("s")));return"https://alasky.unistra.fr/cgi/simbad-flat/simbad-cs.py?target="+encodeURIComponent(e)+"&SR="+t+"&format=votable&SRUNIT=deg&SORTBY=nbref"},buildNEDPositionCSURL:function(e,t,n){return"https://ned.ipac.caltech.edu/cgi-bin/nph-objsearch?search_type=Near+Position+Search&of=xml_main&RA="+e+"&DEC="+t+"&SR="+n},buildNEDObjectCSURL:function(e,t){return"https://ned.ipac.caltech.edu/cgi-bin/nph-objsearch?search_type=Near+Name+Search&radius="+60*t+"&of=xml_main&objname="+e},buildVizieRCSURL:function(e,t,n,i){(console.log(t),t&&"object"===Wt(t))&&("ra"in t&&"dec"in t&&(t=new R(t.ra,t.dec,7).format("s")));var a=1e5;return i&&i.hasOwnProperty("limit")&&D.isNumber(i.limit)&&(a=parseInt(i.limit)),"https://vizier.unistra.fr/viz-bin/votable?-source="+e+"&-c="+encodeURIComponent(t)+"&-out.max="+a+"&-c.rd="+n},buildSkyBotCSURL:function(e,t,n,i,a){var o="http://vo.imcce.fr/webservices/skybot/skybotconesearch_query.php?-from=AladinLite";if(o+="&RA="+encodeURIComponent(e),o+="&DEC="+encodeURIComponent(t),o+="&SR="+encodeURIComponent(n),o+="&EPOCH="+encodeURIComponent(i),a)for(var r in a)a.hasOwnProperty(r)&&(o+="&"+r+"="+encodeURIComponent(a[r]));return o}};return e}(),Kt=function(e){var t=document.createElement("div");t.classList.add("aladin-logo-container");var n=document.createElement("a");n.href="https://aladin.cds.unistra.fr/",n.title="Powered by Aladin Lite",n.target="_blank";var i=document.createElement("div");i.classList.add("aladin-logo"),n.appendChild(i),t.appendChild(n),e.appendChild(t)};function Qt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $t=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.aladin=n,this.mainDiv=document.createElement("div"),this.mainDiv.classList.add("aladin-projSelection"),t.appendChild(this.mainDiv),this._createComponent(),this._addListeners()}var n,i,a;return n=e,(i=[{key:"_createComponent",value:function(){var e=this;t()(this.mainDiv).append('<select title="Projection"></select>'),this.selectProjection=t()(this.mainDiv).find("select"),this.selectProjection.empty(),w.forEach((function(n){e.selectProjection.append(t()("<option />").val(n).text(n))}));var n=this;this.selectProjection.change((function(){n.aladin.setProjection(t()(this).val())}))}},{key:"_addListeners",value:function(){var e=this;dt.PROJECTION_CHANGED.listenedBy(this.aladin.aladinDiv,(function(t){e.selectProjection.val(t.detail.projection)}))}},{key:"show",value:function(){this.mainDiv.style.display="block"}},{key:"hide",value:function(){this.mainDiv.style.display="none"}}])&&Qt(n.prototype,i),a&&Qt(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}(),en=s(338),tn=s.n(en);function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(s){l=!0,a=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function on(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var rn=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentDiv=t,this.aladin=n,this.fnIdSelected=i,this._createComponent()}var n,i,a;return n=e,i=[{key:"_createComponent",value:function(){var e=this;this.mainDiv=document.createElement("div"),this.mainDiv.classList.add("aladin-dialog","aladin-cb-list"),this.mainDiv.style.display="block";var n="autocomplete-"+D.uuidv4();this.mainDiv.insertAdjacentHTML("afterbegin",'<a class="aladin-closeBtn">&times;</a><div class="aladin-box-title">Select Catalogue:</div><div class="aladin-box-content"><div class="aladin-label" for="'+n+'">By ID, title, keyword</div><input style="width:100%;" name="'+n+'" id="'+n+'" type="text" placeholder="Type keyword or VOTable URL" /><div class="aladin-row cone-search" style="font-size: 12px;"><div><input type="number" value="1.0" style="width: 4em;" maxlength="5" size="5"> <select style="padding: 4px 0!important;"><option>deg<option>arcmin<option>arcsec</select> around view center</div><div>Limit to <input type="number" min="1" max="10000" value="1000" style="width: 5em;"> sources</div></div><div class="aladin-row"><div class="aladin-col"><div><button class="aladin-btn">Load cone</button></div></div><div class="hips aladin-col"><button class="aladin-btn">Load catalogue HiPS</button></div></div><div class="aladin-box-separator"></div><div class="aladin-label" for="'+n+'">By VOTable URL</div><input style="width:100%;" name="'+n+'" id="'+n+'" type="text" placeholder="Enter VOTable URL" /><div class="votable"><button class="aladin-btn">Load VOTable</button></div></div>'),this.parentDiv.appendChild(this.mainDiv),this.idInput=e.mainDiv.querySelectorAll("input")[0],this.votInput=e.mainDiv.querySelectorAll("input")[3],t()(this.idInput).on("change",(function(){e.idInput.blur()})),t()(this.votInput).on("change",(function(){e.votInput.blur()}));var i=nn(this.mainDiv.querySelectorAll(".aladin-btn"),3),a=i[0],o=i[1],r=i[2];this.divCS=this.mainDiv.querySelector(".cone-search"),this.divLoadHiPS=this.mainDiv.querySelector(".hips"),this.divLoadHiPS.style.display="none",t()(a).click((function(){var t=parseFloat(e.divCS.querySelector("div:nth-child(1) > input").value),n=e.divCS.querySelector("div:nth-child(1) > select").value,i=t;"arcmin"==n?i/=60:"arcsec"==n&&(i/=3600);var a=parseInt(e.divCS.querySelector("div:nth-child(2) > input").value),o=e.selectedItem.cs_service_url,r=nn(e.aladin.getRaDec(),2),l=r[0],s=r[1];e.fnIdSelected&&e.fnIdSelected("coneSearch",{id:e.idInput.value,baseURL:o,limit:a,radiusDeg:i,ra:l,dec:s}),e.idInput.value=null})),t()(o).click((function(){e.fnIdSelected&&e.fnIdSelected("hips",{id:e.idInput.value,hipsURL:e.selectedItem.hips_service_url}),e.idInput.value=null})),t()(r).click((function(){e.fnIdSelected&&e.fnIdSelected("votable",{url:e.votInput.value}),e.votInput.value=null}));var l=document.getElementById(n);yt.getAllCatalogHiPSes(),tn()({input:l,minLength:3,fetch:function(e,t){e=e.toLowerCase();var n=yt.getAllCatalogHiPSes().filter((function(t){var n=t.ID,i=t.obs_title||"",a=t.obs_description||"";return n.toLowerCase().includes(e)||i.toLowerCase().includes(e)||a.toLowerCase().includes(e)}));n.sort((function(t,n){var i=0,a=0;return t.ID.toLowerCase().includes(e)&&(i+=100),n.ID.toLowerCase().includes(e)&&(a+=100),t.obs_title.toLowerCase().includes(e)&&(i+=50),n.obs_title.toLowerCase().includes(e)&&(a+=50),t.obs_description.toLowerCase().includes(e)&&(i+=10),n.obs_description.toLowerCase().includes(e)&&(a+=10),t.hips_service_url&&(i+=20),n.hips_service_url&&(a+=20),i>a?-1:a>i?1:0})),t(n.slice(0,50))},onSelect:function(n){n.cs_service_url?t()(e.divCS).show():t()(e.divCS).hide(),n.hips_service_url?t()(e.divLoadHiPS).show():t()(e.divLoadHiPS).hide(),l.value=n.ID,e.selectedItem=n,l.blur()},customize:function(t,n,i,a){e.fullScreenBtn.hasClass("aladin-restore")&&e.parentDiv.appendChild(i)},render:function(e,t){var n=document.createElement("div");return n.innerHTML=(e.obs_title||"")+' - <span style="color: #ae8de1">'+e.ID+"</span>",n}});var s=nn(this.mainDiv.querySelectorAll(".aladin-closeBtn"),1)[0];t()(s).click((function(){e.hide()}))}},{key:"show",value:function(){this.mainDiv.style.display="block"}},{key:"hide",value:function(){this.mainDiv.style.display="none"}}],i&&on(n.prototype,i),a&&on(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(s){l=!0,a=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function cn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var un=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentDiv=t,this.fnIdSelected=n,this.aladin=i,this._createComponent()}var n,i,a;return n=e,i=[{key:"_createComponent",value:function(){var e=this;this.mainDiv=document.createElement("div"),this.mainDiv.style.display="block",this.mainDiv.classList.add("aladin-dialog","aladin-layerBox","aladin-cb-list");var n="autocomplete-"+D.uuidv4();this.mainDiv.insertAdjacentHTML("afterbegin",'<a class="aladin-closeBtn">&times;</a><div class="aladin-box-title">Select image HiPS:</div><div class="aladin-box-content"><div class="aladin-label" for="'+n+'">By ID, title, keyword or URL</div><input name="'+n+'" id="'+n+'" type="text" placeholder="Type ID, title, keyword or URL" /><br><div><button class="aladin-btn">Select HiPS</button><button class="aladin-btn">Load coverage</button></div></div>'),this.parentDiv.appendChild(this.mainDiv);var i=document.getElementById(n);t()(i).on("change",(function(){i.blur()})),yt.getAllHiPSes(),tn()({input:i,fetch:function(e,t){e=e.toLowerCase();var n=yt.getAllHiPSes().filter((function(t){return t.ID.toLowerCase().includes(e)||t.obs_title.toLowerCase().includes(e)}));n.sort((function(t,n){var i=0,a=0;return t.ID.toLowerCase().includes(e)&&(i+=100),n.ID.toLowerCase().includes(e)&&(a+=100),t.obs_title.toLowerCase().includes(e)&&(i+=50),n.obs_title.toLowerCase().includes(e)&&(a+=50),t.obs_description&&t.obs_description.toLowerCase().includes(e)&&(i+=10),n.obs_description&&n.obs_description.toLowerCase().includes(e)&&(a+=10),i>a?-1:a>i?1:0})),t(n.slice(0,50))},onSelect:function(t){e.selectedItem=t,i.value=t.ID,e.fnIdSelected&&e.fnIdSelected(t.ID),i.blur()},customize:function(t,n,i,a){e.fullScreenBtn.hasClass("aladin-restore")&&e.parentDiv.appendChild(i)},render:function(e,t){var n=document.createElement("div");return n.innerHTML=e.obs_title+' - <span style="color: #ae8de1">'+e.ID+"</span>",n}});var a=ln(this.mainDiv.querySelectorAll(".aladin-btn"),2),o=a[0],r=a[1],l=ln(this.mainDiv.querySelectorAll(".aladin-closeBtn"),1)[0];t()(l).click((function(){e.hide()})),t()(o).click((function(){var t=e.mainDiv.querySelectorAll("input")[0];t&&e.fnIdSelected&&e.fnIdSelected(t.value),t.value=""})),t()(r).click((function(){var t,n=e.mainDiv.querySelectorAll("input")[0];t=n.value.startsWith("http")?n.value+"/Moc.fits":e.selectedItem.hips_service_url+"/Moc.fits",t=D.fixURLForHTTPS(t);var i=A.MOCFromURL(t);e.aladin.addMOC(i)}))}},{key:"show",value:function(){this.mainDiv.style.display="block"}},{key:"hide",value:function(){this.mainDiv.style.display="none"}}],i&&cn(n.prototype,i),a&&cn(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(s){l=!0,a=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||fn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var mn=function(){function e(n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.aladin=n,this.view=i,this.survey=a,this.hidden=!1,this.lastOpacity=1,this.headerDiv=t()('<div class="aladin-layer-header-'+a.layer+' aladin-hips-layer"><span class="indicator right-triangle">&nbsp;</span><select class="aladin-surveySelection"></select><button class="aladin-btn-small aladin-layer-hide" type="button" title="Hide this layer">ðŸ‘ï¸</button><button class="aladin-btn-small aladin-HiPSSelector" type="button" title="Search for a specific HiPS">ðŸ”</button><button class="aladin-btn-small aladin-delete-layer" type="button" title="Delete this layer">âŒ</button></div>'),"base"===this.survey.layer&&(this.headerDiv[0].getElementsByClassName("aladin-delete-layer")[0].style.visibility="hidden");var o,r="",l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}(this.aladin.webglAPI.getAvailableColormapList());try{for(l.s();!(o=l.n()).done;){r+="<option>"+o.value+"</option>"}}catch(c){l.e(c)}finally{l.f()}this.nameRadioColorChoice=encodeURIComponent(D.uuidv4()),r+="<option selected>native</option>",this.cmap="native",this.color="#ff0000",this.mainDiv=t()('<div class="aladin-frame" style="display:none"><div class="aladin-options">  <div class="row">    <div style="width: 50%"><label>Color map<input type="radio" class="colormap-color-selector" name="'+this.nameRadioColorChoice+'" value="colormap" id="colormap-radio" checked></label></div>    <div style="width: 50%"><label>Color<input class="color-color-selector" type="radio" name="'+this.nameRadioColorChoice+'" value="color"></label></div>  </div>  <div class="row"><div class="col-label"></div><div class="col-input"><select class="colormap-selector">'+r+'</select></div></div>  <div class="row"><div class="col-label"></div><div class="col-input"><input type="color" name="color-radio" value="'+this.color+'" class="color-selector"></div></div>  <label><div class="row"><div class="col-label">Reverse</div><div class="col-input"><input type="checkbox" class="reversed"></div></div></label>  <div class="row"><div class="col-label"><label>Stretch</label></div><div class="col-input"><select class="stretch"><option>pow2</option><option selected>linear</option><option>sqrt</option><option>asinh</option><option>log</option></select></div></div>  <div class="row"><div class="col-label"><label>Format</label></div><div class="col-input"><select class="format"></select></div></div>  <div class="row"><div class="col-label"><label>Min cut</label></div><div class="col-input"><input type="number" class="min-cut"></div></div>  <div class="row"><div class="col-label"><label>Max cut</label></div><div class="col-input"><input type="number" class="max-cut"></div></div>  <div class="row"><div class="col-label"><label>Blending mode</label></div><div class="col-input"><select class="blending"><option>additive</option><option selected>default</option></select></div></div>  <div class="row"><div class="col-label"><label>Opacity</label></div><div class="col-input"><input class="opacity" type="range" min="0" max="1" step="0.01"></div></div></div> </div>'),this._addListeners(),this._updateHiPSLayerOptions();var s=this;this.layerChangedListener=function(e){var t=e.detail.survey;t.layer===s.survey.layer&&(s.survey=t,s._updateHiPSLayerOptions()),s._updateSurveysDropdownList()},dt.HIPS_LAYER_CHANGED.listenedBy(this.aladin.aladinDiv,this.layerChangedListener)}var n,i,a;return n=e,i=[{key:"destroy",value:function(){dt.HIPS_LAYER_CHANGED.remove(this.aladin.aladinDiv,this.layerChangedListener),this.mainDiv[0].removeEventListener("click",this.clickOnAladinFrameListener)}},{key:"_addListeners",value:function(){var e=this,n=this.headerDiv.find(".indicator");n.unbind("click"),n.click((function(){n.hasClass("right-triangle")?(n.removeClass("right-triangle"),n.addClass("down-triangle"),e.mainDiv.slideDown(300),e.aladin.aladinDiv.dispatchEvent(new CustomEvent("select-layer",{detail:e.survey.layer}))):(n.removeClass("down-triangle"),n.addClass("right-triangle"),e.mainDiv.slideUp(300))}));var i=e.mainDiv[0];this.clickOnAladinFrameListener=function(t){e.aladin.aladinDiv.dispatchEvent(new CustomEvent("select-layer",{detail:e.survey.layer}))},i.addEventListener("click",this.clickOnAladinFrameListener),e._updateSurveysDropdownList();var a=this.headerDiv.find(".aladin-surveySelection");a.unbind("change"),a.change((function(){var n=Dt.SURVEYS[t()(this)[0].selectedIndex];e.hidden&&(n.options.opacity=0);var i=e.aladin.createImageSurvey(n.id,n.name,n.url,void 0,n.maxOrder,n.options);e.aladin.setOverlayImageLayer(i,e.survey.layer),e.aladin.aladinDiv.dispatchEvent(new CustomEvent("select-layer",{detail:e.survey.layer}))}));var o=this.headerDiv.find(".aladin-HiPSSelector");o.unbind("click"),o.click((function(){e.hipsSelector||(e.hipsSelector=new un(e.aladin.aladinDiv,(function(t){var n=e.survey.layer;e.aladin.setOverlayImageLayer(t,n)}),e.aladin)),e.hipsSelector.show()}));var r=this.headerDiv.find(".aladin-delete-layer");r.unbind("click"),r.click((function(){var t=new CustomEvent("remove-layer",{detail:e.survey.layer});e.aladin.aladinDiv.dispatchEvent(t)}));var l=this.headerDiv.find(".aladin-layer-hide");if(l.unbind("click"),l.click((function(){e.hidden=!e.hidden;var t=e.mainDiv.find(".opacity").eq(0),n=0;e.hidden?(e.lastOpacity=e.survey.getOpacity(),l.text("")):(n=e.lastOpacity,l.text("ðŸ‘ï¸")),t.val(n),t.get(0).disabled=e.hidden,e.survey.setOpacity(n)})),"base"===e.survey.layer)this.mainDiv.find(".row").eq(8)[0].style.display="none";else{var s=this.mainDiv.find(".blending").eq(0);s.unbind("change"),s.change((function(){var t=s.val();e.survey.setBlendingConfig("additive"===t)}))}var c=this.mainDiv.find(".format").eq(0),u=this.mainDiv.find(".min-cut").eq(0),d=this.mainDiv.find(".max-cut").eq(0);c.unbind("change"),c.change((function(){var t=c.val();e.survey.changeImageFormat(t);var n=0,i=1;"fits"===t&&(n=e.survey.properties.minCutout,i=e.survey.properties.maxCutout),e.survey.setCuts([n,i]),u.val(parseFloat(n.toFixed(5))),d.val(parseFloat(i.toFixed(5)))})),u.unbind("input blur"),d.unbind("input blur"),u.add(d).on("input blur",(function(t){var n=parseFloat(u.val()),i=parseFloat(d.val());isNaN(n)||isNaN(i)||e.survey.setCuts([n,i])}));var f=this.mainDiv.find(".colormap-selector").eq(0),p=this.mainDiv.find(".stretch").eq(0),h=this.mainDiv.find(".reversed").eq(0),m=e.mainDiv.find(".color-selector").eq(0),v=this.mainDiv[0].getElementsByClassName("colormap-color-selector");h.unbind("change"),f.unbind("change"),m.unbind("change"),p.unbind("change"),f.add(m).add(h).add(p).change((function(){var t=p.val(),n=h[0].checked;if(v[0].checked){var i=f.val();e.survey.setColormap(i,{reversed:n,stretch:t})}else{var a=m.val(),o=Mt.I.hexToRgb(a);e.survey.setColor([o.r/255,o.g/255,o.b/255,1],{reversed:n,stretch:t})}})),m.unbind("input"),m.on("input",(function(){var t=p.val(),n=h[0].checked,i=m.val(),a=Mt.I.hexToRgb(i);e.survey.setColor([a.r/255,a.g/255,a.b/255,1],{stretch:t,reversed:n})}));var _=dn(document.querySelectorAll('input[name="'+this.nameRadioColorChoice+'"]'),2),x=_[0],y=_[1];t()(x).on("click",(function(t){var n=e.cmap;e.survey.setColormap(n)})),t()(y).on("click",(function(t){var n=e.color,i=Mt.I.hexToRgb(n);e.survey.setColor([i.r/255,i.g/255,i.b/255,1])}));var g=e.mainDiv.find(".opacity").eq(0);g.unbind("input"),g.on("input",(function(){var t=+g.val();e.survey.setOpacity(t)}))}},{key:"_updateHiPSLayerOptions",value:function(){var e=this.mainDiv.find(".row").eq(0),n=this.mainDiv.find(".row").eq(1),i=this.mainDiv.find(".row").eq(2),a=this.mainDiv.find(".row").eq(3),o=this.mainDiv.find(".row").eq(4),r=(this.mainDiv.find(".row").eq(5),this.mainDiv.find(".row").eq(6)),l=this.mainDiv.find(".row").eq(7),s=this.mainDiv.find(".colormap-color-selector").eq(0),c=this.mainDiv.find(".color-color-selector").eq(0),u=this.mainDiv.find(".color-selector").eq(0),d=this.mainDiv.find(".reversed").eq(0),f=this.mainDiv.find(".colormap-selector").eq(0),p=this.mainDiv.find(".stretch").eq(0),h=this.mainDiv.find(".format").eq(0),m=this.mainDiv.find(".opacity").eq(0),v=this.mainDiv.find(".min-cut").eq(0),_=this.mainDiv.find(".max-cut").eq(0);h.empty(),this.survey.properties.formats.forEach((function(e){h.append(t()("<option>",{value:e,text:e}))}));var x=this.survey.options,y=x.colormap,g=x.reversed,b=x.stretch;y?(s[0].checked=!0,c[0].checked=!1):(s[0].checked=!1,c[0].checked=!0);var w=this.survey.colored,S=x.imgFormat;h.val(S),w?(e[0].style.display="none",i[0].style.display="none",n[0].style.display="none",a[0].style.display="none",o[0].style.display="none",r[0].style.display="none",l[0].style.display="none"):(e[0].style.display="flex",s[0].checked?(i[0].style.display="none",n[0].style.display="flex",a[0].style.display="flex",o[0].style.display="flex"):(i[0].style.display="flex",o[0].style.display="flex",n[0].style.display="none",a[0].style.display="none"),x.minCut?parseFloat(v.val())!=x.minCut&&v.val(parseFloat(x.minCut.toFixed(5))):v.val(0),r[0].style.display="flex",x.maxCut?parseFloat(_.val())!=x.maxCut&&_.val(parseFloat(x.maxCut.toFixed(5))):_.val(0),l[0].style.display="flex");var A=x.opacity;if(m.val(A),!this.survey.colored){if(x.color){var C=dn(x.color,4),I=C[0],k=C[1],T=C[2],D=(C[3],Mt.I.rgbToHex(255*I,255*k,255*T));u[0].value=D,this.color=D}else f.val(y),this.cmap=y;d.prop("checked",g),p.val(b)}}},{key:"_updateSurveysDropdownList",value:function(){var e=this,n=this.headerDiv.find(".aladin-surveySelection"),i=Dt.SURVEYS.sort((function(e,t){return e.order?e.maxOrder&&e.maxOrder>t.maxOrder?1:-1:e.name>t.name?1:-1}));if(n.empty(),this.survey){var a=!1;if(i.forEach((function(i){var o=e.survey.id.endsWith(i.id);n.append(t()("<option />").attr("selected",o).val(i.id).text(i.name)),a|=o})),a){var o=n[0].selectedIndex;Dt.SURVEYS[o].options=this.survey.options}else console.warn(this.survey," has not been found in SURVEYS!")}}},{key:"attachTo",value:function(e){this.headerDiv.append(this.mainDiv),e.append(this.headerDiv),this._addListeners()}},{key:"show",value:function(){this.mainDiv.style.display="block"}},{key:"hide",value:function(){this.headerDiv.style.display="none",this.mainDiv.style.display="none"}}],i&&hn(n.prototype,i),a&&hn(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();function vn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _n=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.aladin=n,this.view=i,this.mainDiv=document.createElement("div"),this.mainDiv.style.display="none",this.mainDiv.classList.add("aladin-box","aladin-layerBox","aladin-cb-list"),this.aladinDiv=t,t.appendChild(this.mainDiv),this.imgLayers=new Map,this.selectedLayer=void 0,this._createComponent(),this._addListeners()}var n,i,a;return n=e,(i=[{key:"_createComponent",value:function(){var e=this,n=t()(this.mainDiv);n.empty(),n.append('<a class="aladin-closeBtn">&times;</a><div class="aladin-box-title">Stack</div>'),n.append('<div class="aladin-box-separator"></div><div class="aladin-label">Image layers</div><button class="aladin-btn add-layer-hips" type="button">Add image layer</button>'),t()(this.mainDiv).find(".add-layer-hips").click((function(){var t=D.uuidv4();e.aladin.setOverlayImageLayer("CDS/P/DSS2/color",t)})),this.imgLayers.size>1&&(n.append('<div class="aladin-label">Overlay layers</div>'),Array.from(e.aladin.view.overlayLayers).reverse().forEach((function(t){var i=e.imgLayers.get(t);i&&"base"!==i.survey.layer&&i.attachTo(n)}))),n.append('<div class="aladin-label">Base layer</div>'),this.imgLayers.has("base")&&this.imgLayers.get("base").attachTo(n),n.append('<div class="aladin-label">Background color</div>');var i=t()('<input type="color">');n.append(i);var a="#6699ff";i.val(a),e.view.aladin.setBackgroundColor(Mt.I.hexToRgb(a)),i.on("input",(function(){var t=i.val();e.view.aladin.setBackgroundColor(Mt.I.hexToRgb(t))})),n.append('<div class="aladin-box-separator"></div><div class="aladin-label">Overlay layers</div>');for(var o=this.view.allOverlayLayers,r="<ul>",l=o.length-1;l>=0;l--){var s=o[l],c=s.name,u="";s.isShowing&&(u='checked="checked"');var d="",f="";if("catalog"==s.type||"progressivecat"==s.type){var p=s.getSources().length;d=p+" source"+(p>1?"s":""),f=T.SVG_ICONS.CATALOG}else"moc"==s.type?(d="Coverage: "+(100*s.skyFraction()).toFixed(3)+" % of sky",f=T.SVG_ICONS.MOC):"overlay"==s.type&&(f=T.SVG_ICONS.OVERLAY);var h=t()("<div></div>").css("color",s.color).css("color"),m=Mt.I.getLabelColorForBackground(h);r+='<li><div class="aladin-stack-icon" style=\'background-image: url("data:image/svg+xml;base64,'+window.btoa(f.replace(/FILLCOLOR/g,s.color))+"\");'></div>",r+='<input type="checkbox" '+u+' id="aladin_lite_'+s.uuid+'"></input><label for="aladin_lite_'+s.uuid+'" class="aladin-layer-label" style="background: '+s.color+"; color:"+m+';" title="'+d+'">'+c+"</label>",r+=' <button class="aladin-btn-small aladin-delete-graphic-layer" type="button" title="Delete this layer" data-uuid="'+s.uuid+'" style="font-size: 10px!important; vertical-align: text-bottom!important; background-color: unset!important;">âŒ</button>',r+="</li>"}r+="</ul>",r+='<button class="aladin-btn my-1 catalogue-selector" type="button">Add catalogue</button>',n.append(r),n.find(".aladin-delete-graphic-layer").click((function(){var n=e.aladin.findLayerByUUID(t()(this).data("uuid"));e.aladin.removeLayer(n)})),n.find(".catalogue-selector").click((function(){e.catalogSelector||(e.catalogSelector=new rn(e.aladinDiv,e.aladin,(function(t,n){if("coneSearch"==t){var i=void 0;if(n.baseURL.includes("/vizier."))i=A.catalogFromVizieR(n.id.replace("CDS/",""),n.ra+" "+n.dec,n.radiusDeg,{limit:n.limit,onClick:"showTable"});else{var a=n.baseURL;a.endsWith("?")||(a+="?"),a+="RA="+n.ra+"&DEC="+n.dec+"&SR="+n.radiusDeg,i=A.catalogFromURL(a,{limit:n.limit,onClick:"showTable"})}e.aladin.addCatalog(i)}else if("hips"==t){var o=A.catalogHiPS(n.hipsURL,{onClick:"showTable",name:n.id});e.aladin.addCatalog(o)}else if("votable"==t){var r=A.catalogFromURL(n.url,{onClick:"showTable"});console.log(r),e.aladin.addCatalog(r)}}))),e.catalogSelector.show()})),n.append('<div class="aladin-blank-separator"></div>'),u="",this.view.displayReticle&&(u='checked="checked"');var v=t()('<input type="checkbox" '+u+' id="displayReticle" />');n.append(v).append('<label for="displayReticle">Reticle</label><br/>'),v.change((function(){e.aladin.showReticle(t()(this).is(":checked"))})),u="",this.view.displayHpxGrid&&(u='checked="checked"');var _=t()('<input type="checkbox" '+u+' id="displayHpxGrid"/>');n.append(_).append('<label for="displayHpxGrid">HEALPix grid</label><br/>'),_.change((function(){e.aladin.showHealpixGrid(t()(this).is(":checked"))})),n.append('<div class="aladin-box-separator"></div><div class="aladin-label">Tools</div>');var x=t()('<button class="aladin-btn" type="button">Export view as PNG</button>');n.append(x),x.click((function(){e.aladin.exportAsPNG()})),n.find(".aladin-closeBtn").click((function(){return e.aladin.hideBoxes(),!1})),t()(this.mainDiv).find("ul input").change((function(){var n=t()(this).attr("id").substr(12),i=e.aladin.findLayerByUUID(n);t()(this).is(":checked")?i.show():i.hide()}))}},{key:"_addListeners",value:function(){var e=this;this.aladin.aladinDiv.addEventListener("remove-layer",(function(t){var n=t.detail;e.aladin.removeImageSurvey(n),e.selectedLayer===n&&(e.selectedLayer=null)})),this.aladin.aladinDiv.addEventListener("select-layer",(function(t){var n=t.detail;if(e.selectedLayer){var i="aladin-layer-header-"+e.selectedLayer;document.getElementsByClassName(i)[0].style.backgroundColor="gainsboro"}var a="aladin-layer-header-"+n;document.getElementsByClassName(a)[0].style.backgroundColor="darkgray",e.aladin.setActiveHiPSLayer(n),e.selectedLayer=n})),dt.HIPS_LAYER_ADDED.listenedBy(this.aladin.aladinDiv,(function(t){var n=t.detail.survey;e.imgLayers.set(n.layer,new mn(e.aladin,e.view,n)),e._createComponent()})),dt.HIPS_LAYER_REMOVED.listenedBy(this.aladin.aladinDiv,(function(t){var n=t.detail.layer;e.imgLayers.get(n).destroy(),e.imgLayers.delete(n),e._createComponent()})),dt.GRAPHIC_OVERLAY_LAYER_ADDED.listenedBy(this.aladin.aladinDiv,(function(t){e._createComponent()})),dt.GRAPHIC_OVERLAY_LAYER_REMOVED.listenedBy(this.aladin.aladinDiv,(function(t){e._createComponent()}))}},{key:"show",value:function(){this.mainDiv.style.display="initial"}},{key:"hide",value:function(){this.mainDiv.style.display="none"}}])&&vn(n.prototype,i),a&&vn(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();function xn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var yn=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.aladin=n,this.view=i,this.mainDiv=document.createElement("div"),this.mainDiv.style.display="none",this.mainDiv.classList.add("aladin-box","aladin-layerBox","aladin-cb-list"),this.aladinDiv=t,t.appendChild(this.mainDiv),this._createComponent(),this._addListeners()}var n,i,a;return n=e,i=[{key:"_createComponent",value:function(){var e=this,n=t()(this.mainDiv);n.empty(),n.append('<a class="aladin-closeBtn">&times;</a>');var i="";this.view.showCooGrid&&(i='checked="checked"');var a=t()('<span class="indicator right-triangle"> </span>'),o=t()('<input type="checkbox" '+i+' id="displayCoordinatesGrid"/>'),r=t()("<label>Coordinates grid</label>"),l=t()('<div class="layer-options" style="display: none;"><table><tbody><tr><td>Color</td><td><input type="color" value="#00ff00"></td></tr><tr><td>Opacity</td><td><input class="opacity" value="1.0" type="range" min="0" max="1" step="0.05"></td></tr><tr><td>Label size</td><td><input class="label-size" type="range" value="1" min="0" max="1" step="0.01"></td></tr></table></div>');r.prepend(o),n.append(a).append(r).append(l),o.change((function(){t()(this).is(":checked")?e.view.setGridConfig({enabled:!0}):e.view.setGridConfig({enabled:!1})})),a.click((function(){var e=t()(this);e.hasClass("right-triangle")?(e.removeClass("right-triangle"),e.addClass("down-triangle"),l.slideDown(300)):(e.removeClass("down-triangle"),e.addClass("right-triangle"),l.slideUp(300))}));var s=l.find('input[type="color"]'),c=l.find(".opacity"),u=function(){var t=Mt.I.hexToRgb(s.val()),n=c.val();e.view.setGridConfig({color:{r:t.r/255,g:t.g/255,b:t.b/255},opacity:parseFloat(n)})};s.on("input",u),c.on("input",u);var d=l.find(".label-size");d.on("input",(function(){var t=+d.val();e.view.setGridConfig({labelSize:t})})),dt.COO_GRID_ENABLED.listenedBy(e.aladinDiv,(function(){o.prop("checked")||o.prop("checked",!0)})),dt.COO_GRID_DISABLED.listenedBy(e.aladinDiv,(function(){o.prop("checked")&&o.prop("checked",!1)})),dt.COO_GRID_UPDATED.listenedBy(e.aladinDiv,(function(e){var t=e.detail.opacity;c.val()!=t&&c.val(t);var n=e.detail.color,i=Mt.I.rgbToHex(Math.round(255*n.r),Math.round(255*n.g),Math.round(255*n.b));s.val()!=i&&s.val(i)})),n.find(".aladin-closeBtn").click((function(){return e.aladin.hideBoxes(),!1}))}},{key:"_addListeners",value:function(){}},{key:"show",value:function(){this.mainDiv.style.display="block"}},{key:"hide",value:function(){this.mainDiv.style.display="none"}}],i&&xn(n.prototype,i),a&&xn(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}(),gn=s(379),bn=s.n(gn),wn=s(795),Sn=s.n(wn),An=s(569),Cn=s.n(An),In=s(565),kn=s.n(In),Tn=s(216),Dn=s.n(Tn),Rn=s(589),En=s.n(Rn),zn=s(724),On={};On.styleTagTransform=En(),On.setAttributes=kn(),On.insert=Cn().bind(null,"head"),On.domAPI=Sn(),On.insertStyleElement=Dn();bn()(zn.Z,On);zn.Z&&zn.Z.locals&&zn.Z.locals;function Pn(){Pn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",r=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),r=new S(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(a,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var r=n.delegate;if(r){var l=g(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=c(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function f(){}function p(){}var h={};l(h,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(A([])));v&&v!==t&&n.call(v,a)&&(h=v);var _=p.prototype=d.prototype=Object.create(h);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(a,o,r,l){var s=c(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==qn(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,r,l)}),(function(e){i("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return i("throw",e,r,l)}))}l(s.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,l(_,"constructor",p),l(p,"constructor",f),f.displayName=l(p,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,r,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,a,o){void 0===o&&(o=Promise);var r=new y(s(t,n,i,a),o);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},x(_),l(_,r,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],r=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ln(e,t,n,i,a,o,r){try{var l=e[o](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function Mn(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function r(e){Ln(o,i,a,r,l,"next",e)}function l(e){Ln(o,i,a,r,l,"throw",e)}r(void 0)}))}}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,o=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(s){l=!0,a=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}var jn=function(){var e=function e(n,i){var a=this;if(0!=t()(n).length){this.webglAPI=null;var o=this;if(void 0===i&&(i=this.getOptionsFromQueryString()),"zoom"in(i=i||{})){var r=i.zoom;delete i.zoom,i.fov=r}var l={};for(var s in e.DEFAULT_OPTIONS)void 0!==i[s]?l[s]=i[s]:l[s]=e.DEFAULT_OPTIONS[s];for(var s in i)void 0===e.DEFAULT_OPTIONS[s]&&(l[s]=i[s]);this.empty=!0,this.options=l,t()("<style type='text/css'> .aladin-reticleColor { color: "+this.options.reticleColor+"; font-weight:bold;} </style>").appendTo(n),this.aladinDiv=n,this.reduceDeformations=!0,t()(n).addClass("aladin-container");var c=k.fromString(l.cooFrame,k.J2000),u=t()('<div class="aladin-location">'+(l.showFrame?'<select class="aladin-frameChoice"><option value="'+k.J2000.label+'" '+(c==k.J2000?'selected="selected"':"")+'>J2000</option><option value="'+k.J2000d.label+'" '+(c==k.J2000d?'selected="selected"':"")+'>J2000d</option><option value="'+k.GAL.label+'" '+(c==k.GAL?'selected="selected"':"")+">GAL</option></select>":"")+'<span class="aladin-clipboard" title="Copy coordinates to clipboard"></span><span class="aladin-location-text"></span></div>').appendTo(n),d=u.find(".aladin-clipboard");d.hide(),d.click((function(){var e=u[0].querySelector(".aladin-location-text"),t=document.createRange();t.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t);try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Copying text command was "+n)}catch(i){console.log("Oops, unable to copy")}window.getSelection().removeAllRanges()})),u.mouseenter((function(){d.show()})),u.mouseleave((function(){d.hide()}));var f=t()('<div class="aladin-fov"></div>').appendTo(n);l.showZoomControl&&t()('<div class="aladin-zoomControl"><a href="#" class="zoomPlus" title="Zoom in">+</a><a href="#" class="zoomMinus" title="Zoom out">&ndash;</a></div>').appendTo(n),l.showFullscreenControl&&t()('<div class="aladin-fullscreenControl aladin-maximize" title="Full screen"></div>').appendTo(n),this.fullScreenBtn=t()(n).find(".aladin-fullscreenControl"),this.fullScreenBtn.click((function(){o.toggleFullscreen(o.options.realFullscreen)})),t()(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",(function(e){var n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(null==n){o.fullScreenBtn.removeClass("aladin-restore"),o.fullScreenBtn.addClass("aladin-maximize"),o.fullScreenBtn.attr("title","Full screen"),t()(o.aladinDiv).removeClass("aladin-fullscreen");var i=o.callbacksByEventName.fullScreenToggled,a=o.fullScreenBtn.hasClass("aladin-restore");"function"==typeof i&&i(a)}})),new Kt(n),this.boxes=[],this.measurementTable=new Jt(n);var p,h,m=new Yt(u.find(".aladin-location-text"));this.view=new Lt(this,m,f,c,l.fov),this.cacheSurveys=new Map,this.stack=new _n(this.aladinDiv,this,this.view),this.coogrid=new yn(this.aladinDiv,this,this.view),this.boxes.push(this.stack),this.boxes.push(this.coogrid),l.gridOptions?(p=l.gridOptions.color&&Mt.I.hexToRgb(l.gridOptions.color),h=l.gridOptions.opacity):(p={r:0,g:1,b:0},h=1),this.view.setGridConfig({color:p,opacity:h}),l&&l.showCooGrid&&(this.view.setGridConfig({enabled:!0}),this.view.showCooGrid=!0),!l||void 0!==l.showProjectionControl&&!0!==l.showProjectionControl||new $t(n,this);var v=l&&l.projection||"SIN";this.setProjection(v);var _=30;if(l.showLayersControl)(g=t()('<div class="aladin-layersControl-container" style="top: '+_+'px" title="Manage layers"><div class="aladin-layersControl"></div></div>')).appendTo(n),l.expandLayersControl&&(o.hideBoxes(),o.showLayerBox()),g.click((function(){return o.hideBoxes(),o.showLayerBox(),!1})),_+=38;if(l.showGotoControl){(g=t()('<div class="aladin-gotoControl-container" style="top: '+_+'px" title="Go to position"><div class="aladin-gotoControl"></div></div>')).appendTo(n);var x=t()('<div class="aladin-box aladin-gotoBox"><a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><form class="aladin-target-form">Go to: <input type="text" placeholder="Object name/position" /></form></div>');x.appendTo(n),this.boxes.push(x);var y=x.find(".aladin-target-form input");y.on("paste keydown",(function(){t()(this).removeClass("aladin-unknownObject")})),y.on("change",(function(){y.blur()})),g.click((function(){return o.hideBoxes(),y.val(""),y.removeClass("aladin-unknownObject"),x.show(),y.blur(),!1})),x.find(".aladin-closeBtn").click((function(){return o.hideBoxes(),y.blur(),!1})),_+=38}if(l.showSimbadPointerControl)(g=t()('<div class="aladin-simbadPointerControl-container" style="top: '+_+'px" title="SIMBAD pointer"><div class="aladin-simbadPointerControl"></div></div>')).appendTo(n),g.click((function(){o.view.setMode(Lt.TOOL_SIMBAD_POINTER)})),_+=38;if(l.showCooGridControl)(g=t()('<div class="aladin-cooGridControl-container" style="top: '+_+'px" title="Coo grid"><div class="aladin-cooGridControl"></div></div>')).appendTo(n),g.click((function(){return o.hideBoxes(),o.showCooGridBox(),!1})),_+=38;if(l.showShareControl){var g;(g=t()('<div class="aladin-shareControl-container" title="Get link for current view"><div class="aladin-shareControl"></div></div>')).appendTo(n);var b=t()('<div class="aladin-box aladin-shareBox"><a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div>Link to previewer: <span class="info"></span><input type="text" class="aladin-shareInput" /></div>');b.appendTo(n),this.boxes.push(b),g.click((function(){o.hideBoxes(),b.show();var e=o.getShareURL();return b.find(".aladin-shareInput").val(e).select(),document.execCommand("copy"),!1})),b.find(".aladin-closeBtn").click((function(){return o.hideBoxes(),!1})),_+=38}if(this.gotoObject(l.target,void 0,{forceAnimation:!1}),l.log){var w=i;w.version=e.VERSION,st.log("startup",w)}if(this.showReticle(l.showReticle),l.catalogUrls)for(var S=0,A=l.catalogUrls.length;S<A;S++)this.createCatalogFromVOTable(l.catalogUrls[S]);if(l.survey)if(Array.isArray(l.survey)){var C=0;l.survey.forEach((function(e){0==C?a.setBaseImageLayer(e):a.setOverlayImageLayer(e,D.uuidv4()),C++}))}else this.setBaseImageLayer(l.survey);else{var I=Math.round(Math.random()),T=DEFAULT_OPTIONS.surveyUrl[I];this.setBaseImageLayer(T)}this.view.showCatalog(l.showCatalog);var R=this;t()(n).find(".aladin-frameChoice").change((function(){R.setFrame(t()(this).val())})),t()(n).find(".aladin-target-form").submit((function(){return R.gotoObject(t()(this).find("input").val(),(function(){t()(n).find(".aladin-target-form input").addClass("aladin-unknownObject")})),!1}));var E=t()(n).find(".zoomPlus");E.click((function(){return R.increaseZoom(),!1})),E.bind("mousedown",(function(e){e.preventDefault()}));var z=t()(n).find(".zoomMinus");z.click((function(){return R.decreaseZoom(),!1})),z.bind("mousedown",(function(e){e.preventDefault()})),this.callbacksByEventName={},this.view.redraw(),l.fullScreen&&o.toggleFullscreen(o.options.realFullscreen)}};e.VERSION="3.0-beta0",e.JSONP_PROXY="https://alasky.cds.unistra.fr/cgi/JSONProxy",e.URL_PREVIEWER="https://aladin.cds.unistra.fr/AladinLite/",e.wasmLibs={},e.DEFAULT_OPTIONS={surveyUrl:["https://alaskybis.u-strasbg.fr/DSS/DSSColor","https://alasky.u-strasbg.fr/DSS/DSSColor"],survey:"CDS/P/DSS2/color",target:"0 +0",cooFrame:"J2000",fov:60,showReticle:!0,showZoomControl:!0,showFullscreenControl:!0,showLayersControl:!0,showGotoControl:!0,showSimbadPointerControl:!1,showShareControl:!1,showCatalog:!0,showFrame:!0,showCooGrid:!1,fullScreen:!1,reticleColor:"rgb(178, 50, 178)",reticleSize:22,log:!0,allowFullZoomout:!1,realFullscreen:!1,showAllskyRing:!1,allskyRingColor:"#c8c8ff",allskyRingWidth:8,pixelateCanvas:!0},e.prototype.toggleFullscreen=function(e){var t=this;e=Boolean(e),this.fullScreenBtn.toggleClass("aladin-maximize aladin-restore");var n=this.fullScreenBtn.hasClass("aladin-restore");if(this.fullScreenBtn.attr("title",n?"Restore original size":"Full screen"),this.aladinDiv.classList.contains("aladin-fullscreen")?this.aladinDiv.classList.remove("aladin-fullscreen"):this.aladinDiv.classList.add("aladin-fullscreen"),e)if(n){var i=this.aladinDiv;i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();setTimeout((function(){t.view.fixLayoutDimensions()}),1e3);var a=t.callbacksByEventName.zoomChanged;"function"==typeof a&&a(t.view.fov);var o=t.callbacksByEventName.fullScreenToggled;"function"==typeof o&&o(n)},e.prototype.setAngleRotation=function(e){this.view.setAngleRotation(e)},e.prototype.getOptionsFromQueryString=function(){var e={},n=t().urlParam("target");n&&(e.target=n);var i=t().urlParam("frame");i&&k[i]&&(e.frame=i);var a=t().urlParam("survey");a&&Dt.getSurveyInfoFromId(a)&&(e.survey=a);var o=t().urlParam("zoom");o&&o>0&&o<180&&(e.zoom=o);var r=t().urlParam("showReticle");r&&(e.showReticle="true"==r.toLowerCase());var l=t().urlParam("cooFrame");l&&(e.cooFrame=l);var s=t().urlParam("fullScreen");return void 0!==s&&(e.fullScreen=s),e},e.prototype.setFoV=e.prototype.setFov=function(e){this.view.setZoom(e)},e.prototype.adjustFovForObject=function(e){var t=this;this.getFovForObject(e,(function(e){t.setFoV(e)}))},e.prototype.getFovForObject=function(e,t){var n="//simbad.u-strasbg.fr/simbad/sim-tap/sync?query="+encodeURIComponent("SELECT galdim_majaxis, V FROM basic JOIN ident ON oid=ident.oidref JOIN allfluxes ON oid=allfluxes.oidref WHERE id='"+e+"'")+"&request=doQuery&lang=adql&format=json&phase=run";D.getAjaxObject(n,"GET","json",!1).done((function(e){var n=4/60;if("data"in e&&e.data.length>0){var i=D.isNumber(e.data[0][0])?e.data[0][0]/60:null,a=D.isNumber(e.data[0][1])?e.data[0][1]:null;null!==i?n=2*i:null!==a&&a<10&&(n=2*Math.pow(2,6-a/2)/60)}"function"==typeof t&&t(n)}))},e.prototype.setFrame=function(e){if(e){var n=k.fromString(e,k.J2000);n!=this.view.cooFrame&&(this.view.changeFrame(n),t()(this.aladinDiv).find(".aladin-frameChoice").val(n.label))}},e.prototype.setProjection=function(e){e&&(this.view.setProjection(e),dt.PROJECTION_CHANGED.dispatchedTo(this.aladinDiv,{projection:e}))},e.prototype.gotoObject=function(e,t,n){var i=void 0,a=void 0;if("object"===qn(t)?(t.hasOwnProperty("success")&&(i=t.success),t.hasOwnProperty("error")&&(a=t.error)):"function"==typeof t&&(a=t),/[a-zA-Z]/.test(e)){var o=this;Bt.resolve(e,(function(e){var t=e.Target.Resolver;o.view.pointTo(t.jradeg,t.jdedeg,n),"function"==typeof i&&i(o.getRaDec())}),(function(t){console&&(console.log("Could not resolve object name "+e),console.log(t)),"function"==typeof a&&a()}))}else{var r=new R;r.parse(e);var l=Nn(this.view.aladin.webglAPI.viewToICRSJ2000CooSys(r.lon,r.lat),2),s=l[0],c=l[1];this.view.pointTo(s,c,n),"function"==typeof i&&i(this.getRaDec())}},e.prototype.gotoPosition=function(e,t){var n;n=this.view.cooFrame==k.GAL?Zt.GalacticToJ2000([e,t]):[e,t],this.view.pointTo(n[0],n[1])};var n=function e(t){var n=t.animationParams;if(null!=n&&n.running){var i=(new Date).getTime();if(i>n.end)return t.gotoRaDec(n.raEnd,n.decEnd),void(n.complete&&n.complete());var a=(i-n.start)/(n.end-n.start),o=function(e,t,n,i,a){function o(e){return e*Math.PI/180}function r(e){return 180*e/Math.PI}t=o(t),e=o(e),i=o(i),n=o(n);var l=2*Math.asin(Math.sqrt(Math.pow(Math.sin((t-i)/2),2)+Math.cos(t)*Math.cos(i)*Math.pow(Math.sin((e-n)/2),2))),s=Math.sin((1-a)*l)/Math.sin(l),c=Math.sin(a*l)/Math.sin(l),u=s*Math.cos(t)*Math.cos(e)+c*Math.cos(i)*Math.cos(n),d=s*Math.cos(t)*Math.sin(e)+c*Math.cos(i)*Math.sin(n),f=s*Math.sin(t)+c*Math.sin(i),p=Math.atan2(d,u),h=Math.atan2(f,Math.sqrt(Math.pow(u,2)+Math.pow(d,2)));return[r(p),r(h)]}(n.raStart,n.decStart,n.raEnd,n.decEnd,a),r=o[0],l=o[1];t.gotoRaDec(r,l),setTimeout((function(){e(t)}),10)}};e.prototype.stopAnimation=function(){this.zoomAnimationParams&&(this.zoomAnimationParams.running=!1),this.animationParams&&(this.animationParams.running=!1)},e.prototype.animateToRaDec=function(e,t,i,a){i=i||5,this.animationParams=null;var o={};o.start=(new Date).getTime(),o.end=(new Date).getTime()+1e3*i;var r=this.getRaDec();o.raStart=r[0],o.decStart=r[1],o.raEnd=e,o.decEnd=t,o.complete=a,o.running=!0,this.animationParams=o,n(this)};var i=function e(t){var n=t.zoomAnimationParams;if(null!=n&&n.running){var i=(new Date).getTime();if(i>n.end)return t.setFoV(n.fovEnd),void(n.complete&&n.complete());var a=(i-n.start)/(n.end-n.start),o=n.fovStart+(n.fovEnd-n.fovStart)*Math.sqrt(a);t.setFoV(o),setTimeout((function(){e(t)}),50)}};return e.prototype.zoomToFoV=function(e,t,n){t=t||5,this.zoomAnimationParams=null;var a={};a.start=(new Date).getTime(),a.end=(new Date).getTime()+1e3*t;var o=this.getFov();a.fovStart=Math.max(o[0],o[1]),a.fovEnd=e,a.complete=n,a.running=!0,this.zoomAnimationParams=a,i(this)},e.prototype.getRaDec=function(){var e=this.webglAPI.getCenter(),t=this.view.aladin.webglAPI.viewToICRSJ2000CooSys(e[0],e[1]);return t[0]<0?[t[0]+360,t[1]]:t},e.prototype.gotoRaDec=function(e,t){this.view.pointTo(e,t)},e.prototype.showHealpixGrid=function(e){this.view.showHealpixGrid(e)},e.prototype.showSurvey=function(e){this.view.showSurvey(e)},e.prototype.showCatalog=function(e){this.view.showCatalog(e)},e.prototype.showReticle=function(e){this.view.showReticle(e),t()("#displayReticle").attr("checked",e)},e.prototype.removeLayers=function(){this.view.removeLayers()},e.prototype.addCatalog=function(e){this.view.addCatalog(e),dt.GRAPHIC_OVERLAY_LAYER_ADDED.dispatchedTo(this.aladinDiv,{layer:e})},e.prototype.addOverlay=function(e){this.view.addOverlay(e),dt.GRAPHIC_OVERLAY_LAYER_ADDED.dispatchedTo(this.aladinDiv,{layer:e})},e.prototype.addMOC=function(e){this.view.addMOC(e)},e.prototype.findLayerByUUID=function(e){var t=this.view.allOverlayLayers.filter((function(t){return t.uuid===e}));return 0==t.length?null:t[0]},e.prototype.removeLayer=function(e){this.view.removeLayer(e)},e.prototype.createImageSurvey=function(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=this.cacheSurveys.get(e);return r?(r=D.clone(r),new Dt(r.id,r.name,r.rootUrl,this.view,r.options)):(i&&(o.cooFrame=i),this.cacheSurveys.set(e,{id:e,name:t,rootUrl:n,options:o}),new Dt(e,t,n,this.view,o))},e.prototype.newImageSurvey=function(e,t){var n=e,i=!1;n.includes("http")&&(i=!0);var a=n;if(i){var o=n,r=o;return this.createImageSurvey(r,a,o,null,null,t)}var l=n;return this.createImageSurvey(l,a,void 0,null,null,t)},e.prototype.setImageSurvey=function(e){this.setBaseImageLayer(e)},e.prototype.setBackgroundColor=function(e){var t;if("string"==typeof e){e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);t={r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3])}}else t=e;this.webglAPI.setBackgroundColor(t)},e.prototype.removeImageSurvey=function(e){if("base"===e)throw"Cannot remove base survey layer.";this.view.removeImageSurvey(e)},e.prototype.setBaseImageLayer=function(e){this.setOverlayImageLayer(e,"base")},e.prototype.getBaseImageLayer=function(){return this.view.getImageSurvey("base")},e.prototype.setOverlayImageLayer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"overlay",n=null;if("string"==typeof e){var i=e,a=!1;i.includes("http")&&(a=!0);var o=i;if(a){var r=i,l=r;n=this.createImageSurvey(l,o,r,null,null)}else{var s=i;n=this.createImageSurvey(s,o,void 0,null,null)}}else n=e;this.view.setOverlayImageSurvey(n,t)},e.prototype.getOverlayImageLayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"overlay",t=this.view.getImageSurvey(e);return t},e.prototype.getImageSurveyMeta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"base";return this.view.getImageSurveyMeta(e)},e.prototype.setImageSurveyMeta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return this.view.setImageSurveyMeta(t,e)},e.prototype.increaseZoom=function(){this.view.increaseZoom(.01)},e.prototype.decreaseZoom=function(){this.view.decreaseZoom(.01)},e.prototype.setRotation=function(e){this.view.setRotation(e)},e.prototype.setActiveHiPSLayer=function(e){this.view.setActiveHiPSLayer(e)},e.prototype.createProgressiveCatalog=function(e,t,n,i){return new Gt(e,t,n,i)},e.prototype.createOverlay=function(e){return new qt(e)},e.AVAILABLE_CALLBACKS=["select","objectClicked","objectHovered","footprintClicked","footprintHovered","positionChanged","zoomChanged","click","mouseMove","fullScreenToggled","catalogReady"],e.prototype.on=function(t,n){e.AVAILABLE_CALLBACKS.indexOf(t)<0||(this.callbacksByEventName[t]=n)},e.prototype.addListener=function(e,t){new dt(e).listenedBy(this.aladinDiv,t)},e.prototype.select=function(){this.fire("selectstart")},e.prototype.fire=function(e,t){if("selectstart"===e)this.view.setMode(Lt.SELECT);else if("selectend"===e){this.view.setMode(Lt.PAN);var n=this.callbacksByEventName.select;"function"==typeof n&&n(t)}},e.prototype.hideBoxes=function(){if(this.boxes)for(var e=0;e<this.boxes.length;e++)this.boxes[e].hide()},e.prototype.updateCM=function(){},e.prototype.showLayerBox=function(){this.stack.show()},e.prototype.showCooGridBox=function(){this.coogrid.show()},e.prototype.layerByName=function(e){for(var t=this.view.allOverlayLayers,n=0;n<t.length;n++)if(e==t[n].name)return t[n];return null},e.prototype.exportAsPNG=function(e){var t=this;Mn(Pn().mark((function e(){var n;return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.open(),e.t0=n.document,e.next=4,t.getViewDataURL();case 4:e.t1=e.sent,e.t2='<img src="'+e.t1,e.t3=e.t2+'">',e.t0.write.call(e.t0,e.t3),n.document.title="Aladin Lite snapshot";case 9:case"end":return e.stop()}}),e)})))()},e.prototype.getViewDataURL=function(){var e=Mn(Pn().mark((function e(t){var n;return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"object"!==qn(t=t||{})&&(t={format:t}),e.next=4,this.view.getCanvasDataURL(t.format,t.width,t.height);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.prototype.getViewWCS=function(e){var t=this.getRaDec(),n=this.getFov();return{NAXIS:2,NAXIS1:this.view.width,NAXIS2:this.view.height,RADECSYS:"ICRS",CRPIX1:this.view.width/2,CRPIX2:this.view.height/2,CRVAL1:t[0],CRVAL2:t[1],CTYPE1:"RA---SIN",CTYPE2:"DEC--SIN",CD1_1:n[0]/this.view.width,CD1_2:0,CD2_1:0,CD2_2:n[1]/this.view.height}},e.prototype.setFovRange=e.prototype.setFOVRange=function(e,t){if(e>t){var n=e;e=t,t=n}this.view.minFOV=e,this.view.maxFOV=t},e.prototype.pix2world=function(e,t){if(this.view)try{var n=Nn(this.view.aladin.webglAPI.screenToWorld(e,t),2),i=n[0],a=n[1];return i<0?[i+360,a]:[i,a]}catch(o){return}},e.prototype.world2pix=function(e,t){if(this.view)try{return this.view.aladin.webglAPI.worldToScreen(e,t)}catch(n){return}},e.prototype.getFovCorners=function(e){(!e||e<1)&&(e=1);for(var t,n,i,a,o=[],r=0;r<4;r++){t=0==r||3==r?0:this.view.width-1,n=r<2?0:this.view.height-1,i=r<2?this.view.width-1:0,a=1==r||2==r?this.view.height-1:0;for(var l=0;l<e;l++){var s=this.webglAPI.screenToWorld(t+l/e*(i-t),n+l/e*(a-n));o.push(s)}}return o},e.prototype.getFov=function(){var e=this.view.fov,t=this.getSize(),n=t[1]/t[0]*e;return[e=Math.min(e,180),n=Math.min(n,180)]},e.prototype.getSize=function(){return[this.view.width,this.view.height]},e.prototype.getParentDiv=function(){return t()(this.aladinDiv)},e}(),Hn={aladin:function(e,n){return new jn(t()(e)[0],n)},source:function(e,t,n,i){return new Ut(e,t,n,i)},marker:function(e,t,n,i){return(n=n||{}).marker=!0,Hn.source(e,t,i,n)},polygon:function(e){var t=e.length;return t>0&&(e[0][0]==e[t-1][0]&&e[0][1]==e[t-1][1]||e.push([e[0][0],e[0][1]])),new M(e)},polyline:function(e,t){return new Ht(e,t)},circle:function(e,t,n,i){return new N([e,t],n,i)},ellipse:function(e,t,n,i,a,o){return new jt([e,t],n,i,a,o)},graphicOverlay:function(e){return new qt(e)},catalog:function(e){return new Vt(e)},catalogHiPS:function(e,t){return new Gt(e,null,null,t)}};jn.prototype.box=function(e){var t=new Box(e);return t.$parentDiv.appendTo(this.aladinDiv),t},jn.prototype.showPopup=function(e,t,n,i){this.view.catalogForPopup.removeAll();var a=Hn.marker(e,t,{popupTitle:n,popupDesc:i,useMarkerDefaultIcon:!1});this.view.catalogForPopup.addSources(a),this.view.catalogForPopup.show(),this.view.popup.setTitle(n),this.view.popup.setText(i),this.view.popup.setSource(a),this.view.popup.show()},jn.prototype.hidePopup=function(){this.view.popup.hide()},jn.prototype.getShareURL=function(){var e=this.getRaDec(),t=new R;return t.prec=7,t.lon=e[0],t.lat=e[1],jn.URL_PREVIEWER+"?target="+encodeURIComponent(t.format("s"))+"&fov="+this.getFov()[0].toFixed(2)+"&survey="+encodeURIComponent(this.getBaseImageLayer().id||this.getBaseImageLayer().rootUrl)},jn.prototype.getEmbedCode=function(){var e=this.getRaDec(),t=new R;t.prec=7,t.lon=e[0],t.lat=e[1];this.getBaseImageLayer().id;var n="",i="\n";return n+='<div id="aladin-lite-div" style="width:400px;height:400px;"></div>\n',n+='<script src="https://aladin.cds.unistra.fr/AladinLite/api/v3/latest/aladin.js" charset="utf-8"><\/script>\n',n+="<script>\n",n+="let aladin;\nA.init.then(() => {\n   aladin = A.aladin('#aladin-lite-div', {survey: 'P/DSS2/color', fov: "+this.getFov()[0].toFixed(2)+', target: "'+t.format("s")+'"});'+"\n});"+i,n+="<\/script>"},jn.prototype.displayFITS=function(e,t,n,i){var a={url:e};(t=t||{}).color&&(a.color=!0),t.outputFormat&&(a.format=t.outputFormat),t.order&&(a.order=t.order),t.nocache&&(a.nocache=t.nocache);var o=this;(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i={method:n};return"GET"===n?e+="?"+new URLSearchParams(t).toString():i.body=JSON.stringify(t),fetch(e,i).then((function(e){return e.json()}))}(e,t,"GET")})("https://alasky.unistra.fr/cgi/fits2HiPS",a).then(function(){var e=Mn(Pn().mark((function e(a){var r,l,s,c;return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"==a.status){e.next=4;break}return console.error("An error occured: "+a.message),i&&i(a.message),e.abrupt("return");case 4:r=t.label||"FITS image",l=a.data.meta,s=o.createImageSurvey(a.data.url,r),o.setOverlayImageLayer(s,"overlay"),t&&t.transparency||1,c=!0,n&&(c=n(l.ra,l.dec,l.fov,s)),!0===c&&(o.webglAPI.setCenter(l.ra,l.dec),o.setFoV(l.fov));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},jn.prototype.displayJPG=jn.prototype.displayPNG=function(e,t,n,i){(t=t||{}).color=!0,t.label="JPG/PNG image",t.outputFormat="png";var a={url:e};(t=t||{}).color&&(a.color=!0),t.outputFormat&&(a.format=t.outputFormat),t.order&&(a.order=t.order),t.nocache&&(a.nocache=t.nocache);var o=this;(function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i={method:n};return"GET"===n?e+="?"+new URLSearchParams(t).toString():i.body=JSON.stringify(t),fetch(e,i).then((function(e){return e.json()}))}(e,t,"GET")})("https://alasky.unistra.fr/cgi/fits2HiPS",a).then(function(){var e=Mn(Pn().mark((function e(a){var r,l,s,c;return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"==a.status){e.next=4;break}return console.error("An error occured: "+a.message),i&&i(a.message),e.abrupt("return");case 4:r=t.label||"FITS image",l=a.data.meta,s=o.createImageSurvey(a.data.url,r),o.setOverlayImageLayer(s,"overlay"),t&&t.transparency||1,c=!0,n&&(c=n(l.ra,l.dec,l.fov)),!0===c&&(o.webglAPI.setCenter(l.ra,l.dec),o.setFoV(l.fov));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},jn.prototype.setReduceDeformations=function(e){this.reduceDeformations=e,this.view.requestRedraw()},Hn.footprintsFromSTCS=function(e){return qt.parseSTCS(e)},Hn.MOCFromURL=function(e,t,n){var i=new Nt(t);return i.dataFromFITSURL(e,n),i},Hn.MOCFromJSON=function(e,t){var n=new Nt(t);return n.dataFromJSON(e),n},Hn.catalogFromURL=function(e,t,n,i){var a=Hn.catalog(t);return Vt.parseVOTable(e,(function(e){a.addSources(e),n&&n(e)}),a.maxNbSources,i,a.raField,a.decField),a},Hn.catalogFromSimbad=function(e,t,n,i){"name"in(n=n||{})||(n.name="Simbad");var a=Xt.buildSimbadCSURL(e,t);return Hn.catalogFromURL(a,n,i,!1)},Hn.catalogFromNED=function(e,t,n,i){var a;if("name"in(n=n||{})||(n.name="NED"),e&&"object"===qn(e))"ra"in e&&"dec"in e&&(a=Xt.buildNEDPositionCSURL(e.ra,e.dec,t));else if(/[a-zA-Z]/.test(e))a=Xt.buildNEDObjectCSURL(e,t);else{var o=new R;o.parse(e),a=Xt.buildNEDPositionCSURL(o.lon,o.lat,t)}return Hn.catalogFromURL(a,n,i)},Hn.catalogFromVizieR=function(e,t,n,i,a){"name"in(i=i||{})||(i.name="VizieR:"+e);var o=Xt.buildVizieRCSURL(e,t,n,i);return console.log(o),Hn.catalogFromURL(o,i,a,!1)},Hn.catalogFromSkyBot=function(e,t,n,i,a,o,r){a=a||{},"name"in(o=o||{})||(o.name="SkyBot");var l=Xt.buildSkyBotCSURL(e,t,n,i,a);return Hn.catalogFromURL(l,o,r,!1)},Hn.hipsDefinitionFromURL=function(e,t){ft.fromURL(e,t)},Hn.getAvailableListOfColormaps=function(){return Dt.COLORMAPS},Hn.init=Mn(Pn().mark((function e(){var t;return Pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.createElement("canvas").getContext("webgl2")){e.next=8;break}return e.next=4,s.e(642).then(s.bind(s,642));case 4:t=e.sent,jn.wasmLibs.webgl=t,e.next=9;break;case 8:throw"WebGL2 not supported by your browser";case 9:case"end":return e.stop()}}),e)})))(),window.A=Hn})()})();